!function(a,b,c,d,e,f){"use strict";var g={};e.inputSearch=function(b,d,h){function i(a){var b,c=[];for(b=0;b<a.length;b++)c.push({label:a[b],value:a[b]});return c}function j(){q.trigger("apexbeforerefresh"),g={},f(b).setValue(""),q.ojInputSearch(t),q.trigger("apexafterrefresh")}var k,l,m,n,o,p,q=a("#"+c.escapeCSS(b+"_HIDDEN"),apex.gPageContext$),r=a("#"+c.escapeCSS(b)+"_LABEL",apex.gPageContext$),s=a("#"+c.escapeCSS(b),apex.gPageContext$),t=a.extend({ajaxIdentifier:null,itemsToSubmit:"",dependingOnSelector:"",optimizeRefresh:!0,matchCaseSensitive:!1,matchContains:!0,maxOptions:null,lazyLoad:!1,cache:!0,width:null,maxLength:null,elementAttributes:null,isEscaped:!0,minLength:1,placeholder:"",title:""},h),u=a.ui.keyCode;!t.lazyLoad&&d&&(t.options=i(d)),o=f.create(b,{enable:function(){q.ojInputSearch({disabled:!1})},disable:function(){q.ojInputSearch({disabled:!0})},getValue:function(){return l.val()},setValue:function(a){q.val(a),l.val(a)},setFocusTo:function(){return l},getPopupSelector:function(){return".oj-listbox-results"},reinit:function(a){g={},this.setValue(a,null,!0)},delayLoading:!0,isChanged:function(){return p!==l.val()},setStyleTo:function(){return l}}),require(["ojs/ojcore","ojs/ojselectcombobox"],function(d){var f;if(k=t.options,t.options=function(d){return new Promise(function(f,h){var j,l,m,n="",o="",p=[],r=d.term;if(void 0!==d.term)if(t.lazyLoad){if(t.cache&&(j=b+"_"+r,g[j]))return void f(g[j]);e.util.cascadingLov(q,t.ajaxIdentifier,{x01:r,pageItems:a(t.itemsToSubmit,apex.gPageContext$)},{optimizeRefresh:t.optimizeRefresh,dependingOn:a(t.dependingOnSelector,apex.gPageContext$),success:function(a){var b=i(a);t.cache&&(g[j]=b),f(b)},target:q})}else{for(t.matchContains||(n="^"),n+=c.escapeRegExp(r),t.matchCaseSensitive||(o="i"),m=new RegExp(n,o),l=0;l<k.length&&(!t.maxOptions||p.length<t.maxOptions);l++)k[l].label.match(m)&&p.push(k[l]);f(p)}})},q.ojInputSearch(t),p=q.val(),t.dependingOnSelector&&a(h.dependingOnSelector,apex.gPageContext$).change(function(){q.trigger("apexrefresh")}),q.on("apexrefresh",j),l=a(q.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-input"})),n=a(q.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-search"})),m=l.closest(".oj-inputsearch-choice"),t.width&&l.attr("size",t.width),t.maxLength&&l.attr("maxlength",t.maxLength),t.elementAttributes){var v,w,x,y=c.htmlBuilder();y.markup("<input ").attr("id","customAttrHolder").attr("class","uVisuallyHidden").markup(t.elementAttributes).markup(" />"),a("body").append(y.toString()),v=a("#customAttrHolder"),x=v[0].attributes;for(w in x)x.hasOwnProperty(w)&&a.inArray(x[w].name,["id","class"])===-1&&l.attr(x[w].name,x[w].value);v.remove()}q.removeClass("oj-component-initnode"),f=q.attr("class"),q.attr("class","oj-component-initnode"),l.addClass("apex-item-text apex-item-auto-complete").addClass(f).attr("aria-labelledby",c.escapeCSS(b)+"_LABEL").val(p),m.addClass("oj-text-field-container"),q.on("ojbeforeexpand",function(){var b=c.escapeCSS(l.attr("aria-owns"));a("#"+b).attr("tabindex","-1")}),l.on("keydown",function(a){a.which===u.ENTER&&s.toggleClass("js-uses-enter",l.closest(".oj-inputsearch").hasClass("oj-listbox-dropdown-open"))}),r.on("click",function(){l.focus()}),n.remove(),s.find("span.apex-item-icon").insertAfter(l),o.resolve()})}}(apex.jQuery,apex.server,apex.util,apex.debug,apex.widget,apex.item);
!function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a){return e.getMessage(a)}function n(a){return e.getMessage("APEX.IG."+a)}function o(){var b,c=[];for(b=0;b<Je.length;b++)c.push(a.extend(!0,{},Je[b]));return c.toolbarFind=Je.toolbarFind,c.toolbarRemove=Je.toolbarRemove,c.toolbarInsertAfter=Je.toolbarInsertAfter,c}function p(a,b,c,d){function e(a){var f,g;for(f=0;f<a.length;f++){if(g=a[f],g.id===b||g.action===b)return c&&a.splice(f,1),d&&a.splice(f+1,0,d),g;if("subMenu"===g.type&&(g=e(g.menu.items)))return g}return null}var f,g,h,i,j,k,l=a;for(f=0;f<l.length;f++){if(k=l[f],k.id===b)return c&&l.splice(f,1),d&&l.splice(f+1,0,d),k;if(h=k.controls)for(g=0;g<h.length;g++){if(i=h[g],i.id===b||i.action===b)return c&&h.splice(g,1),d&&h.splice(g+1,0,d),i;if(i.menu&&(j=e(i.menu.items)))return j}}return null}function q(a){return{label:a||"ENABLED",alignment:Xb,defaultValue:!0,columnCssClasses:xb,cellTemplate:Jb,width:80,noStretch:!0,seq:10}}function r(a,b){a.recordView("fieldElement",b).hide()}function s(a,b){a.recordView("fieldElement",b).show()}function t(a){return new Date(parseInt(a.substr(0,4),10),parseInt(a.substr(4,2),10)-1,parseInt(a.substr(6,2),10),parseInt(a.substr(8,2),10),parseInt(a.substr(10,2),10),parseInt(a.substr(12,2),10))}function u(a){return("000"+a.getFullYear()).substr(-4)+("0"+(a.getMonth()+1)).substr(-2)+("0"+a.getDate()).substr(-2)+("0"+a.getHours()).substr(-2)+("0"+a.getMinutes()).substr(-2)+("0"+a.getSeconds()).substr(-2)}function v(a,b,c){a.splice(c,0,a.splice(b,1)[0])}function w(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b].replace(/^\s+|\s+$/gm,""),""!==c&&d.indexOf(c)===-1&&d.push(c);return d}function x(a){var b=a;switch(a){case nc:b="group-by";break;case oc:b="saved-report";break;case pc:b="inactive-settings";break;case qc:b="invalid-settings";break;case Cc:b="control-break";break;case Ec:b="save-report";break;case Dc:b="save-report"}return b}function y(a,b,c,d,e,f){var g;for(f||b.push({value:e,label:f}),g=0;g<a.length;g++)b.push({value:a[g][c],label:a[g][d]})}function z(b,c){var d;if(!a.isEmptyObject(c))for(d in c)c.hasOwnProperty(d)&&b.attr("data-"+d,c[d])}function A(b,c){var d,e=a.extend({id:"",type:Mb,value:"",maxChars:"",title:"",ariaDescribedBy:"",name:"",size:"",placeholder:"",readonly:!1,checked:!1,disabled:!1,required:!1,cssClasses:[],data:{},attributes:{}},c),f=e.cssClasses,g=e.attributes;if(b.markup("<input").attr("id",e.id).attr("type",e.type).attr("value",e.value).optionalAttr("maxlength",e.maxChars).optionalAttr("title",e.title).optionalAttr(Gb,e.ariaDescribedBy).optionalAttr("name",e.name).optionalAttr("size",e.size).optionalAttr("placeholder",e.placeholder).optionalBoolAttr("readonly",e.readonly).optionalBoolAttr(hc,e.checked).optionalBoolAttr(gc,e.disabled).optionalBoolAttr(fc,e.required),f.length>0&&b.attr(ad,a.isArray(f)?f.join(" "):f),z(b,e.data),!a.isEmptyObject(g))for(d in g)g.hasOwnProperty(d)&&b.attr(d,g[d]);b.markup(" />")}function B(b,c){var d=a.extend({cssClasses:_a,maxChars:"4000"},c);A(b,d)}function C(b,c){var d,e,f=a.extend({id:"",iconOnly:!1,cssClasses:"",options:[]},c);for(b.markup("<fieldset ").attr(ad,ea).attr("id",f.id+"_fieldset").markup(">"),b.markup("<ul ").attr(ad,ea+" "+f.cssClasses).attr("id",f.id+"_list").markup(">"),d=0;d<f.options.length;d++)e=f.options[d],b.markup("<li").attr("data-value",e.value).attr(ad,fa+(e.isSelected?" "+ub:"")).markup(">").markup("<span ").attr(ad,ga).attr(Hb,e.label||e.value).attr("title",e.label||e.value).markup(">").markup("<span ").attr(ad,ha+" "+mb+" "+e.iconCssClasses).attr(Fb,!0).markup("></span>"),f.iconOnly===!1&&b.markup("<span ").attr(ad,ia).markup(">").content(e.label||e.value).markup("</span>"),b.markup("</span>").markup("</li>");b.markup("</ul>"),b.markup("<input ").attr("type","hidden").attr(Fb,!0).attr("id",f.id).markup(">"),b.markup("</fieldset>")}function D(c,d){function e(a){f.iconList("setSelection",f.find('li[data-value="'+b.escapeHTMLAttr(a)+'"]'),!1)}var f=a("#"+c+"_list");f.iconList({multiple:!1,selectionChange:function(){a("#"+c).val(a(this).iconList("getSelectionValues")).change()}}),e(d),a("#"+c).change(function(){e(a("#"+c).val())})}function E(b,c){var d,e,f,g,h=a.extend({id:"",buttonClass:"",label:"",icon:"",iconOnly:!1,iconPosition:Lb,tabindex:"",attributes:{},data:{}},c);if(d=fb+(c.buttonClass?" "+c.buttonClass:""),e=mb+(c.icon?" "+c.icon:""),f=c.icon&&!c.iconOnly,b.markup("<button type='button'").optionalAttr("id",h.id).optionalAttr("tabindex",h.tabindex).attr(ad,d),c.iconOnly&&h.label&&b.attr("title",h.label).attr(Hb,h.label),!a.isEmptyObject(h.attributes))for(g in h.attributes)h.attributes.hasOwnProperty(g)&&b.attr(g,h.attributes[g]);z(b,h.data),b.markup(">"),f&&h.iconPosition===Kb&&b.markup("<span").attr(Fb,!0).attr(ad,e+" "+nb).markup("></span>"),c.iconOnly?b.markup("<span").attr(Fb,!0).attr(ad,e).markup("></span>"):h.label&&b.markup("<span").attr(ad,hb).markup(">").content(h.label).markup("</span>"),f&&h.iconPosition===Lb&&b.markup("<span").attr(Fb,!0).attr(ad,e+" "+ob).markup("></span>"),b.markup("</button>")}function F(b,c){b.markup("<fieldset ").attr(ad,"color_picker").attr("id",c.id+"_fieldset").markup(">"),b.markup("<span ").attr(ad,db).attr("style","height: 24px").markup(">"),B(b,a.extend({cssClasses:"color_picker "},c)),E(b,{id:c.id+"_PICKER",buttonClass:ib+" "+jb+" "+yb,label:e.formatMessage("APEX.IG.OPEN_COLORPICKER",c.itemLabel),icon:"icon-color-picker",iconOnly:!0,attributes:{"aria-haspopup":!0,"aria-expanded":!1}}),c.colorMenuId&&E(b,{id:c.id+"_COLORS",buttonClass:ib+" "+jb+" "+yb,label:n("COLORS"),attributes:{"data-menu":c.colorMenuId,"aria-haspopup":!0,"aria-expanded":!1}}),b.markup("</span>"),b.markup("</fieldset>")}function G(b,c){A(b,a.extend({type:Qb},c))}function H(b,c){var d=a.extend({id:"",cssClasses:bb,cols:"30",rows:"4",name:"",placeholder:"",disabled:!1,readonly:!1,required:!1,toolbar:!1,style:"resize: both;",wrap:"virtual"},c);d.toolbar&&(b.markup("<fieldset ").attr("id",c.id+"_fieldset").markup(">"),b.markup("<div").attr("id",d.id+"_toolbar").markup("></div>")),b.markup("<textarea").attr("id",d.id).attr(ad,d.cssClasses).attr("cols",d.cols).attr("rows",d.rows).optionalAttr("name",d.name).optionalAttr("placeholder",d.placeholder).optionalAttr("style",d.style).optionalAttr("wrap",d.wrap).optionalBoolAttr(gc,d.disabled).optionalBoolAttr("readonly",d.readonly).optionalBoolAttr(fc,d.required).markup(">").markup("</textarea>"),d.toolbar&&b.markup("</fieldset>")}function I(b,c){var d=a.extend({cssClasses:"",text:"",data:{}},c);b.markup("<a href='#'").attr(ad,d.cssClasses),z(b,d.data),b.markup(">").content(d.text).markup("</a>")}function J(b,c){var d,e=a.extend({cssClasses:$a,labelFor:"",label:"",labelHidden:!1,labelTextHidden:!1},c);d=e.cssClasses,e.labelHidden&&(d+=" "+Ab),b.markup("<label").attr(ad,d).attr("for",e.labelFor).markup(">"),e.labelTextHidden?b.markup("<span").attr(ad,Ab).markup(">").content(e.label).markup("</span>"):b.content(e.label),b.markup("</label>")}function K(b,c){A(b,a.extend({type:"radio"},c))}function L(b,c){var d,e,f,g=a.extend({id:"",label:"",name:"",radios:[]},c);for(b.markup("<div role='group'").attr("id",g.id).attr(Ib,"id1").markup(">"),d=0;d<g.radios.length;d++)e=g.radios[d],f=g.id+"_"+d,K(b,{name:g.name,id:f,value:e.value,checked:e.checked,cssClasses:ca}),J(b,{labelFor:f,cssClasses:da,label:e.label});b.markup("</div>")}function M(b,c){var d,e,f=a.extend({id:"",cssClasses:ab,size:"1",title:"",required:!1,options:[]},c);for(b.markup("<select").optionalAttr("id",f.id).attr(ad,f.cssClasses).attr("size",f.size).optionalAttr("title",f.title).optionalBoolAttr(fc,f.required).markup(">"),d=0;d<f.options.length;d++)e=f.options[d],b.markup("<option").attr("value",e.value).optionalBoolAttr("selected",e.isSelected).markup(">").content(e.label||e.value).markup("</option>");b.markup("</select>")}function N(b){var c;for(a.isArray(b)||(b=[b]),c=0;c<b.length;c++)j(b[c][0]).show()}function O(b){var c;for(a.isArray(b)||(b=[b]),c=0;c<b.length;c++)j(b[c][0]).hide()}function P(a,b){a.closest(Za).find("."+$a).text(m(b))}function Q(b,c){var d,e;for(a.isArray(b)||(b=[b]),d=0;d<b.length;d++)e=b[d],e.prop(fc,c).closest(Za).toggleClass("is-required",c)}function R(a,c){var d,f,g,j="apexDialogPromptInputId",k=b.htmlBuilder(),l=b.getTopApex().jQuery;k.markup("<div class='u-Form u-Form--labelsAbove u-Form--stretchInputs'>").markup("<div class='u-Form-fieldContainer'><div class='u-Form-labelContainer  u-tS'><span class='u-Form-label'>"),J(k,{labelFor:j,label:m(a.labelKey)}),k.markup("</span></div><div class='u-Form-inputContainer'>"),B(k,{id:j,value:a.value||"",required:!!a.required}),k.markup("</div></div></div>"),d=l(k.toString()),g={title:m(a.titleKey),dialogClass:"",confirm:!0,defaultButton:!0,beforeClose:function(){f=l("#"+j).val()},callback:function(a){var b=!1;a&&(b=f),c(b)},open:function(){l("#"+j).focus()}},a.okLabelKey&&(g.okLabelKey=a.okLabelKey),a.helpKey&&(g.extraButtons=[{text:m("APEX.DIALOG.HELP"),CLASS:"ui-button-help",click:function(){e.loadMessagesIfNeeded([a.helpKey,a.helpTitleKey],function(){h.popupFieldHelp({title:m(a.helpTitleKey),helpText:m(a.helpKey)})})}}]),i.showDialog(d,g)}function S(a){Le.push(a)}var T="a-IG",U="."+T,V=T+"-header",W="."+V,X=T+"--noToolbar",Y=T+"-body",Z="."+Y,$=T+"-content",_=$+"Container",aa="."+_,ba="a-IGDialog",ca=ba+"-input-checkbox",da=ba+"-label-checkbox",ea=ba+"-iconList",fa=ea+"-item",ga=ea+"-link",ha=ea+"-icon",ia=ea+"-label",ja=T+"-controls",ka=ja+"-item",la=ka+"--",ma=ja+"-cell",na=ma+"--label",oa=ma+"--remove",pa=ja+"Checkbox",qa=pa+"Label",ra=ja+"Icon",sa=ja+"Label",ta=ja+"Container",ua="."+ta,va="a-IG-reportSummary",wa=va+"Container",xa=va+"-item",ya=va+"-item--",za=va+"-label",Aa=va+"-icon",Ba=va+"-count",Ca=va+"-value",Da=T+"-button",Ea=Da+"--controls",Fa=Da+"--remove",Ga="icon-ig-",Ha=T+"-gridView",Ia=T+"-iconView",Ja=T+"-detailView",Ka=T+"-chartView",La=T+"-recordView",Ma="a-IRR-sortWidget",Na=Ma+"-actions",Oa=Na+"-item",Pa=Ma+"-button",Qa=Ma+"-search",Ra=Ma+"-searchLabel",Sa=Ma+"-searchField",Ta=Ma+"-rows",Ua=Ma+"-row",Va="u-Form",Wa=Va+"--labelsAbove",Xa=Va+"--stretchInputs",Ya=Va+"-fieldContainer",Za="."+Ya,$a=Va+"-label",_a="apex-item-text",ab="apex-item-select",bb="apex-item-textarea",cb="a-Combobox",db="a-Combobox-wrapper",eb="hasDatepicker",fb="a-Button",gb=fb+"--noUI",hb=fb+"-label",ib=fb+"--noLabel",jb=fb+"--withIcon",kb=fb+"--calendar",lb=fb+"--iconTextButton",mb="a-Icon",nb=mb+"--left",ob=mb+"--right",pb="icon-remove",qb="a-MediaBlock",rb=qb+"-graphic",sb=qb+"-content",tb="is-active",ub="is-selected",vb="is-checked",wb="is-error",xb="js-colCheckbox",yb="js-menuButton",zb="."+xb,Ab="u-VisuallyHidden",Bb="u-textLower",Cb="u-textUpper",Db="has-button",Eb="aria-expanded",Fb="aria-hidden",Gb="aria-describedby",Hb="aria-label",Ib="aria-labelledby",Jb="<span class='ro-checkbox &\"enabledClass\".'></span><span class='u-vh'>&\"enabledText\".</span>",Kb="left",Lb="right",Mb="text",Nb="select",Ob="colorpicker",Pb="textarea",Qb="checkbox",Rb="radios",Sb="iconList",Tb="row",Ub="column",Vb="complex",Wb="start",Xb="center",Yb="destroy",Zb="delete",$b="refresh",_b="resize",ac="show",bc="hide",cc="expand",dc="expanded",ec="collapsed",fc="required",gc="disabled",hc="checked",ic="option",jc="grid",kc="icon",lc="detail",mc="chart",nc="groupby",oc="savedReport",pc="inactiveSettings",qc="invalidSettings",rc="primary",sc="alternative",tc="private",uc="public",vc="named",wc="columns",xc="filter",yc="highlight",zc="flashback",Ac="sort",Bc="aggregate",Cc="controlBreak",Dc="editReport",Ec="saveAsReport",Fc="download",Gc="asc",Hc="desc",Ic="first",Jc="last",Kc="none",Lc="scroll",Mc="set",Nc="progressive",Oc="i",Pc="u",Qc="d",Rc="region",Sc="page",Tc="~",Uc="Y",Vc="N",Wc="_meta",Xc="_vc",Yc="plain",Zc="label",$c="error",_c="valid",ad="class",bd="value",cd="action",dd="toggle",ed="radioGroup",fd={type:"separator"},gd="BUTTON",hd="MENU",id="all",jd="past",kd="future",ld="EQ",md="NEQ",nd="LT",od="LTE",pd="GT",qd="GTE",rd="LIKE",sd="NLIKE",td="N",ud="NN",vd="C",wd="NC",xd="IN",yd="NIN",zd=";",Ad="BETWEEN",Bd="NBETWEEN",Cd="LAST",Dd="NLAST",Ed="NEXT",Fd="NNEXT",Gd="REGEXP",Hd="S",Id="NS",Jd="OTEXT",Kd="CASE_INSENSITIVE",Ld="MI",Md="H",Nd="D",Od="W",Pd="M",Qd="Y",Rd="MIXED",Sd="VARCHAR2",Td="NUMBER",Ud="DATE",Vd="CLOB",Wd="TIMESTAMP",Xd="TIMESTAMP_TZ",Yd="TIMESTAMP_LTZ",Zd="area",$d="bar",_d="bubble",ae="donut",be="funnel",ce="line",de="lineWithArea",ee="pie",fe="polar",ge="radar",he="range",ie="scatter",je="stock",ke="vertical",le="horizontal",me="on",ne="off",oe="auto",pe="cartesian",qe=42,re="VALUE_REQUIRED",se="INVALID_VALUE",te="SELECT",ue=[{value:"#FFFF99",label:"APEX.IG.COLOR_YELLOW"},{value:"#99FF99",label:"APEX.IG.COLOR_GREEN"},{value:"#99CCFF",label:"APEX.IG.COLOR_BLUE"},{value:"#FFDD44",label:"APEX.IG.COLOR_ORANGE"},{value:"#FF7755",label:"APEX.IG.COLOR_RED"}],ve={EQ:"EQUALS",NEQ:"NOT_EQUALS",LT:"LESS_THAN",LTE:"LESS_THAN_OR_EQUALS",GT:"GREATER_THAN",GTE:"GREATER_THAN_OR_EQUALS",LIKE:"LIKE",NLIKE:"NOT_LIKE",N:"IS_NULL",NN:"IS_NOT_NULL",C:"CONTAINS",NC:"DOES_NOT_CONTAIN",IN:"IN",NIN:"NOT_IN",BETWEEN:"BETWEEN",NBETWEEN:"NOT_BETWEEN",LAST:"IN_THE_LAST",NLAST:"NOT_IN_THE_LAST",NEXT:"IN_THE_NEXT",NNEXT:"NOT_IN_THE_NEXT",REGEXP:"MATCHES_REGULAR_EXPRESSION",S:"STARTS_WITH",NS:"DOES_NOT_START_WITH",OTEXT:"ORACLE_TEXT"},we={SUM:"SUM",AVG:"AVG",CNT:"COUNT",CNT_DIST:"COUNT_DISTINCT",APPR_CNT_DIST:"APPROX_COUNT_DISTINCT",MIN:"MIN",MAX:"MAX",MEDIAN:"MEDIAN",LISTAGG:"LISTAGG"},xe={filter:n("FILTER"),chart:n("CHART"),groupby:n("GROUP_BY"),controlBreak:n("CONTROL_BREAK"),highlight:n("HIGHLIGHT"),aggregate:n("AGGREGATE"),flashback:n("FLASHBACK")},ye={MI:"MINUTE",H:"HOUR",D:"DAY",W:"WEEK",M:"MONTH",Y:"YEAR"},ze={LABEL:"LABEL",VALUE:"VALUE",X:"X",Y:"Y",Z:"Z",TARGET:"TARGET",HIGH:"HIGH",LOW:"LOW"},Ae=([{value:"DD-MON-RR",label:"12-JAN-16"},{value:"DD-MON-YYYY",label:"12-JAN-2016"},{value:"DD-MON",label:"12-JAN"},{value:"RR-MON-DD",label:"16-JAN-12"},{value:"YYYY-MM-DD",label:"2016-01-12"},{value:"fmDay, fmDD fmMonth, YYYY",label:m("APEX.IG_FORMAT_SAMPLE_1")},{value:"DD-MON-YYYY HH24:MI",label:"12-JAN-2016 14:30"},{value:"DD-MON-YYYY HH24:MI:SS",label:"12-JAN-2016 14:30:00"},{value:"DD-MON-YYYY HH:MIPM",label:"12-JAN-2016 02:30PM"},{value:"Month",label:m("APEX.IG_FORMAT_SAMPLE_2")},{value:"DD-MON-YYYY HH24:MI",label:"12-JAN-2016 14:30"},{value:"DD-MON-YYYY HH24.MI.SSXFF",label:"12-JAN-2016 14.30.12.867530900"},{value:"DD-MON-YYYY HH:MI:SSXFF PM",label:"12-JAN-2016 02:30:12.867530900 PM"},{value:"DD-MON-YYYY HH24:MI TZR",label:"12-JAN-2016 14:30 -07:00"},{value:"DD-MON-YYYY HH24.MI.SSXFF TZR",label:"12-JAN-2016 14.30.12.867530900 -07:00"},{value:"DD-MON-YYYY HH.MI.SSXFF PM TZR",label:"12-JAN-2016 02.30.12.867530900 PM -07:00"},{value:"SINCE",label:m("APEX.IG_FORMAT_SAMPLE_3")},{value:"SINCE_SHORT",label:m("APEX.IG_FORMAT_SAMPLE_4")}],[{value:"$1,002.54",label:{style:"currency",currency:"USD",currencyDisplay:"symbol"}},{value:"1,002.54",label:{style:"decimal",maximumFractionDigits:2}},{value:"1,002.5400",label:{style:"decimal",maximumFractionDigits:4}},{value:"1,002",label:{style:"decimal",maximumFractionDigits:0}},{value:"1,002.54-",label:{style:"decimal",maximumFractionDigits:2}},{value:"-1,002.54",label:{style:"decimal",maximumFractionDigits:2}},{value:"<1,002.54>",label:{style:"decimal",maximumFractionDigits:2}}]),Be=[{value:"DD-MON-RR",label:{pattern:"dd-MMM-yy"}},{value:"DD-MON-YYYY",label:{pattern:"dd-MMM-yyyy"}},{value:"DD-MON",label:{pattern:"dd-MMM"}},{value:"RR-MON-DD",label:{pattern:"yy-MMM-dd"}},{value:"YYYY-MM-DD",label:{pattern:"yyyy-MMM-dd"}},{value:"fmDay, fmDD fmMonth, YYYY",label:{formatType:"date",dateFormat:"full"}},{value:"DD-MON-YYYY HH24:MI",label:{pattern:"dd-MMM-yyyy HH:mm"}},{value:"DD-MON-YYYY HH24:MI:SS",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH:MIPM",label:{pattern:"dd-MMM-yyyy hh:mm a"}},{value:"Month",label:{month:"long"}},{value:"DD-MON-YYYY HH24.MI.SSXFF",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH:MI:SSXFF PM",label:{pattern:"dd-MMM-yyyy hh:mm:ss a"}},{value:"DD-MON-YYYY HH24:MI TZR",label:{pattern:"dd-MMM-yyyy HH:mm"}},{value:"DD-MON-YYYY HH24.MI.SSXFF TZR",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH.MI.SSXFF PM TZR",label:{pattern:"dd-MMM-yyyy hh:mm:ss a"}}],Ce="selectionChange",De="viewChange",Ee="reportChange",Fe="reportSettingsChange",Ge="viewModelCreate",He="save",Ie="modeChange",Je=[{id:"search",groupTogether:!0,controls:[{type:hd,id:"column_filter_button",labelKey:"APEX.IG.SELECT_COLUMNS_TO_SEARCH",icon:"icon-search",iconOnly:!0,menu:{items:[{type:dd,action:"search-case-sensitive"},fd,{type:ed,action:"filter-column"}]}},{type:"TEXT",id:"search_field",enterAction:"search"},{type:gd,action:"search"}]},{id:"reports",controls:[{type:"SELECT",action:"change-report"}]},{id:"views",controls:[{type:"RADIO_GROUP",labelKey:"APEX.IG.VIEW",action:"change-view"}]},{id:"actions1",controls:[{type:hd,id:"actions_button",labelKey:"APEX.IG.ACTIONS",menu:{items:[{type:cd,action:"show-columns-dialog"},fd,{type:cd,action:"show-filter-dialog"},{type:"subMenu",id:"data_submenu",labelKey:"APEX.IG.DATA",icon:"icon-ig-data",menu:{items:[{type:cd,action:"show-sort-dialog"},{type:cd,action:"show-aggregate-dialog"},{type:cd,action:"refresh"},{type:cd,action:"show-flashback-dialog"}]}},{type:"subMenu",id:"format_submenu",labelKey:"APEX.IG.FORMAT",icon:"icon-ig-format",menu:{items:[{type:cd,action:"show-control-break-dialog"},{type:cd,action:"show-highlight-dialog"},{type:dd,action:"stretch-columns"},{type:"subMenu",labelKey:"APEX.IG.ROWS_PER_PAGE",hide:!0,id:"rows",icon:"icon-ig-rows",menu:{items:[{type:ed,action:"change-rows-per-page"}]}}]}},{type:"subMenu",id:"selection_submenu",labelKey:"APEX.IG.SELECTION",icon:"icon-ig-selection",menu:{items:[{type:dd,action:"selection-mode"},fd,{type:cd,action:"selection-copy",accelerator:"Ctrl+C"},fd]}},fd,{type:cd,action:"chart-view"},fd,{type:"subMenu",id:"save_report_submenu",labelKey:"APEX.IG.REPORT",icon:"icon-irr-saved-report",menu:{items:[{type:cd,action:"save-report"},{type:cd,action:"show-save-report-as-dialog"},{type:cd,action:"show-edit-report-dialog"},fd,{type:cd,action:"delete-report"},fd,{type:cd,action:"reset-report"}]}},fd,{type:cd,action:"show-download-dialog"},fd,{type:cd,action:"show-help-dialog"}]}}]},{id:"actions2",controls:[{type:"TOGGLE",action:"edit"},{type:gd,hot:!0,action:"save"}]},{id:"actions3",controls:[{type:gd,action:"selection-add-row"}]},{id:"actions4",align:"end",controls:[{type:gd,action:"reset-report",labelKey:"APEX.IG.RESET",iconBeforeLabel:!0}]}];Je.toolbarInsertAfter=function(a,b){p(this,a,!1,b)},Je.toolbarRemove=function(a){return p(this,a,!0)},Je.toolbarFind=function(a){return p(this,a,!1)};var Ke={_allowInteraction:function(b){return a(b.target).closest("."+Ma).length>0||this._super(b)}};a.ui.dialog&&(a.widget("ui.dialog",a.ui.dialog,Ke),a.widget("apex.popup",a.apex.popup,Ke)),a.widget("apex.interactiveGrid",{version:"19.1",widgetEventPrefix:"interactivegrid",options:{config:{toolbarData:null,modelInstanceId:null,initActions:null,columns:[],ajaxColumns:"",regionId:"",regionStaticId:"",columnGroups:[],ajaxIdentifier:"",itemsToSubmit:"",editable:!1,submitSelectedRows:!1,parentRegionStaticId:null,trackParentSelection:!0,lazyLoading:!1,filter:{row:!0,complex:!0,isRequired:!1,maxRowCount:null,oracleText:!1},appearance:{showNullValue:"",useFixedRowHeight:!0},pagination:{type:Lc,showTotalRowCount:!1},text:{noDataFound:n("NO_DATA_FOUND"),moreDataFound:"",addRowButton:n("ADD_ROW"),help:""},toolbar:{reset:!0,save:!0,columnSelection:!0,searchField:!0,savedReports:!0,editing:!0,addRow:!0,actionMenu:!0},reportSettingsArea:{disabled:!1},features:{saveReport:{publicReportCs:"",isDeveloper:!1,authorizations:[]},download:!1,filter:!0,flashback:!0},initialSelection:!0,headingFixedTo:Sc,maxHeight:null,views:{icon:!1,detail:!1,grid:{disabled:!1,features:{reorderColumns:!0,resizeColumns:!0,sort:!0,stretchColumns:null,highlight:!0,controlBreak:!0,aggregate:!0,changeRowsPerPage:!0,cellRangeActions:!0,singleRowView:!0,gridView:!0,rowSelector:{multiSelect:!0,selectAll:!0,hideControl:!1}}},chart:{disabled:!1,features:{}}},defaultModelOptions:{},defaultGridViewOptions:{},defaultIconViewOptions:{},defaultDetailViewOptions:{},defaultSingleRowOptions:{}},savedReports:[],data:null,selectionChange:null,viewChange:null,reportChange:null,reportSettingsChange:null,viewModelCreate:null,save:null,modeChange:null},_create:function(){var d,e=this,h=this.element,i=this.options,k=a(U).length;if(!i.config)throw new Error("Missing required config option.");if(!i.savedReports)throw new Error("Missing required saved reports configuration.");if(this.idPrefix=h[0].id||"ig"+(k+1),this.viewsImpl={},this.columnMap={},this.baseModelColumns={},this.primaryKeyColumns=[],this.parentColumnNames=[],this.parentItemValues=[],this.parentModel="",this.parentRecordId=null,this.editMode=!1,this.currentSavedReportIdx="",this.toolbar$=null,this.currentFilterColumnId=null,this.searchCaseSensitive=!1,this.ignoreResizeHandler=!1,this.actions=f.createContext("InteractiveGrid",h[0]),this.reportSettingsSeq=1,this.modelReportSettingsSeq={},this.isRTL="rtl"===h.css("direction"),h.addClass(T),this._defaultIGConfig(),d=i.config,d.maxHeight&&h.height(d.maxHeight).css("overflow","hidden"),d.toolbar&&!d.toolbarData&&(d.toolbarData=o()),this._defaultColumns(),this._createBaseColumnMap(),this._defaultSavedReports(),this._registerIGViews(),this._renderIG(),this._addActions(this.actions),d.initActions&&d.initActions(this.actions),d.toolbar?(this._initToolbar(),this._updateToolbarElements()):h.addClass(X),this._forEachView(function(a,b){b.init(e)}),this._updateActions(),this.editableView=null,d.editable&&(this._forEachView(function(a,b){b.supports.edit&&(null===e.editableView?e.editableView=a:c.warn("Extra editable view ignored: "+a))}),null===this.editableView))throw new Error("No editable view for editable Interactive Grid");this.resize(),g.create(d.regionStaticId,{type:"InteractiveGrid",parentRegionId:d.parentRegionStaticId,widgetName:"interactiveGrid",refresh:function(){e.refresh()},focus:function(){e.focus()},widget:function(){return e.element},gotoError:function(a){e.gotoCell(null,a.record,a.column)},getSessionState:function(a){var b,c,d,f={beforeAsync:function(){var a=e._currentViewImpl();a.supports.edit&&a.lockActive&&a.lockActive()},afterAsync:function(){var a=e._currentViewImpl();a.supports.edit&&a.unlockActive&&a.unlockActive()}},g=[],h=[],i=e._currentViewImpl().getActiveRecordId();if(a)for(b=0;b<a.length;b++)c=e._getColumnByStaticId(a[b]),c?i&&h.push({n:c.name,v:j(a[b]).getValue()}):g.push(a[b]);return f.pageItems=g,h.length>0&&(d=e._currentViewImpl().model.getRecordMetadata(i),f.region=e._defaultAjaxRegionData({setSessionState:{values:h,"protected":d["protected"],salt:d.salt}})),f},alternateLoadingIndicator:function(a){var c,d=e._currentViewImpl();return d.internalIdentifier===jc&&!d.singleRowMode&&(c=d.view$.grid("getActiveCellFromColumnItem",a))?b.showSpinner(c,{spinnerClass:"u-Processing--cellRefresh"}):null}}),this._view(this._view(),{initialData:i.data,fetchData:d.lazyLoading}),d.headingFixedTo===Sc&&a(W,h).stickyWidget({stickToEnd:!0,bottom:function(){return h.offset().top+a(Z,h).outerHeight()-e._currentViewImpl().footerHeight()},toggleWidth:!0}),a("#"+d.regionStaticId).hasClass("resize")?h.addClass("resize").on("resize",function(){e.resize()}):l.onElementResize(h[0],function(){e.ignoreResizeHandler||e.resize()}),l.onVisibilityChange(h[0],function(a){a&&(l.updateResizeSensors(h[0]),e.actions.update("search"),e.resize())}),d.parentRegionStaticId&&d.trackParentSelection&&(this._forEachView(function(a,b){b.view$&&b.setNoDataMessage(n("SELECT_1_ROW_IN_MASTER"))}),a("#"+d.parentRegionStaticId+"_ig").on("interactivegridselectionchange.ig",b.debounce(function(a,b){var c=null;1===b.selectedRecords.length&&(c=b.selectedRecords[0]),e.setMasterRecord(b.model,c)},300)))},_setOption:function(b,c){var d=!1,e=this.options;"config"===b&&(c.modelInstanceId!==e.config.modelInstanceId&&(d=!0),c=a.extend(!0,e.config,c)),this._super(b,c),d&&this._setModelInstance(e.config.modelInstanceId)},_destroy:function(){var a=this.options.config;l.offElementResize(this.element[0]),this.element.removeClass(T+" "+X).empty(),f.removeContext("InteractiveGrid",this.element[0]),this._destroyAllModels(),this._forEachView(function(a,b){b.destroy()}),g.destroy(a.regionStaticId)},_isCurrentlyEditable:function(){var a=this.options.config,b=this._currentReportSettings().flashback,c=b&&b.isEnabled;return a.editable&&!c},_setModelInstance:function(a,b,c){var d,e=this,f=!0,g=this.options.config,h=g.text.noDataFound;if(this.parentRecordId=null,g.modelInstanceId=a,null===a&&(h=n("SELECT_1_ROW_IN_MASTER"),f=!1),g.parentRegionStaticId&&(this.parentRecordId=g.modelInstanceId,this.parentItemValues=[],b&&c))for(d=0;d<this.parentColumnNames.length;d++)this.parentItemValues.push({n:this.parentColumnNames[d],v:b.getValue(c,this.parentColumnNames[d])});this._forEachView(function(a,b){b.view$&&(b.setNoDataMessage(h),e._setModel({viewImpl:b,updateComponent:!0,fetchData:f}))})},_setInitialSelection:function(a){var b,c,d,e=this.options.config;b=this._currentViewImpl(),e.initialSelection&&b.supports.selection&&(d=b.getSelectedRecords(),d&&0!==d.length||(c=b.model.recordAt(a),c&&b.setSelectedRecords([c])))},_selectionChange:function(a){var b=this._currentViewImpl(),c=b.getSelectedRecords()||[];this._updateSelectionActions(),this._trigger(Ce,a,{selectedRecords:c,model:b.model})},_pageChange:function(a){var b=this;setTimeout(function(){b._setInitialSelection(a.offset)},1)},_registerIGViews:function(){var a,b,d,e=this.options.config,f=0;for(a=0;a<Le.length;a++)b=Le[a],d=e.views[b.internalIdentifier],d&&!d.disabled&&(this._registerView(b),f+=1);0===f&&c.error("No views registered.")},_isViewRegistered:function(a){return!!this.viewsImpl[a]},_registerView:function(b){var c=this,d=a.extend(!0,{supports:{edit:!1,selection:!0,cellSelection:!1,highlight:!1,controlBreak:!1,aggregation:!1,singleRowView:!1,configurableColumns:!1,filter:!0,sort:!0,changeRowsPerPage:!0,download:!1,totalRows:!0},isConfigured:function(){return!!c._currentReportSettings().views[this.internalIdentifier]},initDialog:null,openDialog:function(){!this.dialog$&&this.initDialog&&this.initDialog(c),this.dialog$.dialog("open")},clearModelData:function(){this.model.getOption("parentModel")&&!this.model.getOption("parentRecordId")||(c.modelReportSettingsSeq[this.model.modelId()]=c.reportSettingsSeq,this.model.clearData())},setColumnConfig:function(){},init:function(){},updateActions:function(){},initView:function(){},viewChanged:function(){},setReportOptions:function(){},destroyView:function(){},destroy:function(){},getSelectedRecords:function(){return[]},setSelectedRecords:function(){},getActiveRecordId:function(){return null},getContextRecord:function(){return[]},gotoCell:null,selectCells:null,getColumns:null,canCopy2Clipboard:function(){return!1},setModelName:function(){},setEditMode:function(a){},finishEditing:null,setNoDataMessage:function(a){},focus:function(){},refreshColumns:function(){},footerHeight:function(){return 0},refresh:function(){},resize:function(){},show:function(){this.view$.show()},hide:function(){this.view$.hide()}},b);d.model=null,d.modelName=null,d.modelColumns=null,d.view$=null,d.elementId=d.internalIdentifier+Xc,this.viewsImpl[d.internalIdentifier]=d},_forEachView:function(a){var b,c;for(b in this.viewsImpl)this.viewsImpl.hasOwnProperty(b)&&(c=this.viewsImpl[b],a(b,c))},_getPaginationConfig:function(b,c){var d={},e=b.pagination;return c&&b[c].pagination&&(d=a.extend({},b[c].pagination)),d.scroll=e.type===Kc||e.type===Lc,d.hasOwnProperty("showPageLinks")||(d.showPageLinks=e.type===Mc&&e.showTotalRowCount),d.hasOwnProperty("firstAndLastButtons")||(d.firstAndLastButtons=e.type===Mc&&e.showTotalRowCount),d.hasOwnProperty("showRange")||(d.showRange=!0),d},_renderDialogContent:function(a){var c,d=this,e=b.htmlBuilder();c=function(a,b){d._renderColumnItem(e,a,b)},e.markup("<div").attr(ad,"a-GV-columnItemContainer u-vh").attr(Fb,!0).markup(">"),a(c,e),e.markup("</div>"),this.element.append(e.toString())},_createDialog:function(b,c,d){var e,f,g,h,i,j,k,l,m=a.extend(!0,{width:600,height:380,labelAlignment:Wb,formCssClasses:Wa+" "+Xa,useSplitter:!0,splitterPosition:280,persistSplitter:b,noDataMessage:n("NO_DATA_FOUND"),modelOptions:{shape:"record",editable:!0,onlyMarkForDelete:!1,identityField:"id"}},d);b+="Dialog",i=b+"$",j=this._getId(b.replace(/[A-Z]/g,function(a){return"_"+a.toLowerCase()})),h=m.dialogHelp,h||(m.dialogHelp=h={}),h.helpTextKey="APEX.IG.HELP."+(h.helpTextKey||m.titleKey),h.titleKey=h.titleKey?"APEX.IG.HELP."+h.titleKey:h.helpTextKey+"_TITLE",m.titleKey="APEX.IG."+m.titleKey,m.modelName=m.modelName?this._getId(m.modelName):j,f=m.modelOptions.fields;for(e in f)f.hasOwnProperty(e)&&(g=f[e],g.label&&(g.label=n(g.label),g.heading||"table"!==m.modelOptions.shape||(g.heading=g.label)),g.elementId&&(g.elementId=this._getId(g.elementId)));return d.checkboxColumn&&(l=m.init,m.init=function(b,c,d){var e="isEnabled";c.on("click",zb,function(){var d=a(this),f=c.grid("getRecords",[d.parent()])[0],g=!b.getValue(f,e);b.setValue(f,"enabledClass",g?vb:""),b.setValue(f,"enabledText",n(g?"ENABLED":"DISABLED")),b.setValue(f,e,g)}).on("keydown",zb,function(b){b.which===a.ui.keyCode.SPACE&&a(this).trigger("click")}),r(d,e),l.call(this,b,c,d)},f.enabledClass={"volatile":!0,canHide:!1,hidden:!0,seq:0,defaultValue:vb},f.enabledText={"volatile":!0,canHide:!1,hidden:!0,seq:0,defaultValue:n("ENABLED")}),this._renderDialogContent(c),k=a.apex.recordView.createModelEditDialog(j,m),d.viewDialog||(this[i]=k),k},_renderColumnItem:function(a,b,c){switch(a.markup("<div").attr(ad,"a-GV-columnItem").markup(">"),c.id&&(c.id=this._getId(c.id)),b){case Qb:G(a,c);break;case Nb:M(a,c);break;case Mb:B(a,c);break;case Pb:H(a,c);break;case Rb:L(a,c);break;case Ob:c.colorMenu&&(c.colorMenuId=this._getId("color_menu")),F(a,c);break;case Sb:C(a,c)}a.markup("</div>")},_renderReportSettingsDialog:function(){var b,c=[],d=[],e=this.options.config,f=e.features.saveReport.isDeveloper,g=this;f&&(c.push({value:rc,label:n("PRIMARY")}),c.push({value:sc,label:n("ALTERNATIVE")})),c.push({value:tc,label:n("SAVED_REPORT_PRIVATE")}),e.features.saveReport.publicReportCs&&c.push({value:uc,label:n("SAVED_REPORT_PUBLIC")}),y(e.features.saveReport.authorizations,d,"r","d","",n(te)),this._createDialog("reportSettings",function(a){a(Nb,{id:"SRD_TYPE",options:c}),a(Mb,{id:"SRD_NAME"}),a(Nb,{id:"SRD_AUTHORIZATION",options:d})},{height:350,titleKey:"REPORT",defaultButton:!0,modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},type:{label:"TYPE",elementId:"SRD_TYPE",seq:10,defaultValue:vc},name:{label:"NAME",elementId:"SRD_NAME",seq:20},authorizationId:{label:"AUTHORIZATION",elementId:"SRD_AUTHORIZATION",seq:30}}},load:function(c){var d,e=a(this),h=e.dialog(ic,"saveAs"),i=a.extend({id:"",type:"",name:"",authorizationId:""},g._currentReportSettings());return d=h?"REPORT_SAVE_AS":"REPORT_EDIT",e.dialog(ic,"title",n(d)),b=i.type,h&&(i.name="",f?i.type=tc:a.inArray(i.type,[rc,sc])>-1&&(i.type=tc)),c.setData(i),g._report()},init:function(c,d,e){function f(){var a,c,d=k.dialog(ic,"saveAs");switch(c=d&&b===rc,h.find("option[value="+rc+"]").prop(gc,c),a=h.val(),h.prop(gc,!1),Q(i,!0),O(j),a){case rc:b===rc&&h.prop(gc,!0),Q(i,!1);break;case sc:N(j);break;case tc:break;case uc:}}var h=g._getElement("SRD_TYPE"),i=g._getElement("SRD_NAME"),j=g._getElement("SRD_AUTHORIZATION"),k=a(this);h.change(f),e.on("apexbeginrecordedit",f)},store:function(b){var c=a(this).dialog(ic,"saveAs"),d=b.getRecord();c?(d.baseReportId=d.id,g.addReport(d)):g.updateReport(d.id,d),g._updateReportSettingsActions()}})},_renderDownloadDialog:function(){var b=this,c=n("MAILADDRESSES_COMMASEP"),d=this.options.config.features.download,e=[],f=[],g=[];d&&d.formats.indexOf("CSV")!==-1&&e.push({value:"CSV",label:n("FORMAT_CSV"),iconCssClasses:"icon-ig-dl-xls"}),d&&d.formats.indexOf("HTML")!==-1&&e.push({value:"HTML",
label:n("FORMAT_HTML"),iconCssClasses:"icon-ig-dl-html"}),d&&d.formats.indexOf("PDF")!==-1&&(e.push({value:"PDF",label:n("FORMAT_PDF"),iconCssClasses:"icon-ig-dl-pdf"}),f=[{value:"LETTER",label:n("PRINT_PAGE_SIZE.LOV.LETTER.D")},{value:"LEGAL",label:n("PRINT_PAGE_SIZE.LOV.LEGAL.D")},{value:"TABLOID",label:n("PRINT_PAGE_SIZE.LOV.TABLOID.D")},{value:"A4",label:n("PRINT_PAGE_SIZE.LOV.A4.D")},{value:"A3",label:n("PRINT_PAGE_SIZE.LOV.A3.D")}],d&&d.print&&"CUSTOM"===d.print.paperSize&&f.unshift({value:"CUSTOM",label:n("PRINT_PAGE_SIZE.LOV.CUSTOM.D")}),g=[{value:"VERTICAL",label:n("PRINT_ORIENTATION.LOV.VERTICAL.D")},{value:"HORIZONTAL",label:n("PRINT_ORIENTATION.LOV.HORIZONTAL.D")}]),this._createDialog(Fc,function(a){a(Sb,{id:"DL_DOWNLOAD_FORMAT",options:e}),a(Nb,{id:"DL_PRINT_PAGE_SIZE",options:f}),a(Nb,{id:"DL_PRINT_ORIENTATION",options:g}),a(Qb,{id:"DL_PRINT_ACCESSIBLE",value:Uc}),a(Qb,{id:"DL_SEND_AS_EMAIL",value:Vc}),a(Mb,{id:"DL_EMAIL_TO",placeholder:c}),a(Mb,{id:"DL_EMAIL_CC",placeholder:c}),a(Mb,{id:"DL_EMAIL_BCC",placeholder:c}),a(Mb,{id:"DL_EMAIL_SUBJECT"}),a(Pb,{id:"DL_EMAIL_BODY"})},{height:500,titleKey:"DOWNLOAD",modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},format:{label:"DOWNLOAD_FORMAT",elementId:"DL_DOWNLOAD_FORMAT",seq:10},sendOrDownload:{label:"SEND_AS_EMAIL",elementId:"DL_SEND_AS_EMAIL",seq:200},emailTo:{label:"EMAIL_TO",elementId:"DL_EMAIL_TO",seq:210},emailCc:{label:"EMAIL_CC",elementId:"DL_EMAIL_CC",seq:220},emailBcc:{label:"EMAIL_BCC",elementId:"DL_EMAIL_BCC",seq:230},emailSubject:{label:"EMAIL_SUBJECT",elementId:"DL_EMAIL_SUBJECT",seq:240},emailBody:{label:"EMAIL_BODY",elementId:"DL_EMAIL_BODY",seq:250},sendEmail:{canHide:!1,hidden:!0,seq:0},printPageSize:{label:"PRINT_PAGE_SIZE.PROMPT",elementId:"DL_PRINT_PAGE_SIZE",seq:100,fieldColSpan:6},printOrientation:{label:"PRINT_ORIENTATION.PROMPT",elementId:"DL_PRINT_ORIENTATION",seq:110,fieldColSpan:6},printAccessible:{label:"PRINT_ACCESSIBLE.PROMPT",elementId:"DL_PRINT_ACCESSIBLE",seq:120}}},load:function(a){var b,c,e;d&&d.formats.length>0&&(b=d.formats[0]),e=d&&d.print&&d.print.paperSize||"LETTER",c=d&&d.print&&d.print.orientation||"VERTICAL",a.setData({id:0,format:b,sendEmail:Vc,printOrientation:c,printPageSize:e,printAccessible:Vc})},init:function(c,d,e){function f(){j.prop(hc)===!0?(N([k,l,o,p,q]),Q([k,p],!0),v[g].text=n("SEND_AS_EMAIL"),u.dialog(ic,"buttons",v),null!==e.recordView("getRecord")&&c.setValue(e.recordView("getRecord"),"sendEmail",Uc)):(O([k,l,o,p,q]),Q([k,p],!1),v[g].text=n("DOWNLOAD"),u.dialog(ic,"buttons",v),null!==e.recordView("getRecord")&&c.setValue(e.recordView("getRecord"),"sendEmail",Vc))}var g,h,i=b._getElement("DL_DOWNLOAD_FORMAT"),j=b._getElement("DL_SEND_AS_EMAIL"),k=b._getElement("DL_EMAIL_TO"),l=b._getElement("DL_EMAIL_CC"),o=b._getElement("DL_EMAIL_BCC"),p=b._getElement("DL_EMAIL_SUBJECT"),q=b._getElement("DL_EMAIL_BODY"),r=b._getElement("DL_PRINT_PAGE_SIZE"),s=b._getElement("DL_PRINT_ORIENTATION"),t=b._getElement("DL_PRINT_ACCESSIBLE"),u=a(this),v=u.dialog(ic,"buttons");for(h=0;h<v.length;h++)if(v[h].text===m("APEX.DIALOG.SAVE")){g=h;break}e.on("apexbeginrecordedit",function(){var d=i.val();D(b._getId("DL_DOWNLOAD_FORMAT"),d),f(),b.options.config.features.download.email===!0?j.change(f):O(j),i.change(function(b,d){c.setValue(e.recordView("getRecord"),"format",a(this).val()),"PDF"===a(this).val()?N([r,s,t]):O([r,s,t])})})},store:function(a){var c,d=a.getRecord();c={format:d.format},"Y"===d.sendEmail&&(c.email={to:d.emailTo,subject:d.emailSubject},d.emailCc&&""!==d.emailCc&&(c.email.cc=d.emailCc),d.emailBcc&&""!==d.emailBcc&&(c.email.bcc=d.emailBcc),d.emailBody&&""!==d.emailBody&&(c.email.body=d.emailBody)),"PDF"===d.format&&(c.print={pageSize:d.printPageSize,orientation:d.printOrientation,accessible:d.printAccessible===Uc}),b._downloadReport(c)}})},_columnFilterModelFields:function(a){var b=a+"_";return{type:{label:b+"TYPE",elementId:b+"TYPE",seq:100,canHide:!0,hidden:!0,defaultValue:Ub},columnId:{label:"COLUMN",elementId:b+"COLUMN",seq:120,fieldColSpan:6,canHide:!0,hidden:!0},operator:{label:"OPERATOR",elementId:b+"OPERATOR",seq:130,fieldColSpan:6,canHide:!0,hidden:!0,defaultValue:ld},value:{label:"VALUE",elementId:b+"VALUE",seq:140,canHide:!0,hidden:!0},dateRangeValue:{label:"VALUE",elementId:b+"DATE_RANGE_VALUE",seq:141,fieldColSpan:6,canHide:!0,hidden:!0},dateRangeUnit:{label:"UNIT",elementId:b+"DATE_RANGE_UNIT",seq:142,fieldColSpan:6,canHide:!0,hidden:!0},isCaseSensitive:{label:"CASE_SENSITIVE",elementId:b+"CASE_SENSITIVE",seq:150,canHide:!0,hidden:!0,defaultValue:"N"},between:{label:"VALUE",elementId:b+"BETWEEN",seq:160,fieldColSpan:6,canHide:!0,hidden:!0},and:{label:"AND",elementId:b+"AND",seq:170,fieldColSpan:6,canHide:!0,hidden:!0},expression:{label:"EXPRESSION",elementId:b+"EXPRESSION",seq:180,canHide:!0,hidden:!0},hiddenValue:{seq:999,canHide:!0,hidden:!0},hiddenBetween:{seq:999,canHide:!0,hidden:!0},hiddenAnd:{seq:999,canHide:!0,hidden:!0}}},_renderSortControls:function(a,b){a(Nb,{id:b+"DIRECTION",required:!0,options:[{value:Gc,label:n("ASCENDING")},{value:Hc,label:n("DESCENDING")}]}),a(Nb,{id:b+"NULLS",required:!0,options:[{value:Ic,label:n("FIRST")},{value:Jc,label:n("LAST")}]})},_columnFilterDialogControls:function(a,b){var c,d,e=[],f=this.options.config.columns,g=b+"_";for(c=0;c<f.length;c++)d=f[c],("FD"===b&&this._isColumnFilterable(d.id)||"HD"===b&&!this._getColumn(d.id).specialType&&!this._getColumn(d.id).isHidden)&&e.push({value:d.id,label:this._getColumnLabel(d.id)});a(Nb,{id:g+"TYPE",options:[{value:Tb,label:n("ROW")},{value:Ub,label:n("COLUMN")}]}),a(Nb,{id:g+"COLUMN",options:e}),a(Nb,{id:g+"OPERATOR",options:[]}),a(Mb,{maxChars:4e3,id:g+"VALUE"}),a(Mb,{maxChars:20,id:g+"DATE_RANGE_VALUE"}),a(Nb,{id:g+"DATE_RANGE_UNIT",options:[{value:Ld,label:n("MINUTES")},{value:Md,label:n("HOURS")},{value:Nd,label:n("DAYS")},{value:Od,label:n("WEEKS")},{value:Pd,label:n("MONTHS")},{value:Qd,label:n("YEARS")}]}),a(Qb,{id:g+"CASE_SENSITIVE",value:Uc}),a(Mb,{maxChars:100,id:g+"BETWEEN"}),a(Mb,{maxChars:100,id:g+"AND"}),a(Mb,{maxChars:40,id:g+"NAME"}),a(Pb,{id:g+"EXPRESSION",toolbar:!0})},_columnFilterInitActions:function(b,c,d,f,g){function h(){var a;x&&null!==d.recordView("getRecord")&&(a=v._shortenString(v._getSettingLabel(xc,d.recordView("getRecord")),37),F.val(a).change())}function i(a){a.hasClass(cb)&&a.combobox(Yb),a.hasClass(eb)&&(a.parent().hasClass(db)&&a.unwrap(),a.datepicker(Yb)),a.attr("placeholder","")}function j(){function c(b,c,d){var f,g,h,i,j,k=v._getColumnFormatMask(r.id);f=k.toLowerCase().indexOf("hh")!==-1,f&&(h=(new Date).getHours(),g=k.indexOf("HH")!==-1,i="",g||(i=h>11?"PM":"AM",0===h&&(h=12),h>12&&(h-=12))),a(b).hasClass(db)||a(b).wrap(a("<span class='"+db+"'></span>")),f?(apex.widget.datepicker(b,{buttonText:"<span class='"+mb+" icon-calendar'></span><span class='"+Ab+"'>"+e.formatMessage("APEX.DATEPICKER.ICON_TEXT","")+"</span>",showTime:!0,showOn:"button",defaultDate:t(d),time24h:g,defHour:("00"+h).substr(-2),defMinute:"00",defAmpm:i},k,apex.locale.getLanguage()),j=!1,d&&null!==d.match(/^\d{14}/)&&(j=t(d),j&&!isNaN(j.getTime())&&apex.jQuery.timepicker.setCanonicalDate(a(b).get(0),j))):(apex.widget.datepicker(b,{buttonText:"<span class='"+mb+" icon-calendar'></span><span class='"+Ab+"'>"+e.formatMessage("APEX.DATEPICKER.ICON_TEXT","")+"</span>",defaultDate:t(d),showTime:!1,showOn:"button"},k,apex.locale.getLanguage()),d&&null!==d.match(/^\d{14}/)&&a(b).datepicker("setDate",t(d))),a(b).next("button").addClass(fb+" "+jb+" "+ib+" "+yb+" "+kb),a(b).attr("placeholder",n("EXAMPLE")+": "+r.appearance.formatExample)}var f,g,h,j;j=d.recordView("getRecord"),f=b.getValue(j,"hiddenValue"),g=b.getValue(j,"hiddenBetween"),h=b.getValue(j,"hiddenAnd"),i(C),i(D),i(E),a("#"+v._getId(w+"VALUE")+"_LABEL ").text(n("VALUE")),r.filter.dataType===Ud||r.filter.dataType===Wd||r.filter.dataType===Xd||r.filter.dataType===Yd?(r.filter.dataType===Xd&&a("#"+v._getId(w+"VALUE")+"_LABEL ").text(n("VALUE_TIMESTAMP_TZ")),c("#"+v._getId(w+"VALUE"),"hiddenValue",f),c("#"+v._getId(w+"BETWEEN"),"hiddenBetween",g),c("#"+v._getId(w+"AND"),"hiddenAnd",h)):(C.combobox({label:n("VALUE")}),D.combobox({label:n("VALUE")}),E.combobox({label:n("AND")}),C.val(f),D.val(g),E.val(h))}function k(a,c){null!==d.recordView("getRecord")&&b.setValue(d.recordView("getRecord"),a,c)}function l(b){var c=z.val(),d=B.val();switch(O([A,B,C,D,E,G,H,I,J]),x&&O(F),k("type",c),c){case Tb:N(C),v.options.config.filter.oracleText?(H.prop(gc,!0),O(H)):(H.prop(gc,!1),N(H)),P(C,"APEX.IG.SEARCH"),i(C),h();break;case Ub:N([A,B]),P(C,"APEX.IG.VALUE"),N(a.inArray(d,[Ad,Bd])>-1?[D,E]:a.inArray(d,[Cd,Ed,Dd,Fd])>-1?[I,J]:C),m(b)}}function m(c){var e,g,h,l,m={},p=A.val(),q=z.val();if(q===Ub&&p){if(r=v._getColumn(p),r.filter.textCase)switch(r.filter.textCase.toLowerCase()){case"upper":C.css({"text-transform":"uppercase"}),D.css({"text-transform":"uppercase"}),E.css({"text-transform":"uppercase"});break;case"lower":C.css({"text-transform":"lowercase"}),D.css({"text-transform":"lowercase"}),E.css({"text-transform":"lowercase"});break;default:C.css({"text-transform":"none"}),D.css({"text-transform":"none"}),E.css({"text-transform":"none"})}if("HD"===f)switch(r.dataType){case Sd:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),m[xd]=n(ve[xd]),m[yd]=n(ve[yd]),m[vd]=n(ve[vd]),m[wd]=n(ve[wd]),m[Hd]=n(ve[Hd]),m[Id]=n(ve[Id]),m[Gd]=n(ve[Gd]);break;case Td:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[pd]=n(ve[pd]),m[qd]=n(ve[qd]),m[nd]=n(ve[nd]),m[od]=n(ve[od]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),m[xd]=n(ve[xd]),m[yd]=n(ve[yd]),m[Ad]=n(ve[Ad]),m[Bd]=n(ve[Bd]);break;case Ud:case Wd:case Xd:case Yd:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[pd]=n(ve[pd]),m[qd]=n(ve[qd]),m[nd]=n(ve[nd]),m[od]=n(ve[od]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),a.inArray(r.filter.dateRanges,[id,jd])>-1&&(m[Cd]=n(ve[Cd]),m[Dd]=n(ve[Dd])),a.inArray(r.filter.dateRanges,[id,kd])>-1&&(m[Ed]=n(ve[Ed]),m[Fd]=n(ve[Fd])),m[Ad]=n(ve[Ad]),m[Bd]=n(ve[Bd]);break;case Vd:m[td]=n(ve[td]),m[ud]=n(ve[ud])}else for(H.prop(gc,!0),g=0;g<r.filter.operators.length;g++)if(h=r.filter.operators[g],"$std$"===h.name)switch(r.filter.dataType){case Sd:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),m[xd]=n(ve[xd]),m[yd]=n(ve[yd]);break;case Td:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[pd]=n(ve[pd]),m[qd]=n(ve[qd]),m[nd]=n(ve[nd]),m[od]=n(ve[od]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),m[xd]=n(ve[xd]),m[yd]=n(ve[yd]),m[Ad]=n(ve[Ad]),m[Bd]=n(ve[Bd]);break;case Ud:case Wd:case Xd:case Yd:m[ld]=n(ve[ld]),m[md]=n(ve[md]),m[pd]=n(ve[pd]),m[qd]=n(ve[qd]),m[nd]=n(ve[nd]),m[od]=n(ve[od]),m[td]=n(ve[td]),m[ud]=n(ve[ud]),a.inArray(r.filter.dateRanges,[id,jd])>-1&&(m[Cd]=n(ve[Cd]),m[Dd]=n(ve[Dd])),a.inArray(r.filter.dateRanges,[id,kd])>-1&&(m[Ed]=n(ve[Ed]),m[Fd]=n(ve[Fd])),m[Ad]=n(ve[Ad]),m[Bd]=n(ve[Bd]);break;case Vd:m[td]=n(ve[td]),m[ud]=n(ve[ud])}else"$perform$"===h.name?a.inArray(r.filter.dataType,[Sd,Vd])>-1&&(m[vd]=n(ve[vd]),m[wd]=n(ve[wd]),m[Hd]=n(ve[Hd]),m[Id]=n(ve[Id]),m[Gd]=n(ve[Gd]),r.filter.textCase&&"MIXED"===r.filter.textCase.toUpperCase()&&H.prop(gc,!1)):h.name===Kd?r.filter.textCase&&"MIXED"===r.filter.textCase.toUpperCase()&&H.prop(gc,!1):m[h.name]=n(ve[h.name]);l=b.getValue(d.recordView("getRecord"),"operator"),B.empty(),a.each(m,function(b,c){B.append(a("<option></option>").attr("value",b).text(c))}),l&&null!==l&&a.inArray(l,m)&&B.val(l),null===B.val()&&B.val(ld),k("operator",B.val()),j(),v._hasColumnFilterLov(p)?v._getFilterValues(p,!1,function(a){if(y=[],a.regions[0].filterValues)for(e=a.regions[0].filterValues,g=0;g<e.length;g++)y.push({label:e[g],value:e[g]});D.hasClass(cb)&&D.combobox(ic,"source",y),E.hasClass(cb)&&E.combobox(ic,"source",y),C.hasClass(cb)&&C.combobox(ic,"source",y)}):(i(C),i(D),i(E)),k("columnId",p),c&&(C.val("").change(),D.val("").change(),E.val("").change()),o()}}function o(){var b=B.val(),c=z.val();k("operator",b),c===Ub&&(O([C,D,E,I,J,H]),null!==b&&(a.inArray(r.filter.dataType,[Ud,Wd,Xd,Yd])===-1&&C.hasClass(cb)&&(a.inArray(b,[xd,yd])>-1?(C.combobox(ic,"multipleValues",!0),C.combobox(ic,"multipleValueDelimiter",zd+" "),C.prop("placeholder",e.formatMessage("APEX.IG.PLACEHOLDER_INVALUES",zd))):(C.combobox(ic,"multipleValues",!1),C.prop("placeholder",""))),a.inArray(b,[vd,wd,Gd,Hd,Id])>-1&&H.prop(gc)===!1&&N(H),a.inArray(s,[Ad,Bd])>-1&&a.inArray(b,[Ad,Bd])===-1&&C.val("").change(),a.inArray(s,[Ad,Bd])===-1&&a.inArray(b,[Ad,Bd])>-1&&(D.val("").change(),E.val("").change()),a.inArray(s,[Cd,Ed,Dd,Fd])>-1&&a.inArray(b,[Cd,Ed,Dd,Fd])===-1&&C.val("").change(),a.inArray(b,[Ad,Bd])>-1?N([D,E]):a.inArray(b,[Cd,Ed,Dd,Fd])>-1?(N([I,J]),q()):a.inArray(b,[td,ud])===-1&&N(C))),s=b,h()}function p(a){var c,e,f,g,i=v._getElement(w+a);if("VALUE"===a&&(c="hiddenValue"),"BETWEEN"===a&&(c="hiddenBetween"),"AND"===a&&(c="hiddenAnd"),b.setValidity(_c,d.recordView("getRecord").id,a.toLowerCase()),i.hasClass(eb))if(""===i.val())g="",f="";else{e=!1;try{e=i.datepicker(ic,"showTime")?apex.jQuery.timepicker.getCanonicalDate(i.get(0)):i.datepicker("getDate")}catch(j){}e&&!isNaN(e.getTime())?(g=i.val(),f=u(e)):(""!==i.val()&&b.setValidity($c,d.recordView("getRecord").id,a.toLowerCase(),n("DATE_INVALID_VALUE")),g=i.val(),f=i.val())}else"uppercase"===i.css("text-transform")?(f=i.val().toUpperCase(),g=i.val().toUpperCase()):"lowercase"===i.css("text-transform")?(f=i.val().toLowerCase(),g=i.val().toLowerCase()):(f=i.val(),g=i.val());k(c,f),k(a.toLowerCase(),g),h()}function q(){C.val(I.val()+Tc+J.val()),k("value",C.val()),k("dateRangeValue",I.val()),k("dateRangeUnit",J.val()),h()}var r,s,v=this,w=f+"_",x="FD"===f,y=[],z=v._getElement(w+"TYPE"),A=v._getElement(w+"COLUMN"),B=v._getElement(w+"OPERATOR"),C=v._getElement(w+"VALUE"),D=v._getElement(w+"BETWEEN"),E=v._getElement(w+"AND"),F=v._getElement(w+"NAME"),G=v._getElement(w+"EXPRESSION"),H=v._getElement(w+"CASE_SENSITIVE"),I=v._getElement(w+"DATE_RANGE_VALUE"),J=v._getElement(w+"DATE_RANGE_UNIT");I.change(q),J.change(q),H.change(function(){var a=H.prop(hc);k("isCaseSensitive",a),H.prop(hc,a)}),z.change(function(){l(!0)}),A.change(function(){m(!0)}),B.change(o),C.change(function(){p("VALUE")}),D.change(function(){p("BETWEEN")}),E.change(function(){p("AND")}),d.on("apexbeginrecordedit",function(){l(),a.isFunction(g)&&g()})},_renderFilterDialog:function(){var b=this;this._createDialog(xc,function(a){b._columnFilterDialogControls(a,"FD")},{titleKey:"FILTERS",dialogHelp:{helpTextKey:"FILTER"},checkboxColumn:!0,modelOptions:{shape:"table",fields:a.extend({id:{canHide:!1,hidden:!0,seq:0},isEnabled:q(),name:{headingAlignment:Wb,label:"NAME",elementId:"FD_NAME",width:100,seq:105}},this._columnFilterModelFields("FD"))},load:function(c){var d,e,f,g,h,i=[],j=b.getFilters(),k=a(this).dialog(ic,"id");if(j.length>0){for(d=0;d<j.length;d++){switch(f=a.extend({id:"",type:"",columnId:"",operator:"",value:"",hiddenValue:"",dateRangeValue:"",dateRangeUnit:"",isCaseSensitive:!1,between:"",and:"",hiddenBetween:"",hiddenAnd:"",isEnabled:"",enabledClass:"",enabledText:"",name:"",expression:""},j[d]),e=f.isEnabled,f.enabledClass=e?vb:"",f.enabledText=n(e?"ENABLED":"DISABLED"),f.name=b._getSettingLabel(xc,f),f.type){case Tb:f.hiddenValue=f.value;break;case Ub:f.hiddenValue=f.value,a.inArray(f.operator,[Ad,Bd])>-1?(g=f.value.split(Tc),f.hiddenBetween=g[0],f.hiddenAnd=g[1],f.hiddenValue="",f.value=""):a.inArray(f.operator,[Cd,Ed,Dd,Fd])>-1&&(h=f.value.split(Tc),f.dateRangeValue=h[0],f.dateRangeUnit=h[1],f.hiddenValue="",f.value=""),a.inArray(f.operator,[xd,yd])>-1&&(f.value=f.value.split("").join(zd+" "),f.hiddenValue=f.value)}f.isCaseSensitive=f.isCaseSensitive?Uc:Vc,i.push(f)}c.setData(i)}else k=c.insertNewRecord();return k},init:function(a,c,d){r(d,"hiddenValue"),r(d,"hiddenBetween"),r(d,"hiddenAnd"),b._columnFilterInitActions(a,c,d,"FD")},validate:function(c,d,e){var f=!0;return c.forEach(function(c,g,h){switch(d(h,"between"),d(h,"and"),d(h,"value"),d(h,"expression"),c.type){case Ub:switch(c.operator){case Ad:case Bd:c.hiddenBetween&&""!==c.hiddenBetween||(f=!1,e(h,"between",n(re))),c.hiddenAnd&&""!==c.hiddenAnd||(f=!1,e(h,"and",n(re))),f&&a.inArray(b._getColumn(c.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1&&(c.hiddenBetween!==u(t(c.hiddenBetween))&&(f=!1,e(h,"between",n(se))),c.hiddenAnd!==u(t(c.hiddenAnd))&&(f=!1,e(h,"and",n(se))));break;case Cd:case Ed:case Dd:case Fd:c.dateRangeValue&&""!==c.dateRangeValue||(f=!1,e(h,"dateRangeValue",n(re))),c.dateRangeUnit&&""!==c.dateRangeUnit||(f=!1,e(h,"dateRangeUnit",n(re)));break;case ld:case md:case pd:case qd:case nd:case od:case xd:case yd:c.hiddenValue&&""!==c.hiddenValue?a.inArray(b._getColumn(c.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1&&c.hiddenValue!==u(t(c.hiddenValue))&&(f=!1,e(h,"value",n("DATE_INVALID_VALUE"))):(f=!1,e(h,"value",n(re)))}break;case Tb:c.hiddenValue&&""!==c.hiddenValue||(f=!1,e(h,"value",n(re)))}}),f},store:function(c){b._ifNoChangesDo(function(){var d,e,f,g={save:!1,skipNoChangesCheck:!0},h=c.getChanges();for(d=0;d<h.length;d++){switch(e=h[d],f=e.record,delete f.enabledClass,delete f.enabledText,f.type){case Tb:delete f.expression,delete f.columnId,delete f.and,delete f.between,delete f.hiddenAnd,delete f.hiddenBetween,delete f.dateRangeValue,delete f.dateRangeUnit,delete f.operator,f.isCaseSensitive=f.isCaseSensitive===Uc;break;case Ub:f.value=f.hiddenValue,a.inArray(f.operator,[Ad,Bd])>-1?f.value=f.hiddenBetween+Tc+f.hiddenAnd:a.inArray(f.operator,[Cd,Ed,Dd,Fd])>-1&&(f.value=f.dateRangeValue+Tc+f.dateRangeUnit),a.inArray(f.operator,[xd,yd])>-1&&(f.value=w(f.value.split(zd)).join("")),delete f.dateRangeValue,delete f.dateRangeUnit,delete f.between,delete f.and,delete f.hiddenValue,delete f.hiddenBetween,delete f.hiddenAnd,delete f.expression,f.isCaseSensitive=f.isCaseSensitive===Uc}e.inserted?(delete f.id,f.columnType=Ub,b.addFilter(f,g)):e.updated?(f.columnType=Ub,b.updateFilter(f.id,f,g)):e.deleted&&b.deleteFilter(f.id,g)}b._setReportSettings({refreshModel:!0})})}})},_renderColumnsDialog:function(){function b(b){function d(a){return!(a.id!==g.columnId||a.specialType&&"actions"!==a.specialType||a.isHidden)}var e,f,g,h,i=[],j=c._getCurrentView().columns;for(e=0;e<j.length;e++)g=j[e],f=a.grep(c.options.config.columns,d),f=f.length>0&&f[0],f&&(h={id:g.columnId,columnId:g.columnId,columnWidth:g.width,seq:e+1,heading:"actions"===f.specialType?n("ROW_ACTIONS"):f.heading.label,groupId:f.layout.groupId,canHide:f.features.canHide,isVisible:g.isVisible,enabledClass:g.isVisible?vb:""},"ALL"===b?i.push(h):"VISIBLE"===b&&g.isVisible?i.push(h):"INVISIBLE"!==b||h.isVisible||i.push(h));return i}var c=this,d=[],e=this.options.config.views[this._view()].features;y(this.options.config.columnGroups,d,"id","label","",""),this._createDialog(wc,function(a){a(Mb,{id:"CD_COLUMN_WIDTH"}),a(Nb,{id:"CD_COLUMN_GROUP",options:d})},{titleKey:"COLUMNS",modelOptions:{shape:"table",canDelete:!1,canAdd:!1,sequenceField:e.reorderColumns?"seq":null,fields:{id:{canHide:!1,hidden:!0,seq:0},isVisible:q("VISIBLE"),heading:{label:"COLUMN",headingAlignment:Wb,elementId:"CD_COLUMN_HEADING",canHide:!0,hidden:!1,width:100,seq:20},groupId:{label:"GROUP",elementId:"CD_COLUMN_GROUP",canHide:!0,escape:!1,"volatile":!0,hidden:!0,seq:30},columnWidth:{label:"WIDTH",elementId:"CD_COLUMN_WIDTH",canHide:!0,hidden:!0,seq:40},columnId:{label:"COLUMN",elementId:"CD_COLUMN",seq:0,canHide:!0,hidden:!0},seq:{canHide:!1,hidden:!0,seq:0},canHide:{canHide:!1,hidden:!0,seq:0},enabledClass:{"volatile":!0,canHide:!1,hidden:!0,defaultValue:vb,seq:0}}},load:function(a){a.setData(b(this.showColumns))},init:function(c,d,e,g){var h,i=this;this.showColumns||(this.showColumns="ALL"),h=[{type:gd,iconOnly:!0,icon:"icon-up-chevron",action:"move-up"},{type:gd,iconOnly:!0,icon:"icon-down-chevron",action:"move-down"},{type:hd,labelKey:"APEX.IG.SHOW",icon:"icon-ig-select-cols",iconOnly:!0,menu:{items:[{type:ed,action:"show-columns"}]}}],f.findContext("ModelEditDialog",this).add([{name:"show-columns",choices:[{label:n("ALL"),value:"ALL"},{label:n("VISIBLE"),value:"VISIBLE"},{label:n("INVISIBLE"),value:"INVISIBLE"}],get:function(){return i.showColumns},set:function(a){i.showColumns=a;var d=b(a);c.setData(d)}}]),g.toolbar({data:[{align:"start",controls:h}]}),d.on("click",zb,function(){var b,e,f=a(this);e=d.grid("getRecords",[f.parent()])[0],c.getValue(e,"canHide")&&(b=!c.getValue(e,"isVisible"),c.setValue(e,"enabledClass",b?vb:""),c.setValue(e,"isVisible",b))}).on("keydown",zb,function(b){b.which===a.ui.keyCode.SPACE&&a(this).trigger("click")}),e.on("apexbeginrecordedit",function(){""===c.getValue(e.recordView("getRecord"),"groupId")?r(e,"groupId"):s(e,"groupId")}),r(e,"columnId"),r(e,"isVisible")},validate:function(a,b,c){var d,e=!0;return a.forEach(function(a,f,g){d=a.columnWidth,null!==d&&""!==d&&isNaN(parseInt(d,10))?(c(g,"columnWidth",n(se)),e=!1):b(g,"columnWidth")}),e},store:function(a){var b,d,e,f=!1,g=c._getCurrentView().columns,h=c._currentViewImpl().getColumns();for(g.sort(function(a,b){return a.seq-b.seq}),b=0;b<g.length;b++)g[b].isFrozen===!0&&(f=b+1);for(a.forEach(function(a){e=a.columnWidth,e&&null!==e||(e=""),e=e.toString(),c._currentViewColumn(a.columnId,{isVisible:a.isVisible,width:parseInt(e,10),seq:parseFloat(a.seq)})}),g.sort(function(a,b){return a.seq-b.seq}),b=0;b<g.length;b++)for(d=0;d<h.length;d++)if(g[b].columnId===h[d].id){h[d].seq=g[b].seq,h[d].canHide&&(h[d].hidden=!g[b].isVisible),h[d].width=g[b].width,g[b].seq=b,f!==!1&&b>=f&&(g[b].isFrozen=!1,h[d].frozen=!1),f!==!1&&b<f&&(g[b].isFrozen=!0,h[d].frozen=!0);break}c._setReportSettings({refreshView:!0,refreshColumns:!0})}})},_renderHighlightDialog:function(){var b,d,e=this,f=this.options.config.columns,g=!1,h=[];for(d=0;d<f.length;d++)b=f[d],this._getColumn(b.id).specialType||this._getColumn(b.id).isHidden||h.push({value:b.id,label:this._getColumnLabel(b.id)});this._createDialog(yc,function(a){e._columnFilterDialogControls(a,"HD"),a(Ob,{id:"HD_BACKGROUND_COLOR",colorMenu:!0,itemLabel:n("BACKGROUND_COLOR")}),a(Ob,{id:"HD_TEXT_COLOR",colorMenu:!0,itemLabel:n("TEXT_COLOR")}),a(Nb,{id:"HD_HIGHLIGHT_TYPE",options:[{value:Tb,label:n("ROW")},{value:Ub,label:n("COLUMN")}]}),a(Nb,{id:"HD_HIGHLIGHT_COLUMN",options:h})},{width:800,height:580,titleKey:"HIGHLIGHT",checkboxColumn:!0,modelOptions:{shape:"table",sequenceField:"seq",fields:a.extend({id:{canHide:!1,hidden:!0,seq:0},seq:{canHide:!1,hidden:!0,seq:0},isEnabled:q(),name:{label:"NAME",headingAlignment:Wb,elementId:"HD_NAME",isRequired:!0,width:100,seq:15},highlightType:{label:"HIGHLIGHT",elementId:"HD_HIGHLIGHT_TYPE",seq:20,canHide:!0,hidden:!0},highlightColumnId:{label:"COLUMN",elementId:"HD_HIGHLIGHT_COLUMN",seq:30,canHide:!0,hidden:!0},backgroundColor:{label:"BACKGROUND_COLOR",elementId:"HD_BACKGROUND_COLOR",seq:40,fieldColSpan:6,canHide:!0,hidden:!0},textColor:{label:"TEXT_COLOR",elementId:"HD_TEXT_COLOR",seq:50,fieldColSpan:6,canHide:!0,hidden:!0}},this._columnFilterModelFields("HD"))},load:function(b){var c,d,f,g,h,i=[],j=e.getHighlights(),k=a(this).dialog(ic,"id");if(j.length>0){for(c=0;c<j.length;c++){switch(h=j[c],g={id:h.id,seq:h.seq,name:h.name,highlightType:h.type,highlightColumnType:h.columnType,highlightColumnId:h.columnId,backgroundColor:h.backgroundColor,textColor:h.textColor,type:h.condition.type,columnType:h.condition.columnType,columnId:h.condition.columnId,operator:h.condition.operator,isCaseSensitive:h.condition.isCaseSensitive?Uc:Vc,value:h.condition.value,expression:h.condition.expression,isEnabled:h.isEnabled,hiddenValue:"",dateRangeValue:"",dateRangeUnit:"",between:"",and:"",hiddenBetween:"",hiddenAnd:"",enabledClass:"",enabledText:""},g.enabledClass=g.isEnabled?vb:"",g.enabledText=n(g.isEnabled?"ENABLED":"DISABLED"),g.hiddenValue=g.value,g.type){case Ub:a.inArray(g.operator,[Ad,Bd])>-1?(d=g.value.split(Tc),g.hiddenBetween=d[0],g.hiddenAnd=d[1],g.hiddenValue="",g.value=""):a.inArray(g.operator,[Cd,Ed,Dd,Fd])>-1&&(f=g.value.split(Tc),g.dateRangeValue=f[0],g.dateRangeUnit=f[1],g.hiddenValue="",g.value=""),a.inArray(g.operator,[xd,yd])>-1&&(g.value=g.value.split("").join(zd+" "),g.hiddenValue=g.value)}i.push(g)}b.setData(i)}else k=b.insertNewRecord();return k},init:function(b,d,f){function h(b,c){a(c).prevAll("input").first().val(this.value).change()}function i(){function b(){"9999"!==a("div.colorpicker").css("z-index")&&a(document.createElement("style")).html(" div.colorpicker, div.colorpicker * { z-index: 9999; } ").appendTo("head"),apex.widget.colorpicker(s,{preview:{type:"modern"}}),apex.widget.colorpicker(t,{preview:{type:"modern"}}),g=!0}a.isFunction(apex.widget.colorpicker)?b():a.when(a.getScript(apex_img_dir+"libraries/jquery-colorpicker/1.4/js/"+(0===c.getLevel()?"apex.colorpicker.min.js":"apex.colorpicker.js")),a.getScript(apex_img_dir+"libraries/apex/"+(0===c.getLevel()?"minified/widget.colorpicker.min.js":"widget.colorpicker.js")),a.Deferred(function(b){a(b.resolve)})).done(function(){a(document.createElement("link")).attr({rel:"stylesheet",type:"text/css",href:apex_img_dir+"libraries/jquery-colorpicker/1.4/css/colorpicker.css"}).appendTo("head"),b()})}function k(){var a=p.val(),b=j(q.attr("id"));a===Tb?O(q):(N(q),b.setValue(b.getValue()))}function l(){k(),g===!1&&i(),s.change(),t.change()}var n,o,p=e._getElement("HD_HIGHLIGHT_TYPE"),q=e._getElement("HD_HIGHLIGHT_COLUMN"),s=e._getElement("HD_TEXT_COLOR"),t=e._getElement("HD_BACKGROUND_COLOR"),u=e._getElement("HD_NAME"),v=[];for(o=0;o<ue.length;o++)v.push({type:cd,action:h,label:m(ue[o].label),icon:"a-Icon icon-circle",iconStyle:"color: "+ue[o].value+";",value:ue[o].value});n=a("<div/>",{id:e._getId("color_menu")}).appendTo(this),n.menu({actionsContext:e.actions,items:v}),Q(u,!0),r(f,"hiddenValue"),r(f,"hiddenBetween"),r(f,"hiddenAnd"),e._columnFilterInitActions(b,d,f,"HD",l),p.change(k)},validate:function(b,c,d){var f=!0;return b.forEach(function(b,g,h){switch(c(h,"between"),c(h,"and"),c(h,"value"),c(h,"expression"),c(h,"name"),c(h,"textColor"),c(h,"backgroundColor"),""===b.textColor&&""===b.backgroundColor&&(d(h,"textColor",n(re)),d(h,"backgroundColor",n(re))),""===b.name&&d(h,"name",n(re)),b.type){case Ub:switch(b.operator){case Ad:case Bd:b.hiddenBetween&&""!==b.hiddenBetween||(f=!1,d(h,"between",n(re))),b.hiddenAnd&&""!==b.hiddenAnd||(f=!1,d(h,"and",n(re))),f&&a.inArray(e._getColumn(b.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1&&(b.hiddenBetween!==u(t(b.hiddenBetween))&&(f=!1,d(h,"between",n(se))),b.hiddenAnd!==u(t(b.hiddenAnd))&&(f=!1,d(h,"and",n(se))));break;case Cd:case Ed:case Dd:case Fd:b.dateRangeValue&&""!==b.dateRangeValue||(f=!1,d(h,"dateRangeValue",n(re))),b.dateRangeUnit&&""!==b.dateRangeUnit||(f=!1,d(h,"dateRangeUnit",n(re)));break;case ld:case md:case pd:case qd:case nd:case od:case xd:case yd:b.hiddenValue&&""!==b.hiddenValue?a.inArray(e._getColumn(b.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1&&b.hiddenValue!==u(t(b.hiddenValue))&&(f=!1,d(h,"value",n("DATE_INVALID_VALUE"))):(f=!1,d(h,"value",n(re)))}break;case Tb:b.hiddenValue&&""!==b.hiddenValue||(f=!1,d(h,"value",n(re)))}}),f},store:function(b){e._ifNoChangesDo(function(){var c,d,f,g,h,i={save:!1,skipNoChangesCheck:!0},j=b.getChanges();for(c=0;c<j.length;c++){switch(d=j[c],g=d.record,g.type){case Tb:h={type:Tb,value:g.value,isCaseSensitive:g.isCaseSensitive===Uc};break;case Ub:h={type:Ub,value:g.hiddenValue,columnId:g.columnId,operator:g.operator,columnType:Ub,isCaseSensitive:g.isCaseSensitive===Uc},a.inArray(g.operator,[xd,yd])>-1&&(h.value=w(g.hiddenValue.split(zd)).join("")),a.inArray(g.operator,[Ad,Bd])>-1?h.value=g.hiddenBetween+Tc+g.hiddenAnd:a.inArray(g.operator,[Cd,Ed,Dd,Fd])>-1&&(h.value=g.dateRangeValue+Tc+g.dateRangeUnit)}f={id:g.id,seq:parseFloat(g.seq),name:g.name,type:g.highlightType,textColor:g.textColor,backgroundColor:g.backgroundColor,condition:h,isEnabled:g.isEnabled},g.highlightType===Ub?(f.type=Ub,f.columnType=Ub,f.columnId=g.highlightColumnId):g.highlightType===Tb&&(f.type=Tb,delete f.columnType,delete f.columnId),d.inserted?(delete f.id,e.addHighlight(f,i)):d.updated?e.updateHighlight(f.id,f,i):d.deleted&&e.deleteHighlight(f.id,i)}e._setReportSettings({refreshModel:!0,changeIdentifier:"views.grid.highlights"})})}})},_loadColumnOptions:function(a,b){var c,d,e,f=this.options.config.columns;for(a.push({value:"",label:n(te)}),c=0;c<f.length;c++)e=f[c],e.specialType||!e.features[b]||e.isHidden||(d||(d=e),a.push({value:e.id,label:this._getColumnLabel(e.id)}));return d},_renderSortDialog:function(){var a,b=[],c=this;a=this._loadColumnOptions(b,"sort"),this._createDialog(Ac,function(a){a(Nb,{id:"SD_COLUMN",required:!0,options:b}),c._renderSortControls(a,"SD_")},{titleKey:"SORT",modelOptions:{shape:"table",identityField:"order",sequenceField:"seq",fields:{order:{canHide:!1,hidden:!0,seq:10},seq:{seq:20,canHide:!1,hidden:!0},columnId:{label:"COLUMN",headingAlignment:Wb,elementId:"SD_COLUMN",isRequired:!0,width:100,seq:30,canHide:!0,hidden:!1},direction:{label:"DIRECTION",headingAlignment:Wb,elementId:"SD_DIRECTION",width:60,seq:40,defaultValue:Gc,canHide:!0,hidden:!1},nulls:{label:"NULLS",elementId:"SD_NULLS",seq:50,defaultValue:Jc,canHide:!0,hidden:!0}}},load:function(a){var b,d,e=c.getSorts();for(b=0;b<e.length;b++)e[b].seq=b+1,e[b].order=b+1;return e.length>0?a.setData(e):d=a.insertNewRecord(),d},init:function(a,b,d){function e(){a.setValue(d.recordView("getRecord"),"columnId",g.val())}function f(){a.setValue(d.recordView("getRecord"),"direction",h.val())}var g=c._getElement("SD_COLUMN"),h=c._getElement("SD_DIRECTION");c._getElement("SD_NULLS");g.change(e),h.change(f)},validate:function(a){var b={},c=!0;return a.forEach(function(a,d,e){b[a.columnId]?c=!1:b[a.columnId]=!0}),c!==!1||n("SORT_ONLY_ONE_PER_COLUMN")},store:function(a){var b,d,e,f,g,h=a.getChanges(),i=c.getSorts();for(b=0;b<i.length;b++)i[b].seq=b+1;for(b=0;b<h.length;b++)if(e=h[b],f=e.record,g=e.original,f.seq=parseFloat(f.seq),e.inserted)i.push(f);else if(e.updated)if(g.columnId===f.columnId){for(d=0;d<i.length;d++)if(f.columnId===i[d].columnId){i[d]=f;break}}else{for(d=0;d<i.length;d++)if(g.columnId===i[d].columnId){i.splice(d,1);break}i.push(f)}else if(e.deleted)for(d=0;d<i.length;d++)if(f.columnId===i[d].columnId){i.splice(d,1);break}i.length>0&&(i=i.sort(function(a,b){return a.seq-b.seq})),h.length>0&&c.setSorts(i)}})},_renderAggregateDialog:function(){var b,c,d=[],e=this;b=this._loadColumnOptions(d,"aggregate"),c=[{value:we.CNT,label:n(we.CNT)},{value:we.CNT_DIST,label:n(we.CNT_DIST)},{value:we.MIN,label:n(we.MIN)},{value:we.MAX,label:n(we.MAX)},{value:we.MEDIAN,label:n(we.MEDIAN)},{value:we.SUM,label:n(we.SUM)},{value:we.AVG,label:n(we.AVG)}],this._createDialog(Bc,function(a){a(Nb,{id:"AD_COLUMN",required:!0,options:d}),a(Nb,{id:"AD_AGGREGATION",required:!0,options:c}),a(Mb,{maxlength:"30",id:"AD_TOOLTIP"}),a(Qb,{id:"AD_SHOW_GRAND_TOTAL",value:Uc})},{titleKey:"AGGREGATION",dialogHelp:{helpTextKey:"AGGREGATE"},checkboxColumn:!0,modelOptions:{shape:"table",fields:{id:{canHide:!1,hidden:!0,seq:0},isEnabled:q(),columnId:{label:"COLUMN",headingAlignment:Wb,elementId:"AD_COLUMN",isRequired:!0,defaultValue:"",seq:30,width:80,canHide:!0,hidden:!1},"function":{label:"AGGREGATION",headingAlignment:Wb,elementId:"AD_AGGREGATION",isRequired:!0,seq:40,width:80,defaultValue:"",canHide:!0,hidden:!1},tooltip:{label:"TOOLTIP",elementId:"AD_TOOLTIP",seq:50,defaultValue:"",canHide:!0,hidden:!0},showGrandTotal:{label:"SHOW_OVERALL_VALUE",elementId:"AD_SHOW_GRAND_TOTAL",seq:60,defaultValue:Uc,canHide:!0,hidden:!0}}},load:function(c){function d(a){var b,d=e._getColumn(a);return h=d.filter.dataType===Td?we.SUM:we.CNT,b=c.insertNewRecord(null,null,{columnId:a,isEnabled:!0,enabledClass:vb,"function":h})}var f,g,h,i=[],j=a(this),k=j.dialog(ic,"id"),l=j.dialog(ic,"columnId"),m=e.getAggregates();if(m.length>0){for(f=0;f<m.length;f++)g=a.extend({id:"",columnId:"","function":"",tooltip:"",showGrandTotal:"",isEnabled:"",enabledClass:"",enabledText:""},m[f]),g.enabledClass=g.isEnabled?vb:"",g.enabledText=n(g.isEnabled?"ENABLED":"DISABLED"),g.showGrandTotal=g.showGrandTotal?Uc:Vc,i.push(g);c.setData(i),l&&(k=d(l))}else k=d(l?l:b.id);return k},init:function(b,c,d){function f(){
var c,f,h={},k=i.val();c=e._getColumn(k),k&&""!==k?(s(d,"function"),s(d,"tooltip"),s(d,"showGrandTotal"),h[we.CNT]=n(we.CNT),c.filter.dataType!==Sd&&c.filter.dataType!==Td&&c.filter.dataType!==Ud||(h[we.CNT_DIST]=n(we.CNT_DIST),h[we.MIN]=n(we.MIN),h[we.MAX]=n(we.MAX)),c.filter.dataType!==Td&&c.filter.dataType!==Ud||(h[we.MEDIAN]=n(we.MEDIAN)),c.filter.dataType===Td&&(h[we.SUM]=n(we.SUM),h[we.AVG]=n(we.AVG)),f=j.val(),j.empty(),j.append(a("<option></option>").attr("value","").text(n(te))),a.each(h,function(b,c){j.append(a("<option></option>").attr("value",b).text(c))}),""!==f&&j.val(f),""!==j.val()&&null!==j.val()||(c.filter.dataType===Td?j.val(we.SUM):j.val(we.CNT)),b.setValue(d.recordView("getRecord"),"columnId",k),g()):(r(d,"function"),r(d,"tooltip"),r(d,"showGrandTotal"),b.setValue(d.recordView("getRecord"),"columnId",""),j.val("").change())}function g(){b.setValue(d.recordView("getRecord"),"function",j.val())}function h(){b.setValue(d.recordView("getRecord"),"showGrandTotal",k.prop(hc)?"Y":"N")}var i=e._getElement("AD_COLUMN"),j=e._getElement("AD_AGGREGATION"),k=e._getElement("AD_SHOW_GRAND_TOTAL");N(i),i.change(f),j.change(g),k.change(h),d.on("apexbeginrecordedit",function(){f()})},validate:function(a,b,c){var d,e={},f=!0;return a.forEach(function(a,g,h){d=a.columnId.toString()+a["function"],e[d]?(f=!1,c(h,"columnId",n("DUPLICATE_AGGREGATION")),c(h,"function",n("DUPLICATE_AGGREGATION"))):(e[d]=!0,b(h,"columnId"),b(h,"function")),""===a.columnId&&(c(h,"columnId",n("DUPLICATE_AGGREGATION")),f=!1)}),f},store:function(a){e._ifNoChangesDo(function(){var b,c,d,f={save:!1,skipNoChangesCheck:!0},g=a.getChanges();for(b=0;b<g.length;b++)c=g[b],c.record.columnId&&""!==c.record.columnId&&(d=c.record,delete d.enabledClass,delete d.enabledText,d.showGrandTotal=d.showGrandTotal===Uc,c.inserted?(delete d.id,d.columnType=Ub,e.addAggregate(d,f)):c.updated?e.updateAggregate(d.id,d,f):c.deleted&&e.deleteAggregate(d.id,f));e._setReportSettings({refreshModel:!0,changeIdentifier:"views.grid.aggregations"})})}})},_renderControlBreakDialog:function(){var b,c=[],d=this;b=this._loadColumnOptions(c,"sort"),this._createDialog(Cc,function(a){a(Nb,{id:"CBD_COLUMN",required:!0,options:c}),d._renderSortControls(a,"CBD_")},{titleKey:"CONTROL_BREAK",checkboxColumn:!0,modelOptions:{shape:"table",sequenceField:"sequenceField",fields:{id:{canHide:!1,hidden:!0,seq:0},sequenceField:{canHide:!1,hidden:!0,seq:0},oldColumnId:{canHide:!1,hidden:!0,seq:0},isEnabled:q(),columnId:{label:"COLUMN",headingAlignment:Wb,elementId:"CBD_COLUMN",isRequired:!0,seq:20,width:100,canHide:!0,hidden:!1},direction:{label:"DIRECTION",elementId:"CBD_DIRECTION",defaultValue:Gc,seq:30,canHide:!0,hidden:!0},nulls:{label:"NULLS",elementId:"CBD_NULLS",defaultValue:Jc,seq:40,canHide:!0,hidden:!0}}},load:function(c){var e,f,g,h,i=[],j=a(this).dialog(ic,"id"),k=d._getCurrentView().columns;for(e=0;e<k.length;e++)f=k[e],h=f["break"],h&&(g=a.extend({},{id:f.columnId,columnId:f.columnId,oldColumnId:f.columnId,direction:f.direction,nulls:f.nulls,sequenceField:parseFloat(h.order),isEnabled:h.isEnabled,enabledClass:h.isEnabled?vb:""}),i.push(g));return i.length>0?(i.sort(function(a,b){return a.sequenceField<b.sequenceField?-1:a.sequenceField>b.sequenceField?1:0}),c.setData(i)):j=c.insertNewRecord({isEnabled:!0,id:b.columnId,columnId:b.columnId,oldColumnId:b.columnId,direction:b.sort?b.sort.direction:Gc,nulls:b.sort?b.sort.nulls:Jc}),j},init:function(a,b,c){function e(){a.setValue(c.recordView("getRecord"),"columnId",f.val()),""===f.val()?O([g,h]):N([g,h])}var f=d._getElement("CBD_COLUMN"),g=d._getElement("CBD_DIRECTION"),h=d._getElement("CBD_NULLS");f.change(e),g.change(function(){a.setValue(c.recordView("getRecord"),"direction",g.val())}),h.change(function(){a.setValue(c.recordView("getRecord"),"nulls",h.val())}),c.on("apexbeginrecordedit",e)},validate:function(a,b,c){var d={},e=!0;return a.forEach(function(a,b,f){d[a.columnId]?(e=!1,c(f,"columnId",n("DUPLICATE_CONTROLBREAK"))):d[a.columnId]=!0,""===a.columnId&&(e=!1)}),e},store:function(a){d._ifNoChangesDo(function(){function b(){d.addControlBreak(d._currentViewImpl().modelColumns[d._getColumn(f.columnId).name],{isEnabled:f.isEnabled,order:parseFloat(f.sequenceField),direction:f.direction,nulls:f.nulls},g)}var c,e,f,g={save:!1,skipNoChangesCheck:!0},h=a.getChanges();for(c=0;c<h.length;c++)e=h[c],f=e.record,e.inserted?b():e.updated?f.columnId!==f.oldColumnId?(d.deleteControlBreak(f.oldColumnId,g),b()):d.updateControlBreak(f.columnId,{isEnabled:f.isEnabled,order:parseFloat(f.sequenceField),direction:f.direction,nulls:f.nulls},g):e.deleted&&d.deleteControlBreak(f.columnId,g);d._setReportSettings({refreshModel:!0,refreshColumns:!0})})}})},_addActions:function(d){var f=this,g=this.options.config;d.add([{name:"search-case-sensitive",labelKey:"APEX.IG.CASE_SENSITIVE",value:!1,get:function(){return f.searchCaseSensitive},set:function(a){f.searchCaseSensitive=a}},{name:"filter-column",labelKey:"APEX.IG.SELECT_COLUMNS_TO_SEARCH",get:function(){return f.currentFilterColumnId},set:function(a){f._setFilterColumn(a)}},{name:"search",labelKey:"APEX.IG.GO",getSearchValue:function(a){var b="";g.toolbar&&g.toolbar.searchField&&g.toolbarData&&(b=f.toolbar$.toolbar("findElement","search_field").val()),a(b)},action:function(){this.getSearchValue(function(a){var b;a?(b=f.currentFilterColumnId?{type:Ub,columnType:Ub,columnId:f.currentFilterColumnId,operator:vd,value:a,isCaseSensitive:f.searchCaseSensitive}:{type:Tb,value:a,isCaseSensitive:f.searchCaseSensitive},f.addFilter(b)):f.refresh()})}},{name:"change-report",labelKey:"APEX.IG.SAVED_REPORTS",hide:!0,choices:[],get:function(){return f._report()},set:function(a){f._ifNoChangesDo(function(b){b&&f.clearChanges(),f._report(a)})}},{name:"change-view",labelKey:"APEX.IG.CHANGE_VIEW",choices:[],get:function(){return f._view()},set:function(a){f._view(a,{fetchData:!0})}},{name:"show-columns-dialog",labelKey:"APEX.IG.COLUMNS",icon:"icon-ig-select-cols",action:function(){return f._openDialog(wc),!0}},{name:"show-filter-dialog",labelKey:"APEX.IG.FILTER",icon:"icon-ig-filter",hide:!0,action:function(){return f._openDialog(xc),!0}},{name:"chart-view",labelKey:"APEX.IG.CHART",icon:"icon-ig-chart",hide:!f._isViewRegistered(mc),action:function(){f._isViewRegistered(mc)?(f.viewsImpl[mc].isConfigured()&&f._view(mc,{fetchData:!0}),f.viewsImpl[mc].openDialog()):c.error("Chart view is not defined.")}},{name:"show-sort-dialog",labelKey:"APEX.IG.SORT",icon:"icon-ig-sort",action:function(){return f._openDialog(Ac),!0}},{name:"show-aggregate-dialog",labelKey:"APEX.IG.AGGREGATE",icon:"icon-ig-aggregate",action:function(){return f._openDialog(Bc),!0}},{name:"show-flashback-dialog",labelKey:"APEX.IG.FLASHBACK",icon:"icon-ig-flashback",hide:!0,action:function(){return f._openDialog(zc),!0}},{name:"show-highlight-dialog",labelKey:"APEX.IG.HIGHLIGHT",icon:"icon-ig-highlight",hide:!0,action:function(){return f._openDialog(yc),!0}},{name:"show-control-break-dialog",labelKey:"APEX.IG.CONTROL_BREAK",icon:"icon-ig-control-break",action:function(){return f._openDialog(Cc),!0}},{name:"stretch-columns",labelKey:"APEX.IG.STRETCH_COLUMNS",hide:!0,get:function(){var a=f._view(),b=f._currentReportSettings().views[a];return b&&b.stretchColumns},set:function(a){var b=f._currentReportSettings(),c=f._view(),d=b.views[c];d&&(d.stretchColumns=a),f._setOperationUpdate(b),f._setReportSettings({changeIdentifier:"views.grid.columns"})}},{name:"change-rows-per-page",labelKey:"APEX.IG.ROWS_PER_PAGE",choices:[{labelKey:"APEX.IG.AUTO",value:"null"},{label:"5",value:5},{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"1000",value:1e3}],get:function(){var a=f._currentReportSettings().rowsPerPage;return null===a?"null":a},set:function(a){var b=f._currentReportSettings();a="null"===a?null:parseInt(a,10),b.rowsPerPage=a,f._setOperationUpdate(b),f._setReportSettings({changeIdentifier:"rowsPerPage",refreshView:!0})}},{name:"save-report",labelKey:"APEX.IG.SAVE",icon:"icon-ig-save",action:function(){var a=f._currentReportSettings();f.updateReport(a.id,a)}},{name:"show-save-report-as-dialog",labelKey:"APEX.IG.SAVE_AS",icon:"icon-ig-save-as",action:function(){return f._openDialog(Ec),!0}},{name:"show-edit-report-dialog",labelKey:"APEX.IG.EDIT",icon:"icon-ig-edit",action:function(){return f._openDialog(Dc),!0}},{name:"delete-report",labelKey:"APEX.IG.DELETE",icon:"icon-ig-delete",action:function(){i.confirm(n("DELETE_REPORT_CONFIRM"),function(a){a&&f.deleteReport(f._report())})}},{name:"show-download-dialog",labelKey:"APEX.IG.DOWNLOAD",icon:"icon-ig-download",hide:!0,action:function(){return f._openDialog(Fc),!0}},{name:"show-help-dialog",labelKey:"APEX.IG.HELP",icon:"icon-ig-help",action:function(){var c=f.options.config;e.loadMessagesIfNeeded(["APEX.IG.HELP.ACTIONS.INTRO_HEADING","APEX.IG.HELP.ACTIONS.INTRO","APEX.IG.HELP.ACTIONS.REPORTING_HEADING","APEX.IG.HELP.ACTIONS.REPORTING","APEX.IG.HELP.ACTIONS.EDITING_HEADING","APEX.IG.HELP.ACTIONS.EDITING"],function(){function d(b,c){var d=a.extend({headingKey:"",helpText:"",helpTextKey:""},c);d.headingKey&&b.markup("<h2>").content(m(d.headingKey)).markup("</h2>"),d.helpText&&b.markup("<div").attr(ad,"apex-help-custom").markup(">").markup(d.helpText).markup("</div>"),d.helpTextKey&&b.markup("<p>").markup(m(d.helpTextKey)).markup("</p>")}var e=b.htmlBuilder();c.text.help&&d(e,{helpText:c.text.help}),d(e,{headingKey:"APEX.IG.HELP.ACTIONS.INTRO_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.INTRO"}),d(e,{headingKey:"APEX.IG.HELP.ACTIONS.REPORTING_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.REPORTING"}),c.editable&&d(e,{headingKey:"APEX.IG.HELP.ACTIONS.EDITING_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.EDITING"}),h.popupFieldHelp({title:n("HELP.ACTIONS_TITLE"),helpText:e.toString()})})}},{name:"selection-mode",onLabelKey:"APEX.IG.SEL_MODE_CELL",offLabelKey:"APEX.IG.SEL_MODE_ROW",shortcut:"F8",hide:!0,get:function(){var a=f._currentViewImpl();return!a.view$||!a.supports.cellSelection||!a.selectCells()},set:function(a){var b=f._currentViewImpl();b.view$&&b.supports.cellSelection&&b.selectCells(!a)}},{name:"selection-duplicate",type:cd,labelKey:"APEX.IG.DUPLICATE_ROWS",icon:"icon-ig-duplicate",hide:!0,action:function(){var a,b=f._currentViewImpl();if(b.supports.edit&&(a=b.getSelectedRecords(),a.length>0))return b.model.copyRecords(a,null,a[a.length-1]),!0}},{name:"selection-delete",labelKey:"APEX.IG.DELETE_ROWS",icon:"icon-ig-delete",hide:!0,action:function(){var a,b,c=f._currentViewImpl();if(c.supports.edit){for(b=c.getSelectedRecords(),a=0;a<b.length;a++)c.model.allowDelete(b[a])||(b.splice(a,1),a-=1);b.length>0&&c.model.deleteRecords(b)}}},{name:"selection-refresh",labelKey:"APEX.IG.REFRESH_ROWS",icon:"icon-ig-refresh",hide:!0,action:function(){var a,b=f._currentViewImpl();b.supports.edit&&(a=b.getSelectedRecords(),a.length>0&&b.model.fetchRecords(a))}},{name:"selection-revert",labelKey:"APEX.IG.REVERT_CHANGES",icon:"icon-ig-revert",hide:!0,action:function(){var a,b,c=f._currentViewImpl();if(c.supports.edit){for(b=c.getSelectedRecords(),a=0;a<b.length;a++)c.model.canRevertRecord(b[a])||(b.splice(a,1),a-=1);b.length>0&&(c.model.revertRecords(b),f._updateSelectionActions())}}},{name:"selection-copy",labelKey:"APEX.IG.COPY_CB",icon:"icon-ig-copy",action:function(){var a=f._currentViewImpl();a.canCopy2Clipboard()&&(a.focus(),apex.clipboard.copy())}},{name:"refresh",labelKey:"APEX.IG.REFRESH",icon:"icon-ig-refresh",action:function(){f.refresh()}},{name:"reset-report",labelKey:"APEX.IG.RESET",disabled:!0,icon:"icon-ig-reset",action:function(){f._resetReportSettings()}},{name:"edit",labelKey:"APEX.IG.EDIT",hide:!0,get:function(){return f.editMode},set:function(a){f._setEditMode(a)}},{name:"save",labelKey:"APEX.IG.SAVE",hide:!0,shortcut:"Ctrl+Alt+S",action:function(){var a,b,c=f.options.config,d=f.editableViewImpl.model.name;k.anyErrors(!1,d,!0)?i.alert(m("APEX.CORRECT_ERRORS"),function(){}):(b=f.editableViewImpl.finishEditing(),b.done(function(){var b=null;void 0===c.saveLoadingIndicatorPosition&&void 0===c.saveLoadingIndicator||(b={loadingIndicatorPosition:c.saveLoadingIndicatorPosition||null,loadingIndicator:c.saveLoadingIndicator||null}),a=k.save(null,b,d,!0),a&&(a.done(function(a){var b,c,d="",e="";if(a.errors)i.clearErrors(),i.showErrors(a.errors),d=$c;else if(a.regions){for(b=0;b<a.regions.length;b++)c=a.regions[b],c.fetchedData&&c.fetchedData.successMessage&&(e&&(e+="<br>"),e+=c.fetchedData.successMessage);e||(e=n("CHANGES_SAVED")),i.showPageSuccess(e),d="success"}f._selectionChange(null),f._trigger(He,null,{status:d})}).fail(function(a,b,c){f._trigger(He,null,{status:"fail"})}).always(function(){f.actions.enable("save")}),f.actions.disable("save"))}))}},{name:"selection-add-row",label:g.text.addRowButton,hide:!0,action:function(){var a=f._currentViewImpl(),b=a.getSelectedRecords();return a.supports.singleRowView&&a.singleRowMode?void f.getActions().invoke("insert-record"):(a.focus(),a.model.insertNewRecord(null,b[b.length-1]),!0)}},{name:"single-row-view",label:n("SINGLE_ROW_VIEW"),icon:"icon-ig-single-row-view",hide:!0,action:function(a,b){var c,d=null,e=f.editMode,g=f._currentViewImpl();if(g.supports.singleRowView&&g.singleRowView$&&g.singleRowView$.length&&!g.singleRowMode)return b&&(d=g.getContextRecord(b)[0]),d||(d=g.getSelectedRecords()[0]),e&&g.view$.grid("setEditMode",!1),g.singleRowMode=!0,g.view$.hide(),g.curInst=g.singleRowView$.recordView("instance"),f._updateSummary(),c=f._toolbarFind("selection_submenu"),c&&(c.disabled=!0),g.singleRowView$.show().recordView(_b),d&&g.setSelectedRecords([d]),e?g.singleRowView$.recordView("setEditMode",!0):g.singleRowView$.recordView("focus"),!0}},{name:"row-add-row",label:n("ADD_ROW"),icon:"icon-ig-add-row",hide:!0,action:function(a,b){var c=f._currentViewImpl(),d=c.getContextRecord(b);return c.focus(),c.model.insertNewRecord(null,d[0]),!0}},{name:"row-duplicate",label:n("DUPLICATE_ROW"),icon:"icon-ig-duplicate",hide:!0,action:function(a,b){var c=f._currentViewImpl(),d=c.getContextRecord(b);return c.model.copyRecords(d,null,d[0]),!0}},{name:"row-delete",label:n("DELETE_ROW"),icon:"icon-ig-delete",hide:!0,action:function(a,b){var c=f._currentViewImpl(),d=c.getContextRecord(b);c.model.deleteRecords(d)}},{name:"row-refresh",label:n("REFRESH_ROW"),icon:"icon-ig-refresh",hide:!0,action:function(a,b){var c=f._currentViewImpl(),d=c.getContextRecord(b);c.model.fetchRecords(d)}},{name:"row-revert",label:n("REVERT_CHANGES"),icon:"icon-ig-revert",hide:!0,action:function(a,b){var c=f._currentViewImpl(),d=c.getContextRecord(b);c.focus(),c.model.revertRecords(d)}}])},_initToolbar:function(){var a,b=this.options.config.toolbarData,c=this;delete b.toolbarFind,delete b.toolbarRemove,delete b.toolbarInsertAfter,this.toolbar$=this._getElement("toolbar").toolbar({actionsContext:this.actions,data:b}),a=this.toolbar$.toolbar("findElement","actions_button_menu"),this.toolbar$.toolbar("findElement","column_filter_button").hide(),this.toolbar$.toolbar("findElement","search_field").hide(),this.toolbar$.toolbar("findElement","actions_button").hide(),this._currentReportSettings().defaultFilterColumn?this._setFilterColumn(this._currentReportSettings().defaultFilterColumn.columnId):this._setFilterColumn(null),a.on("menubeforeopen",function(){var b;b=a.menu("find","rows"),b&&(b.hide=c.options.config.pagination.type!==Mc)})},_getId:function(a){return a?this.idPrefix+"_"+a:""},_getIdSelector:function(a){return"#"+this._getId(a)},_getElement:function(b){return a(this._getIdSelector(b))},_setEditMode:function(a){function b(){f.setEditMode(h.editMode),a&&setTimeout(function(){f.focus()},100)}var c,d,e={},f=this._currentViewImpl(),g=!1,h=this,i=this.options.config.columns;if(this.editMode=a,a){for(c=0;c<i.length;c++)i[c].validation&&i[c].validation.isRequired&&(e[i[c].id]=i[c]);if(Object.keys(e).length>0){for(d=this._getCurrentView().columns,c=0;c<d.length;c++)e[d[c].columnId]&&!d[c].isVisible&&(d[c].isVisible=!0,this._setOperationUpdate(d[c]),g=!0);g&&this._setReportSettings({changeIdentifier:"views.grid.columns"},b)}}g||b()},_configureView:function(a){this.viewsImpl[a].isConfigured()&&this._view(a,{fetchData:!0}),this.viewsImpl[a].openDialog()},_getColumn:function(a){return this.columnMap[a]},_getColumnByName:function(a){var b,d=this.options.config.columns;for(b=0;b<d.length;b++)if(d[b].name===a)return d[b];c.warn("No column exists with name: ",a)},_getColumnByStaticId:function(a){var b,d=this.options.config.columns;for(b=0;b<d.length;b++)if(d[b].staticId===a)return d[b];c.warn("No column exists with static ID: ",a)},_getTextTransformClass:function(a){var b,c=a.filter.textCase,d={lower:Bb,upper:Cb};return c&&(b=d[c.toLowerCase()]),b},_convertNamesToLabels:function(a){var b,c=this.options.config.columns,d={};for(b=0;b<c.length;b++)d[c[b].name]=c[b].heading.label;return a&&""!==a?a.replace(/(")(.*?)(")/g,function(a,b,c){return'"'+d[c]+'"'}):a},_convertLabelsToNames:function(a){var b,c=this.options.config.columns,d={};for(b=0;b<c.length;b++)d[c[b].heading.label]=c[b].name;return a&&""!==a?a.replace(/(")(.*?)(")/g,function(a,b,c){return'"'+d[c]+'"'}):a},_getColumnFormatMask:function(a){var b,d,e=this._getColumn(a).appearance.dateFormatMask;if(e&&""!==e){b=apex.jQuery.datepicker.parseDate("yymmdd","20160302");try{d=apex.jQuery.datepicker.parseDate(e,apex.jQuery.datepicker.formatDate(e,b)),apex.jQuery.datepicker.formatDate("yymmdd",b)!==apex.jQuery.datepicker.formatDate("yymmdd",d)&&(c.warn("Date format mask is unusable for a date picker - using default: ",e),e="yy-mm-dd")}catch(f){c.warn("Date format mask is unusable for a date picker - using default: ",e),e="yy-mm-dd"}}else c.warn("No date format mask exists for column - using default: ",a),e="yy-mm-dd";return e},_getColumnLabel:function(a){var b,d=this._getColumn(a);return d.isHidden?c.info("_getColumnLabel called on hidden column, check calling logic",a):b=d.heading.label,b},_isColumnFilterable:function(a){var b=this._getColumn(a);return!b.specialType&&b.filter&&!b.isHidden},_hasColumnFilterLov:function(a){var b=this._getColumn(a);return b.filter&&b.filter.hasLov},_getColumnType:function(a){this._getColumn(a);return Ub},_getCurrentView:function(){var a=this._view(),b=this.options,c=b.config.views,d=c[a].useModelFrom;return d&&c[d].shareModel&&(a=d),b.savedReports[this.currentSavedReportIdx].views[a]},_currentViewImpl:function(){return this.viewsImpl[this._view()]},_view:function(b,c){var d,e,f,g,h,i,j,k,l=this,m=this.options.config,n=this.actions,o=!1,p=!1,q=this._currentReportSettings(),r=!1,s=[],t=a.extend({initialData:null,fetchData:!1},c);if(!b)return q.currentView;if(h=this._currentViewImpl(),this.viewsImpl[b].isConfigured()){q.currentView=b,g=this._currentViewImpl(),i=m.views[b].features,j=g.supports,h&&h.view$&&h.hide(),g.view$?(g.show(),this._updateModelRegionData(g),g.pendingRefresh&&(g.pendingRefresh=!1,g.refresh()),this._setReportSettings({changeIdentifier:"view.change"})):(this._getElement(g.elementId).show(),g.view$=this._getElement(g.elementId),g.setColumnConfig({baseModelColumns:this.baseModelColumns,igConfig:m,ig:this,currentReportSettings:q}),t.viewImpl=g,this._setModel(t),t.viewImpl.supports.edit&&(this.editableViewImpl=t.viewImpl),g.initView({ig$:this.element,ig:this,igConfig:m,currentReportSettings:q}),this._setInitialSelection(0),r=!0),e=this._refreshReportSettings(),this._updateSummary(),s.push({labelKey:"APEX.IG.ALL_TEXT_COLUMNS",value:null});for(f in g.modelColumns)if(g.modelColumns.hasOwnProperty(f)&&g.modelColumns[f].id&&this._isColumnFilterable(g.modelColumns[f].id)&&(o=!0,a.inArray(this._getColumn(g.modelColumns[f].id).filter.dataType,[Sd,Vd])!==-1))for(d=0;d<this._getColumn(g.modelColumns[f].id).filter.operators.length;d++)a.inArray(this._getColumn(g.modelColumns[f].id).filter.operators[d].name,["$perform$","C"])!==-1&&(p=!0,s.push({label:g.modelColumns[f].label,value:g.modelColumns[f].id}));m.filter.oracleText&&(p=!0),n.lookup("filter-column").choices=s,n.updateChoices("filter-column"),this._updateChangeViewActions(),this._toggleEnableAction(p,"search"),m.toolbar&&m.toolbar.searchField&&m.toolbar.columnSelection&&this.getToolbar().toolbar("findElement","column_filter_button").prop(gc,!p),r||e||g.resize(),this._toggleEnableAction(m.editable&&j.edit,["edit","save","selection-add-row","selection-add-row","row-add-row","selection-duplicate","row-duplicate","selection-delete","row-delete","selection-revert","row-revert","selection-refresh","row-refresh"]),this._toggleEnableAction(m.editable&&j.edit&&j.singleRowView,["insert-record","delete-record","refresh-record","revert-record","duplicate-record"]),this._toggleEnableAction(j.controlBreak&&i.controlBreak,"show-control-break-dialog"),this._toggleEnableAction(j.aggregation&&i.aggregate,"show-aggregate-dialog"),this._toggleEnableAction(j.highlight&&i.highlight,"show-highlight-dialog"),this._toggleEnableAction(j.changeRowsPerPage&&i.changeRowsPerPage,"change-rows-per-page"),this._toggleEnableAction(j.singleRowView&&i.singleRowView,"single-row-view"),this._toggleShowAction(g.canCopy2Clipboard(),"selection-copy"),this._toggleShowAction(j.cellSelection,"selection-mode"),k=this._toolbarFind("selection_submenu"),k&&(k.disabled=!j.selection),this._toggleEnableAction(j.configurableColumns,["show-columns-dialog","stretch-columns"]),this._toggleEnableAction(j.filter&&m.features.filter,"show-filter-dialog"),o||this._toggleEnableAction(!1,"show-filter-dialog"),this._toggleEnableAction(j.sort,"show-sort-dialog"),this._toggleEnableAction(j.download&&m.features.download,"show-download-dialog"),this._trigger(De,null,{view:b,created:r}),this._selectionChange(null),this._forEachView(function(a,c){c.viewChanged(a===b,l,m)})}else this.viewsImpl[b].openDialog()},_destroyAllModels:function(){var a=this;this._forEachView(function(b,c){a._setModel({viewImpl:c,remove:!0}),c.view$&&(c.hide(),c.destroyView(a),c.view$=null)})},_report:function(a){var b,c,d=this.options;if(!a)return this._currentReportSettings().id;for(this._destroyAllModels(),i.hidePageSuccess(),b=0;b<d.savedReports.length;b++)if(d.savedReports[b].id===a){this.currentSavedReportIdx=b;break}c=this._currentViewImpl(),this._forEachView(function(a,b){b.view$&&b.hide()}),c.view$||(c.view$=this._getElement(c.elementId)),this._updateSummary(),c.view$.show(),c.setColumnConfig({baseModelColumns:this.baseModelColumns,igConfig:d.config,currentReportSettings:this._currentReportSettings(),ig:this}),this.reportSettingsSeq+=1,this._setModel({viewImpl:c}),c.initView({ig$:this.element,ig:this,igConfig:d.config,currentReportSettings:this._currentReportSettings()}),this._updateActions(),this.editMode=!1,this.actions.update("edit"),this._updateChangeViewActions(),this._clearToolbarSearch(),this._trigger(De,null,{view:c.internalIdentifier,created:!0}),this._refreshReportSettings(),this._updateModelRegionData(c),this.refresh(),this._trigger(Ee,null,{report:this._report()})},_currentReportSettings:function(){return this.options.savedReports[this.currentSavedReportIdx]},_updateModelRegionData:function(a){var b=a.internalIdentifier,c=this.options.config.views,d=c[b].useModelFrom,e=a.model.getOption("regionData");e.reportId=this._report(),d&&c[d].shareModel&&(b=d),e.view=b},_updateSummary:function(){var a=this.getCurrentView(),b=a.title,c=this._currentReportSettings(),d=c.name;d||c.type!==rc||(d=n("PRIMARY_REPORT")),a.supports.singleRowView&&a.singleRowMode&&(b+=" ("+m("SINGLE_ROW_VIEW")+")"),this._getElement("summary").text(e.formatMessage("APEX.IG.SUMMARY",d,b))},_shortenString:function(a,b){var c=b?b:20;return a.length>c?a.substr(0,c)+"...":a},_adjustControlBreakSort:function(){var b,c,d=[],e=this,f=e._getCurrentView().columns;for(b=0;b<f.length;b++)!f[b].sort||null===f[b].sort.order||f[b]["break"]&&f[b]["break"].isEnabled||d.push({columnId:f[b].columnId,order:f[b].sort.order});for(d.sort(function(a,b){return a.order-b.order}),b=0;b<d.length;b++)for(c=0;c<f.length;c++)d[b].columnId===f[c].columnId&&a.extend(e._currentViewImpl().modelColumns[e._getColumn(f[c].columnId).name],{sortIndex:b+1})},_getSettingLabel:function(b,c){function d(a,b){return a&&null!==a.match(/^\d{14}/)?apex.jQuery.timepicker.formatCanonicalDate(t(a),b):""}var f,g,h="APEX.IG.",i=[ld,md,pd,qd,nd,od,rd,sd,vd,wd,Gd,Hd,Id,Jd],j=[td,ud],k=[Ad,Bd],l=[Cd,Dd,Ed,Fd];switch(b){case xc:switch(c.type){case Ub:h+="X.",a.inArray(c.operator,i)>-1&&(h+=ve[c.operator]+".Y",f=a.inArray(this._getColumn(c.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1?e.formatMessage(h,this._getColumnLabel(c.columnId),d(c.hiddenValue?c.hiddenValue:c.value,this._getColumnFormatMask(c.columnId))):e.formatMessage(h,this._getColumnLabel(c.columnId),c.value)),a.inArray(c.operator,[xd,yd])>-1&&(h+=ve[c.operator]+".Y",f=e.formatMessage(h,this._getColumnLabel(c.columnId),c.value.split("").join(zd+" "))),a.inArray(c.operator,j)>-1&&(h+=ve[c.operator],f=e.formatMessage(h,this._getColumnLabel(c.columnId))),a.inArray(c.operator,k)>-1&&(h+=ve[c.operator]+".Y.AND.Z",g=c.hiddenBetween||c.hiddenAnd?[c.hiddenBetween,c.hiddenAnd]:c.value.split(Tc),f=a.inArray(this._getColumn(c.columnId).filter.dataType,[Ud,Wd,Xd,Yd])>-1?e.formatMessage(h,this._getColumnLabel(c.columnId),d(g[0],this._getColumnFormatMask(c.columnId)),d(g[1],this._getColumnFormatMask(c.columnId))):e.formatMessage(h,this._getColumnLabel(c.columnId),g[0],g[1])),a.inArray(c.operator,l)>-1&&(g=c.value.split(Tc),2!==g.length&&(g=["","MI"]),"1"===g[0]?(h+=ve[c.operator]+"_"+ye[g[1]],f=e.formatMessage(h,this._getColumnLabel(c.columnId))):(h+=ve[c.operator]+".Y."+ye[g[1]]+"S",f=e.formatMessage(h,this._getColumnLabel(c.columnId),g[0])));break;case Vb:f=c.name;break;case Tb:h+="SEARCH_FOR.X",f=e.formatMessage(h,c.value)}break;case Cc:f=this._getColumnLabel(c.columnId);break;case Bc:f=n(c["function"])+" ("+this._getColumnLabel(c.columnId)+")";break;case yc:f=this._shortenString(c.name?c.name:this._getColumnLabel(c.condition.columnId));break;case zc:1===c.minsAgo?(h+="REPORT_DATA_AS_OF_ONE_MINUTE_AGO",f=m(h)):(h+="REPORT_DATA_AS_OF.X.MINUTES_AGO",f=e.formatMessage(h,c.minsAgo))}return f},_getSettingSummaryLabel:function(a,b){var c,d="APEX.IG.";switch(a){case xc:switch(b.type){case Ub:c=this._getColumnLabel(b.columnId);break;case Vb:c=this._shortenString(b.name);break;case Tb:c="'"+this._shortenString(b.value,18)+"'"}break;case Cc:c=this._getColumnLabel(b.columnId);break;case yc:c=this._shortenString(b.name?b.name:this._getColumnLabel(b.condition.columnId));break;case zc:1===b.minsAgo?(d+="ONE_MINUTE_AGO",c=m(d)):(d+="X.MINUTES_AGO",c=e.formatMessage(d,b.minsAgo));break;case Bc:c=this._shortenString(this._getColumnLabel(b.columnId))}return c},_getTotalReportSettings:function(){var a,b=0,c=this._getCurrentView(),d=this._currentReportSettings();switch(d.filters&&(b+=d.filters.length),d.flashback&&(b+=1),this._view()){case jc:for(a=0;a<c.columns.length;a++)c.columns[a]["break"]&&(b+=1);c.highlights&&(b+=c.highlights.length),c.aggregations&&(b+=c.aggregations.length);break;case mc:c&&(b+=1)}return b},_renderReportSettings:function(b){function c(b){function c(b,c){var d={},f=a.extend({type:"",id:"",active:!1,label:"",excludeToggle:!1,isInvalid:!1,linkStyle:""},c),g=ka+" "+la+f.type;d.setting=f.type,d["setting-id"]=f.id,f.isInvalid&&(g+=" "+wb),b.markup("<li").attr(ad,g).attr("role","group").attr(Ib,"control_text"+f.id).markup(">"),b.markup("<span").attr(ad,ma).markup(">"),f.excludeToggle||(G(b,{id:h._getId("control_"+f.id),cssClasses:pa,checked:f.active,data:d,disabled:f.isInvalid}),J(b,{labelFor:h._getId("control_"+f.id),cssClasses:qa,label:n("TOGGLE"),labelTextHidden:!0})),b.markup("</span>"),b.markup("<span").attr(ad,ma).markup(">").markup("<span").attr(ad,mb+" "+ra+" "+Ga+x(f.type)).markup(">").markup("</span>").markup("</span>"),b.markup("<span").attr(ad,ma+" "+na).markup(">"),f.isInvalid?b.markup("<span").attr("id","control_text"+f.id).attr(ad,sa).markup(">").markup(f.label).markup("</span>"):(b.markup("<a href='#'").attr(ad,sa).attr("data-setting",f.type).attr("data-setting-id",f.id).optionalAttr("style",f.linkStyle).markup(">"),b.markup("<span").attr(ad,Ab).markup(">").content(n("EDIT")).markup("</span>"),b.markup("<span").attr("id","control_text"+f.id).markup(">").markup(f.label).markup("</span>"),b.markup("</a>")),b.markup("</span>"),b.markup("<span").attr(ad,ma+" "+oa).markup(">"),E(b,{buttonClass:fb+" "+gb+" "+Da+" "+Fa,iconOnly:!0,icon:pb,label:e.formatMessage("APEX.IG.REMOVE_CONTROL",xe[f.type]),data:d}),b.markup("</span>"),b.markup("</li>")}if(b.markup("<div").attr(ad,sb).markup(">"),b.markup("<ul").attr(ad,ja).markup(">"),j.views.chart&&h._view()===mc&&c(b,{type:mc,excludeToggle:!0,label:n("EDIT_CHART")}),j.filters)for(f=0;f<j.filters.length;f++)j.filters[f].operation!==Qc&&c(b,{type:xc,id:j.filters[f].id,active:j.filters[f].isEnabled,label:h._getSettingLabel(xc,j.filters[f]),isInvalid:j.filters[f].isInvalid});if(h._currentViewImpl().supports.controlBreak&&i){for(f=0;f<i.columns.length;f++)i.columns[f]["break"]&&i.columns[f]["break"].operation!==Qc&&g.push(i.columns[f]);if(g.length>0)for(g.sort(function(a,b){var c=a["break"].order,d=b["break"].order;return c<d?-1:c>d?1:0}),f=0;f<g.length;f++)c(b,{type:Cc,id:g[f].columnId,active:g[f]["break"].isEnabled,label:h._getSettingLabel(Cc,g[f])})}if(h._currentViewImpl().supports.highlight&&i.highlights)for(f=0;f<i.highlights.length;f++)i.highlights[f].operation!==Qc&&c(b,{type:yc,id:i.highlights[f].id,active:i.highlights[f].isEnabled,label:h._getSettingLabel(yc,i.highlights[f]),isInvalid:i.highlights[f].isInvalid,linkStyle:"background:"+i.highlights[f].backgroundColor+";color:"+i.highlights[f].textColor});if(h._currentViewImpl().supports.aggregation&&i.aggregations)for(f=0;f<i.aggregations.length;f++)i.aggregations[f].operation!==Qc&&c(b,{type:Bc,id:i.aggregations[f].id,active:i.aggregations[f].isEnabled,label:h._getSettingLabel(Bc,i.aggregations[f])});j.flashback&&j.flashback.operation!==Qc&&c(b,{type:zc,active:j.flashback.isEnabled,label:h._getSettingLabel(zc,j.flashback)}),b.markup("</ul></div>")}function d(b){function c(a,b,c){var g,i,j,k="",l=[],m=!0;for(g=0;g<c.length;g++)c[g].operation!==Qc&&(b===Cc?i=c[g]["break"].isEnabled:(i=c[g].isEnabled,j=c[g].isInvalid),j?f++:i?(l.push(g),m||(k+=", "),k+=h._getSettingSummaryLabel(b,c[g]),m=!1):e++);l.length>0&&d(a,{type:b,id:c[l[0]],count:l.length,label:k})}function d(b,c){var d=a.extend({type:"",id:"",count:0,label:""},c);b.markup("<li").attr(ad,xa+" "+ya+d.type).markup(">"),b.markup("<a href='#'").attr(ad,za).attr("data-setting",d.type).optionalAttr("data-setting-id",d.id).markup(">"),b.markup("<span").attr(ad,Aa).markup(">"),b.markup("<span").attr(ad,mb+" "+Ga+x(d.type)).markup("></span>"),(d.count>1||d.type===pc||d.type===qc)&&b.markup("<span").attr(ad,Ba).markup(">").content(d.count).markup("</span>"),b.markup("</span>"),b.markup("<span").attr(ad,Ca).markup(">").content(d.label).markup("</span>"),b.markup("</a>")}var e=0,f=0;b.markup("<div").attr(ad,wa),j.reportSettingsArea===dc&&b.attr("style","display:none;"),b.attr("id",h._getId("report_settings_summary")),k||b.attr("style","display:none;"),b.markup(">"),b.markup("<ul").attr(ad,va).markup(">"),j.views.chart&&h._view()===mc&&d(b,{type:mc,label:n("EDIT_CHART")}),j.filters&&c(b,xc,j.filters),g.length>0&&c(b,Cc,g),i.highlights&&c(b,yc,i.highlights),i.aggregations&&c(b,Bc,i.aggregations),j.flashback&&(j.flashback.isEnabled?d(b,{type:zc,label:h._getSettingSummaryLabel(zc,j.flashback)}):e++),e>0&&d(b,{type:pc,count:e,label:n(1===e?"INACTIVE_SETTING":"INACTIVE_SETTINGS")}),f>0&&d(b,{type:qc,count:f,label:n(1===e?"INVALID_SETTING":"INVALID_SETTINGS")}),b.markup("</ul></div>")}var f,g=[],h=this,i=this._getCurrentView(),j=this._currentReportSettings(),k=this._getTotalReportSettings()>0;b.markup("<div").attr(ad,qb+" "+ta).attr("id",this._getId("report_settings")),k||b.attr("style","display:none;"),b.markup(">"),b.markup("<div").attr(ad,rb).markup(">"),b.markup("<h3").attr(ad,Ab).markup(">").content(n("REPORT_SETTINGS")).markup("</h3>"),E(b,{buttonClass:fb+" "+Da+" "+Ea
}),b.markup("</div>"),c(b),d(b),b.markup("</div>")},_initReportSettings:function(){function b(a,b,d){if(f.reportSettingsArea===a){var g=e.data("apex-collapsible").controllingElement$.is(":focus");f.reportSettingsArea=b,c._setOperationUpdate(f),c._setReportSettings({},function(){g&&c._getElement("report_settings").data("apex-collapsible").controllingElement$.focus()}),c._getElement("report_settings_summary")[d](),c.resize()}}var c=this,d=this.options.config.maxHeight,e=this._getElement("report_settings"),f=c._currentReportSettings();this._getTotalReportSettings()>0&&(this._on(e,{"click a.a-IG-controlsLabel":function(b){var c=a(b.currentTarget);this._openDialog(c.data("setting"),{id:c.data("setting-id")+""}),b.preventDefault()},"click a.a-IG-reportSummary-label":function(b){var c=a(b.currentTarget),d=c.data("setting");d===pc||d===qc?e.collapsible(cc):this._openDialog(d,{id:c.data("setting-id")+""}),b.preventDefault()},"click input.a-IG-controlsCheckbox":function(b){var c=a(b.target),d=c.prop(hc),e=c.data("setting"),f=c.data("setting-id")+"";switch(e){case xc:this.updateFilter(f,{isEnabled:d});break;case Bc:this.updateAggregate(f,{isEnabled:d});break;case yc:this.updateHighlight(f,{isEnabled:d});break;case Cc:this.updateControlBreak(f,{isEnabled:d});break;case zc:this.updateFlashback({isEnabled:d})}},"click button.a-IG-button--remove":function(b){var c=a(b.currentTarget),d=c.data("setting"),e=c.data("setting-id")+"";switch(b.preventDefault(),d){case xc:this.deleteFilter(e);break;case Bc:this.deleteAggregate(e);break;case yc:this.deleteHighlight(e);break;case Cc:this.deleteControlBreak(e);break;case zc:this.deleteFlashback();break;case mc:this.deleteChart()}}}),e.collapsible({content:"div."+sb,collapsed:f.reportSettingsArea===ec,collapse:function(){b(dc,ec,ac)},expand:function(){b(ec,dc,bc)}}),d&&e.find(".a-Collapsible-content").css({"max-height":(d-a(W,this.element).outerHeight())/3+"px",overflow:"auto"}))},_isSettingsCheckboxFocused:function(b,c){var d;return!(!document.activeElement||"checkbox"!==document.activeElement.type)&&(d=a(document.activeElement).data(),d.setting===c&&""+d.settingId===b)},_focusOnSettingsCheckbox:function(a,b,c){var d;a&&(d="."+pa+"[data-setting="+c+"]",b&&(d+="[data-setting-id="+b+"]"),this._getElement("report_settings").find(d).focus())},_currentViewColumn:function(b,c){var d,e,f=this._getCurrentView().columns;for(d=0;d<f.length;d++)if(f[d].columnId===b){e=f[d];break}return a.isPlainObject(c)&&(e=a.extend(!0,e,c),this._setOperationUpdate(e)),e},_refreshReportSettings:function(){var a,c=this._getElement("report_settings"),d=b.htmlBuilder();return!(!c[0]||(a=c[0].clientHeight,this._renderReportSettings(d),c.replaceWith(d.toString()),this._initReportSettings(),a===this._getElement("report_settings")[0].clientHeight))&&(this.resize(),!0)},_defaultAjaxRegionData:function(b){var c=this.options.config,d=a.extend(!0,{id:c.regionId,ajaxIdentifier:c.ajaxIdentifier,ajaxColumns:c.ajaxColumns,reportId:this._report(),view:this._view()},b);return this._isCurrentlyEditable()&&(d.allowedOperations=c.editable.allowedOperations["protected"]),d},_call:function(a,b){var c=this.options.config,e=this._defaultAjaxRegionData(a),f={regions:[e]};return c.parentRegionStaticId&&this.parentItemValues.length>0&&(f.regions[0].parentItems={values:this.parentItemValues}),c.loadingIndicator&&(b.loadingIndicator=c.loadingIndicator),(c.callServer||d.plugin)(f,b)},_setReportSettings:function(b,c){function d(a){var b;for(b=0;b<a.length;b++)a[b].operation||(a.splice(b,1),b-=1)}var e,f,g={},h=this.options.config,j=this,k=a.extend({refreshView:!1,refreshModel:!1,affectsOtherViewsModels:!1,refreshColumns:!1,changeIdentifier:""},b);return e=a.extend(!0,{},this._currentReportSettings()),e.filters&&e.filters.length>0&&d(e.filters),h.views.grid&&d(e.views.grid.columns),h.views.icon&&d(e.views.icon.columns),h.views.detail&&d(e.views.detail.columns),h.features.saveReport&&h.features.saveReport.publicReportCs&&(g.publicReportCs=h.features.saveReport.publicReportCs),f={success:function(a){var b,d=j._defaultSavedReport(a.regions[0].setReportSettings[0]);i.hidePageSuccess(),j._view()!==d.currentView&&j._view(d.currentView,{fetchData:!0}),j.options.savedReports[j.currentSavedReportIdx]=d,j._updateChangeReportAction(),j._updateChangeViewActions(),j._updateReportSettingsActions(),j._refreshReportSettings(),b=j._currentViewImpl(),j._updateModelRegionData(b),d=j._currentReportSettings(),j._forEachView(function(a,b){b.setReportOptions(j,a===d.currentView,d,k.changeIdentifier),b.supports.highlight&&"views.grid.highlights"!==k.changeIdentifier&&b.setReportOptions(j,a===d.currentView,d,"views.grid.highlights")}),k.refreshColumns&&b.refreshColumns(),k.refreshView?b.refresh():k.refreshModel&&(j.reportSettingsSeq+=1,k.affectsOtherViewsModels?j._forEachView(function(a,b){b.model&&b.clearModelData()}):b.clearModelData()),c&&c(),j._trigger(Fe,null,{report:d.id})}},"view.change"===k.changeIdentifier&&(f.queue={name:"set.report.settings.replace",action:"replace"}),a.extend(g,{setReportSettings:[e]}),this._call(g,f)},_downloadReport:function(b){var e,f,h=this.options.config,j=this;e={pageItems:h.itemsToSubmit,regions:[{id:h.regionId,ajaxIdentifier:h.ajaxIdentifier,ajaxColumns:h.ajaxColumns,reportId:this._report(),view:this._view(),download:a.extend({downloadCs:h.features.download.downloadCs},b)}],salt:$v("pSalt")},f=g(h.regionStaticId).getParentItems(),f&&(e.regions[0].parentItems=f),b.email?d.plugin(e,{dataType:Mb,loadingIndicator:j.element,loadingIndicatorPosition:"centered",success:function(a){i.showPageSuccess(n("EMAIL_SENT"))}}):d.plugin(e,{loadingIndicator:j.element,loadingIndicatorPosition:"centered",success:function(a){var b;i.showPageSuccess(n("FILE_PREPARED")),b=d.ajaxUrl({regions:[{id:h.regionId,reportId:j._report(),ajaxIdentifier:h.ajaxIdentifier,downloadFileId:a.regions[0].download.id}],salt:$v("pSalt")}),c.info("Calling URL to get file:",b),c.info("URL length:",b.length),window.open(b)}})},_saveReport:function(a,b){var d,e={},f=this,g=this.options.config;return g.features.saveReport?(e.saveReport=a,g.features.saveReport.publicReportCs&&(e.publicReportCs=g.features.saveReport.publicReportCs),this._call(e,{success:function(a){switch(f.options.savedReports=f._defaultSavedReports({reports:a.regions[0].savedReports}),f._updateChangeReportAction(),f._updateReportSettingsActions(),f._refreshReportSettings(),f._updateModelRegionData(f._currentViewImpl()),b){case Oc:case Pc:switch(f._currentReportSettings().type){case rc:d=n("REPORT.SAVED.DEFAULT");break;case sc:d=n("REPORT.SAVED.ALTERNATIVE");break;case tc:d=n("REPORT.SAVED.PRIVATE");break;case uc:d=n("REPORT.SAVED.PUBLIC")}break;case Qc:d=n("REPORT.DELETED")}i.showPageSuccess(d),b===Qc&&f.refresh()}})):void c.warn("Unable to save report settings because the configuration disallows it.")},_getFilterValues:function(b,c,d){var e=this;return this._call({getFilterValues:{columnId:b,columnType:Ub,respectFilters:c}},{success:function(b){a.isFunction(d)&&d.call(e,b)}})},_updateChangeReportAction:function(){var a,b,c,d,e=[],f=this.options.config,g=this.options.savedReports,h=this.actions;if(g.length>1){for(a=0;a<g.length;a++){switch(b=g[a],d=b.name,b.type){case rc:c="APEX.IG.SAVED_REPORT_DEFAULT",b.name||(d=n("PRIMARY_REPORT"));break;case sc:c="APEX.IG.SAVED_REPORT_DEFAULT";break;case tc:c="APEX.IG.SAVED_REPORT_PRIVATE";break;case uc:c="APEX.IG.SAVED_REPORT_PUBLIC"}e.push({group:m(c),label:d,value:b.id})}this.actions.lookup("change-report").hide=!(!f.toolbar||f.toolbar&&f.toolbar.savedReports)}else this.actions.lookup("change-report").hide=!0;this.actions.update("change-report"),h.lookup("change-report").choices=e,h.updateChoices("change-report")},_updateAction:function(a,b){this.actions.lookup(b)&&this.actions[a](b)},_toggleEnableAction:function(a,b){this._toggleAction("enable",a,b)},_toggleShowAction:function(a,b){this._toggleAction(ac,a,b)},_toggleAction:function(b,c,d){var e,f=this;switch(b){case ac:e=c?ac:bc;break;case"enable":e=c?"enable":"disable"}a.isArray(d)?a.each(d,function(){f._updateAction(e,this)}):this._updateAction(e,d)},_updateToolbarElements:function(){var a=this.options.config,b=a.toolbar;b&&(b.searchField&&(b.columnSelection&&this.toolbar$.toolbar("findElement","column_filter_button").show(),this.toolbar$.toolbar("findElement","search_field").show()),b.actionMenu&&this.toolbar$.toolbar("findElement","actions_button").show())},_updateActions:function(){var a=this,b=this.options.config,c=b.features,d=!1,e=!1,f=!1,g=this._isCurrentlyEditable(),h=b.editable.allowedOperations,i=g&&h.create,j=g&&h[Zb],k=g&&(h.update||h[Zb]),l=b.toolbar,m=g&&(h.update||h.create)&&(!l||l&&l.editing),n=g&&(h.create||h.update||h[Zb])&&(!l||l&&l.save),o=!l||l&&l.searchField,p=!l||l&&l.reset,q=b.pagination.type===Mc;c.saveReport&&this._updateChangeReportAction(),this._toggleShowAction(c.filter,"show-filter-dialog"),this._toggleShowAction(c.download,"show-download-dialog"),this._toggleShowAction(c.flashback,"show-flashback-dialog"),this._updateReportSettingsActions(),this._toggleShowAction(i,["selection-add-row","row-add-row","selection-duplicate","row-duplicate"]),this._toggleShowAction(j,["selection-delete","row-delete"]),this._toggleShowAction(k,["selection-revert","row-revert"]),this._toggleShowAction(g,["selection-refresh","row-refresh"]),this._toggleShowAction(m,"edit"),this._toggleShowAction(n,"save"),this._toggleShowAction(o,"search"),this._toggleShowAction(p,"reset-report"),this._forEachView(function(c,h){var k=b.views[c].features;h.supports.singleRowView&&k.singleRowView&&(d=!0),h.supports.highlight&&k.highlight&&(e=!0),h.supports.configurableColumns&&null===k.stretchColumns&&k.gridView!==!1&&(f=!0),h.updateActions({ig:a,editable:g,canDelete:j,canCreate:i,canEdit:m})}),this._toggleShowAction(d,"single-row-view"),this._toggleShowAction(i&&d,["insert-record","duplicate-record"]),this._toggleShowAction(j&&d,["delete-record"]),this._toggleShowAction(k&&d,["revert-record"]),this._toggleShowAction(g&&d,["refresh-record"]),this._toggleShowAction(e,"show-highlight-dialog"),this._toggleShowAction(q,"change-rows-per-page"),this._toggleShowAction(f,"stretch-columns")},_updateReportSettingsActions:function(){var a=this._currentReportSettings(),b=this.options.config.features.saveReport,c=!a.isReadOnly;this._toggleEnableAction(b&&c&&a.baseReportId,"save-report"),this._toggleEnableAction(b,"show-save-report-as-dialog"),this._toggleEnableAction(b&&c,"show-edit-report-dialog"),this._toggleEnableAction(b&&c&&a.type!==rc,"delete-report"),this._toggleEnableAction(a.baseReportId,"reset-report")},_updateChangeViewActions:function(){var a=[],b=this.actions;this._forEachView(function(b,c){c.isConfigured()&&a.push({label:c.title,value:b,icon:c.icon})}),this._toggleShowAction(a.length>1,"change-view"),b.lookup("change-view").choices=a,b.updateChoices("change-view")},_updateSelectionActions:function(){var a,b,c,d,e,f=this.options.config,g=this._currentViewImpl();f.editable&&g.supports.edit&&!g.singleRowMode&&(g.view$.grid("option","selectCells")?(c=g.view$.grid("getSelectedRange").recordIds,a=this._isCurrentlyEditable()&&0!==c.length,this._toggleEnableAction(a,["selection-fill","selection-clear","selection-revert"]),this._toggleEnableAction(!1,["selection-duplicate","selection-refresh","selection-delete","selection-revert","selection-copy","row-delete"]),this._toggleEnableAction(c.length>=2,["selection-copy-down"])):(b=g.getSelectedRecords(),a=this._isCurrentlyEditable()&&0!==b.length,this._toggleEnableAction(a,["selection-duplicate","selection-refresh","selection-delete","selection-revert","selection-copy","selection-fill","selection-clear"]),f.editable.allowedOperations[Zb]&&(d=b.some(function(a){return g.model.allowDelete(a)}),this._toggleEnableAction(d,["row-delete","selection-delete","selection-fill","selection-clear"])),e=b.some(function(a){return g.model.canRevertRecord(a)}),this._toggleEnableAction(e,["row-revert","selection-revert"]),this._toggleEnableAction(b.length>=2,["selection-copy-down"])))},_setFilterColumn:function(a){var b;this.currentFilterColumnId=a,b=a?e.formatMessage("APEX.IG.SEARCH.COLUMN",this._getColumn(a).heading.label):n(this.options.config.filter.oracleText?"SEARCH.ORACLE_TEXT":"SEARCH.ALL_COLUMNS"),this.toolbar$.toolbar("findElement","search_field").attr({placeholder:b,title:b})},_defaultIGConfig:function(){var b,c,d=this.options.config;if(d.filter.maxRowCount&&(d.text.moreDataFound=e.formatMessage("APEX.IG.MORE_DATA_FOUND",d.filter.maxRowCount)),d.columnGroups.length>0)for(b=0;b<d.columnGroups.length;b++)c=a.extend({id:"",heading:"",label:""},d.columnGroups[b]),c.label||(c.label=c.heading),d.columnGroups[b]=c;d.editable&&(d.editable=a.extend(!0,{allowedOperations:{create:!0,update:!0,"delete":!0,"protected":""},autoAddRow:!0},d.editable),d.editable.allowedOperations.create||(d.editable.autoAddRow=!1)),d.features.download&&(d.features.download=a.extend({formats:[],email:!0},d.features.download)),d.views.icon&&(d.views.icon=a.extend(!0,{disabled:!1,labelColumn:"",features:{sort:!0,highlight:!0,rowSelector:{multiSelect:!0,selectAll:!1,hideControl:!1}}},d.views.icon)),d.views.detail&&(d.views.detail=a.extend(!0,{disabled:!1,beforeRows:"",row:"",afterRows:"",features:{sort:!0,controlBreak:!0}},d.views.detail))},_defaultColumns:function(){var b,c,d=this.options.config.columns;for(b=0;b<d.length;b++)c=a.extend(!0,{id:"",name:"",staticId:"",dataType:Sd,specialType:"",isHidden:!1,isReadOnly:!0,heading:{heading:"",label:"",alignment:Xb},layout:{columnAlignment:Wb,groupId:"",useGroupFor:"both"},appearance:{columnCssClasses:"",formatExample:""},validation:{isRequired:!1,restrictedCharacters:""},link:{text:"",attributes:""},filter:{operators:[{name:"$std$"},{name:"$perform$"}],dateRanges:id,isRequired:!1,hasLov:!0,dataType:Sd},accessibility:{usedAsRowHeader:!1},features:{canHide:!0,highlight:!0,compute:!0,sort:!0,controlBreak:!0,aggregate:!0,groupBy:!0},isPrimaryKey:!1,parentColumnName:"","default":{value:"",duplicate:!0},escape:!0,helpid:""},d[b]),c.heading.label||(c.heading.label=c.heading.heading),c.filter.dataType!==Sd||c.filter.textCase||(c.filter.textCase=Rd),d[b]=c},_createBaseColumnMap:function(){var a,b,c,d=this.options.config.columns,e=0;for(a=0;a<d.length;a++)b=d[a],c=this.baseModelColumns[b.id]={index:a-e,hidden:b.isHidden,readonly:b.isReadOnly,escape:b.escape,id:b.id},b.isHidden?c.canHide=!1:(c.heading=b.heading.heading,c.headingAlignment=b.heading.alignment,c.label=b.heading.label,c.alignment=b.layout.columnAlignment),b.parentColumnName&&(c.parentField=b.parentColumnName,this.parentColumnNames.push(b.parentColumnName)),this.columnMap[b.id]=b,b.isPrimaryKey&&this.primaryKeyColumns.push(b.name),"actions"===b.specialType&&(e+=1);this.baseModelColumns[Wc]={index:a-e,seq:a,hidden:!0,canHide:!1}},_defaultSavedReport:function(b){function d(b,c){var d,e,f,g={};if(c){for(d=0;d<b.length;d++)g[b[d].columnId]=1;for(d=0;d<m.columns.length;d++)e=m.columns[d],g[e.id]||b.push({columnId:e.id,operation:Oc,isVisible:!1})}for(d=0;d<b.length;d++)f=a.extend({seq:null,columnType:Ub,columnId:"",isVisible:!0,isFrozen:!1,width:null,priority:null,"break":!1,sort:!1},b[d]),f.seq=d+1,f["break"]&&(f["break"]=a.extend({order:null,isEnabled:!0,direction:Gc,nulls:Jc},f["break"])),f.sort&&(f.sort=a.extend({order:null,direction:Gc,nulls:Jc},f.sort)),l._getColumn(f.columnId)?b[d]=f:(b.splice(d,1),d-=1)}var e,f,g,h,i,j,k,l=this,m=this.options.config,n=m.views;if(f=a.extend(!0,{id:"",baseReportId:"",name:"",isCurrent:!1,type:rc,isReadOnly:!0,authorizationId:"",rowsPerPage:null,showRowNumbers:!1,reportSettingsArea:ec,defaultFilterColumn:!1,flashback:!1,versionNumber:"",filters:[],currentView:jc,views:{grid:!1,chart:!1,icon:!1,detail:!1}},b),!n[f.currentView]||n[f.currentView].disabled){f.currentView=null;for(e in n)if(n.hasOwnProperty(e)&&n[e]&&!n[e].disabled){f.currentView=e;break}this.options.data=null,m.lazyLoading=!0,c.warn("Current view not available. Using view %s. Forcing lazy load.",f.currentView)}for(f.flashback&&(f.flashback=a.extend({minsAgo:null,isEnabled:!0},f.flashback)),e=0;e<f.filters.length;e++)g=a.extend(!0,{id:"",type:Tb,isCaseSensitive:!1,value:"",isEnabled:!0},f.filters[e]),g.columnId&&!g.columnType&&(g.columnType=Ub),g.type!==Ub||this._getColumn(g.columnId)?f.filters[e]=g:(f.filters.splice(e,1),e-=1);if(f.views.grid||n.grid){for(f.views.grid=a.extend(!0,{editMode:!1,singleRowView:{excludeNullValues:!1,onlyDisplayColumns:!0},columns:[],aggregations:[],highlights:[],initialBreakState:ec,stretchColumns:!0},f.views.grid),d(f.views.grid.columns,!0),e=0;e<f.views.grid.aggregations.length;e++)h=a.extend({id:"","function":"",columnType:Ub,columnId:"",tooltip:"",showGrandTotal:!0,isEnabled:!0},f.views.grid.aggregations[e]),h.label||(h.label=h["function"]),this._getColumn(h.columnId)?f.views.grid.aggregations[e]=h:(f.views.grid.aggregations.splice(e,1),e-=1);for(e=0;e<f.views.grid.highlights.length;e++)i=a.extend(!0,{id:"",name:"",type:Tb,columnType:Ub,columnId:"",backgroundColor:"",textColor:"",condition:{type:Ub,columnType:Ub,columnId:"",operator:"",isCaseSensitive:!1,value:"",expression:""},isEnabled:!0},f.views.grid.highlights[e]),i.type===Ub&&!this._getColumn(i.columnId)||i.condition.type===Ub&&!this._getColumn(i.condition.columnId)?(f.views.grid.highlights.splice(e,1),e-=1):f.views.grid.highlights[e]=i}if((f.views.icon||n.icon)&&(f.views.icon=a.extend(!0,{columns:[],initialBreakState:ec},f.views.icon),d(f.views.icon.columns)),(f.views.detail||n.detail)&&(f.views.detail=a.extend(!0,{columns:[],initialBreakState:ec},f.views.detail),d(f.views.detail.columns)),f.views.chart){f.views.chart=a.extend(!0,{type:$d,orientation:ke,stack:ne},f.views.chart),f.views.chart.axis&&(f.views.chart.axis=a.extend({label:"",value:"",valueDecimalPlaces:""},f.views.chart.axis));for(j in f.views.chart.chartColumns)f.views.chart.chartColumns.hasOwnProperty(j)&&(k=f.views.chart.chartColumns[j],k=a.extend({columnType:Ub},k),k.sort&&(k.sort=a.extend({order:null,direction:Gc,nulls:Jc},k.sort)),f.views.chart.chartColumns[j]=k)}return f},_defaultSavedReports:function(b){var c,d=!1,e=a.extend({reports:this.options.savedReports},b);for(c=0;c<e.reports.length;c++)e.reports[c]=this._defaultSavedReport(e.reports[c]),e.reports[c].isCurrent&&(d=!0,this.currentSavedReportIdx=c);return d||(this.currentSavedReportIdx=0),e.reports},_renderColumnHeaderMenu:function(b,c,d,e){function f(b,c){var d=a.extend(!0,{buttonClass:"a-IRR-button "+Pa,label:"",iconOnly:!0,icon:"",isToggle:!1,toggleState:null,attributes:{},data:{}},c);b.markup("<li").attr(ad,Oa).markup(">"),d.isToggle&&(d.attributes["aria-pressed"]=d.toggleState,d.toggleState&&(d.buttonClass+=" "+tb),delete d.isToggle,delete d.toggleState),E(b,d),b.markup("</li>")}var g,h,i,j=!1,k=this._getId("column_header_search"),l=this._getColumn(e),m=this._currentReportSettings().views.grid.columns,o=0;for(b.markup("<ul").attr(ad,Na).markup(">"),l.features.controlBreak&&f(b,{label:n("CONTROL_BREAK"),icon:"icon-ig-control-break",data:{option:"break"}}),l.features.aggregate&&f(b,{label:n("AGGREGATE"),icon:"icon-ig-aggregate",data:{option:"aggregate"}}),g=0;g<m.length;g++)if(m[g].columnId===e){j=m[g].isFrozen;break}for(g=0;g<m.length;g++)m[g].isVisible&&!this._getColumn(m[g].columnId).isHidden&&m[g].seq>o&&(o=m[g].seq),m[g].columnId===e&&(i=m[g].seq);i<o&&f(b,{label:n(j?"UNFREEZE":"FREEZE"),icon:"icon-ig-frozen-column",isToggle:!0,toggleState:j,data:{option:"freeze"}}),l.features.canHide&&f(b,{label:n("HIDE"),icon:"icon-ig-remove-col",data:{option:bc}}),l.helpid&&f(b,{label:n("HELP"),icon:"icon-ig-help",data:{option:"help"}}),b.markup("</ul>"),c&&(b.markup("<div").attr(ad,Qa).markup(">"),J(b,{labelFor:k,cssClasses:Ra,label:n("SEARCH"),labelTextHidden:!0}),l.filter.textCase&&(h=this._getTextTransformClass(l)),A(b,{id:k,cssClasses:Sa+(h?" "+h:""),placeholder:n("FILTER_WITH_DOTS")}),d&&(b.markup("<div").attr(ad,Ta).attr("id",this._getId("column_header_menu_rows")).markup(">"),b.markup("</div>")),b.markup("</div>"))},_setOperationUpdate:function(a){a.operation&&a.operation===Oc||(a.operation=Pc)},_renderIG:function(){var a=this,c=this.element,d=b.htmlBuilder(),e=this.options.config,f=this._getId("summary");d.markup("<div").attr(ad,V).markup(">"),e.toolbar&&e.toolbarData&&d.markup("<div").attr("id",this._getId("toolbar")).markup(">").markup("</div>"),d.markup("</div>"),d.markup("<div").attr(ad,Y).markup(">"),e.reportSettingsArea&&this._renderReportSettings(d),d.markup("<div class='u-vh'").attr("id",f).markup("></div><div").attr(ad,_).attr("id",this._getId("content_container")).markup(">"),this._forEachView(function(b,c){d.markup("<div").attr("id",a._getId(c.elementId)).attr(ad,c.cssClass).attr(Ib,f).markup(" style='display:none'></div>")}),d.markup("</div></div>"),c.append(d.toString()),e.reportSettingsArea&&this._initReportSettings()},_resetReportSettings:function(){var a=this;this._ifNoChangesDo(function(b){if(a._currentReportSettings().baseReportId)return a._call({resetReportSettings:[a._report()]},{success:function(c){var d=a._defaultSavedReport(c.regions[0].resetReportSettings[0]);a.options.savedReports[a.currentSavedReportIdx]=d,b&&a.clearChanges(),a._report(d.id),a._updateChangeReportAction()}})})},_openDialog:function(a,b){function c(a){var b=a+"Dialog$",c="_render"+a.substr(0,1).toUpperCase()+a.substr(1)+"Dialog";return f[b]||f[c](),f[b]}function d(a,b){var d=c(a);b&&d.dialog(ic,"id",b),d.dialog("open")}var e,f=this;switch(b=b||{},a){case wc:case xc:case Ac:case yc:case Cc:d(a,b.id);break;case Bc:c(a).dialog(ic,{id:b.id,columnId:b.columnId}).dialog("open");break;case zc:e=f._currentReportSettings().flashback,e=e?e.minsAgo:5,R({labelKey:"APEX.IG.MINUTES_AGO",titleKey:"APEX.IG.FLASHBACK",okLabelKey:"APEX.DIALOG.SAVE",helpKey:"APEX.IG.HELP.FLASHBACK",helpTitleKey:"APEX.IG.HELP.FLASHBACK_TITLE",value:e},function(a){a!==!1&&f.updateFlashback({isEnabled:!0,minsAgo:parseInt(a,10)})});break;case mc:this.viewsImpl[mc].openDialog();break;case Dc:c("reportSettings").dialog(ic,"saveAs",!1).dialog("open");break;case Ec:c("reportSettings").dialog(ic,"saveAs",!0).dialog("open");break;case Fc:d(a)}},_setModel:function(b){var c,d,e,f,g,h,i,j,l,m,n,o=!1,p=!1,q=!1,r=this.options.config,s=r.pagination.showTotalRowCount,t=b.viewImpl,u=t.internalIdentifier,v=r.views[u];t.model&&(k.release(t.modelName),t.modelName=null,t.model=null),b.remove||(v.useModelFrom&&r.views[v.useModelFrom].shareModel?(l=this.getViews(v.useModelFrom),m=l.internalIdentifier,j=m+"_shared"):(l=t,m=u,j=v.shareModel?m+"_shared":m),n=this._isCurrentlyEditable()&&l.supports.edit,n&&(o=r.editable.allowedOperations.create,p=r.editable.allowedOperations.update,q=r.editable.allowedOperations[Zb]),r.parentRegionStaticId&&null===r.modelInstanceId&&(n=!1),i=r.modelInstanceId?[r.regionStaticId+"_"+j,r.modelInstanceId]:r.regionStaticId+"_"+j,t.modelName=i,t.model=k.get(i),t.model||(l.supports.totalRows||(s=!1),c=a.extend({},r.defaultModelOptions,{recordIsArray:!0,hasTotalRecords:s,regionId:r.regionId,regionStaticId:r.regionStaticId,ajaxIdentifier:r.ajaxIdentifier,pageItemsToSubmit:r.itemsToSubmit,parentRecordId:this.parentRecordId,fields:t.modelColumns,editable:n,saveSelection:n&&r.submitSelectedRows,paginationType:Nc,regionData:{reportId:this._report(),view:m,ajaxColumns:r.ajaxColumns}}),c.types||(c.types={"default":{operations:{canAdd:o,canEdit:p,canDelete:q}}}),a.each(["identityField","metaField","typeField","sequenceField"],function(a,b){t.specialColumns[b]&&(c[b]=t.specialColumns[b])}),r.parentRegionStaticId&&(this.parentModel?c.parentModel=this.parentModel:(d=a("#"+r.parentRegionStaticId+"_ig"),c.parentModel=r.parentRegionStaticId+"_"+d.interactiveGrid("getCurrentViewId"))),n&&(c.regionData.allowedOperations=r.editable.allowedOperations["protected"]),b.initialData?(e=b.initialData.values,f=s?b.initialData.totalRows:null,g=b.initialData.moreData,h=b.initialData.dataOverflow,t.model=k.create(i,c,e,f,g,h)):b.fetchData?t.model=k.create(i,c):t.model=k.create(i,c,[],0),this.modelReportSettingsSeq[i]=this.reportSettingsSeq),this._trigger(Ge,null,{viewId:u,model:t.model}),b.updateComponent&&(this.reportSettingsSeq>this.modelReportSettingsSeq[i]&&(this._updateModelRegionData(t),t.clearModelData()),t.setModelName(t.modelName,t.modelColumns)))},_anyChanges:function(){var a=this.editableViewImpl;return!!(a&&this._isCurrentlyEditable()&&a.model&&k.anyChanges(!1,a.model.name,!0))},_ifNoChangesDo:function(a,b){var c=this,d=this._anyChanges();b||(b=a,a=!1),d?a||setTimeout(function(){i.confirm(n("UNSAVED_CHANGES_CONTINUE_CONFIRM"),function(a){a?(c._setEditMode(!1),b(d)):c._refreshReportSettings()})},1):b(d)},_clearToolbarSearch:function(){var a=this.options.config;a.toolbar&&a.toolbar.searchField&&a.toolbarData&&this.toolbar$.toolbar("findElement","search_field").val("")},_toolbarFind:function(a){var b=null,c=this.getToolbar();return c&&(b=c.toolbar("find",a)),b},resize:function(){var b,c,d,e,f=this.options.config,g=0,h=0,i=this.element,j=i.width(),k=this._currentViewImpl(),l=a(aa,i).children().addBack();this.ignoreResizeHandler=!0,l.width(j),f.maxHeight&&(b=i.height(),d=a(W,i),e=a(ua,i),d.filter(":visible").length>0&&(g=d.outerHeight()),e.filter(":visible").length>0&&(h=e.outerHeight()),c=b-(g+h),l.height(c)),a.apex.stickyWidget&&i.find(".a-IG-header.js-stickyWidget-toggle").stickyWidget($b),k&&k.view$&&k.resize(),this.ignoreResizeHandler=!1},refresh:function(){var a=this;this._ifNoChangesDo(function(){a._forEachView(function(a,b){b.model&&b.clearModelData()})})},clearChanges:function(){var a;this.editableViewImpl&&(a=this.editableViewImpl.model,a&&a.isChanged()&&a.clearChanges())},setMasterRecord:function(a,b){return this.options.config.parentRegionStaticId?(this.parentModel=a.modelId(),void(b?this._setModelInstance(a.getRecordId(b),a,b):this._setModelInstance(null))):void c.warn("No master region defined.")},gotoCell:function(a,b,c){var d;this._view()!==this.editableView&&this._view(this.editableView),d=this._currentViewImpl(),a&&this._setModelInstance(a),d.gotoCell&&d.gotoCell(b,c)},getActions:function(){return this.actions},getToolbar:function(){return this.toolbar$},getSelectedRecords:function(){var a=this._currentViewImpl();return a.supports.selection?a.getSelectedRecords():null},setSelectedRecords:function(a,b,c){var d,e,f,g,h=this._currentViewImpl();if(h.supports.selection){if(a.length&&"string"==typeof a[0])for(g=h.model,e=a,a=[],d=0;d<e.length;d++)f=g.getRecord(e[d]),f&&a.push(f);h.setSelectedRecords(a,b,c)}},getReports:function(a){var b,d=this.options.savedReports;if(!a)return d;for(b=0;b<d.length;b++)if(d[b].id===a)return d[b];c.warn("No report exists with ID: ",a)},addReport:function(b,d){var e=a.extend(b,{operation:Oc,isEnabled:!0}),f=a.extend({save:!0},d);this.options.config.features.saveReport?(this.getReports().push(e),f.save&&this._saveReport(e,Oc)):c.warn("Unable to add report settings because the configuration disallows it.")},updateReport:function(b,d,e){var f,g,h=this.getReports(),i=a.extend({save:!0},e);if(this.options.config.features.saveReport){for(f=0;f<h.length;f++)if(g=h[f],g.id===b){this._setOperationUpdate(d),g=a.extend(!0,g,d);break}i.save&&this._saveReport(g,Pc)}else c.warn("Unable to update report settings because the configuration disallows it.")},deleteReport:function(b,d){var e={},f=a.extend({save:!0},d);this.options.config.features.saveReport?(e.id=b,e.operation=Qc,f.save&&this._saveReport(e,Qc)):c.warn("Unable to delete report settings because the configuration disallows it.")},getFilters:function(a){var b,d=this._currentReportSettings().filters;if(!a)return d;for(b=0;b<d.length;b++)if(d[b].id===a)return d[b];c.warn("No filter exists with ID: ",a)},addFilter:function(b,c){function d(){f.columnName&&(f.columnId=e._getColumnByName(f.columnName).id,delete f.columnName),e.getFilters().push(f),g.save&&e._setReportSettings({refreshModel:g.refreshData,affectsOtherViewsModels:!0})}var e=this,f=a.extend(b,{operation:Oc,isEnabled:!0}),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},updateFilter:function(b,c,d){function e(){var d,e=f._isSettingsCheckboxFocused(b,xc);for(d=0;d<g.length;d++)if(g[d].id===b){f._setOperationUpdate(c),g[d]=a.extend(!0,g[d],c);break}h.save&&f._setReportSettings({refreshModel:h.refreshData,affectsOtherViewsModels:!0},function(){f._focusOnSettingsCheckbox(e,b,xc)})}var f=this,g=this.getFilters(),h=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},d);h.skipNoChangesCheck?e():this._ifNoChangesDo(e)},deleteFilter:function(b,c){function d(){var c;for(c=0;c<f.length;c++)if(f[c].id===b){f[c]=a.extend(!0,f[c],{operation:Qc});break}g.save&&e._setReportSettings({refreshModel:g.refreshData,affectsOtherViewsModels:!0})}var e=this,f=this.getFilters(),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},getHighlights:function(a){var b,d=this._getCurrentView().highlights;if(!a)return d;for(b=0;b<d.length;b++)if(d[b].id===a)return d[b];c.warn("No highlight exists with ID: ",a)},addHighlight:function(b,c){function d(){f.columnName&&(f.columnId=e._getColumnByName(f.columnName).id,delete f.columnName),e.getHighlights().push(f),g.save&&e._setReportSettings({refreshModel:g.refreshData,affectsOtherViewsModels:!0})}var e=this,f=a.extend(b,{operation:Oc,isEnabled:!0}),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},updateHighlight:function(b,c,d){function e(){var d,e=f._isSettingsCheckboxFocused(b,yc);for(d=0;d<g.length;d++)if(g[d].id===b){f._setOperationUpdate(c),g[d]=a.extend(!0,g[d],c),c.type===Tb&&(delete g[d].columnId,delete g[d].columnType);break}h.save&&f._setReportSettings({refreshModel:h.refreshData,affectsOtherViewsModels:!0},function(){f._focusOnSettingsCheckbox(e,b,yc)})}var f=this,g=this.getHighlights(),h=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},d);h.skipNoChangesCheck?e():this._ifNoChangesDo(e)},deleteHighlight:function(b,c){function d(){var c;for(c=0;c<f.length;c++)if(f[c].id===b){f[c]=a.extend(!0,f[c],{operation:Qc});break}g.save&&e._setReportSettings({refreshModel:g.refreshData,affectsOtherViewsModels:!0})}var e=this,f=this.getHighlights(),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},getAggregates:function(){var a=[],b=this._currentViewImpl();return b.supports.aggregation&&(a=this._getCurrentView().aggregations),a},addAggregate:function(b,c){function d(){e.getAggregates().push(f),g.save&&e._setReportSettings({refreshModel:g.refreshData})}var e=this,f=a.extend(b,{operation:Oc}),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},updateAggregate:function(b,c,d){function e(){var d,e=f._isSettingsCheckboxFocused(b,Bc);for(d=0;d<g.length;d++)if(g[d].id===b){f._setOperationUpdate(c),g[d]=a.extend(!0,g[d],c);break}h.save&&f._setReportSettings({refreshModel:h.refreshData},function(){f._focusOnSettingsCheckbox(e,b,Bc)})}var f=this,g=this.getAggregates(),h=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},d);h.skipNoChangesCheck?e():this._ifNoChangesDo(e)},deleteAggregate:function(b,c){function d(){var c;for(c=0;c<f.length;c++)if(f[c].id===b){f[c]=a.extend(!0,f[c],{operation:Qc});break}g.save&&e._setReportSettings({refreshModel:g.refreshData})}var e=this,f=this.getAggregates(),g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);g.skipNoChangesCheck?d():this._ifNoChangesDo(d)},getFlashback:function(){return this._currentReportSettings().flashback},addFlashback:function(b,c){function d(){e._currentReportSettings().flashback=a.extend(b,{isEnabled:!0}),e._setOperationUpdate(e._currentReportSettings()),f.save&&e._setReportSettings({refreshModel:f.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"})}var e=this,f=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);f.skipNoChangesCheck?d():this._ifNoChangesDo(d)},updateFlashback:function(b,c){function d(){var c=e._isSettingsCheckboxFocused("",zc);
e._setOperationUpdate(e._currentReportSettings()),e._currentReportSettings().flashback=a.extend(e._currentReportSettings().flashback,b),f.save&&e._setReportSettings({refreshModel:f.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"},function(){e._focusOnSettingsCheckbox(c,"",zc)})}var e=this,f=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c);f.skipNoChangesCheck?d():this._ifNoChangesDo(d)},deleteFlashback:function(b){function c(){d._setOperationUpdate(d._currentReportSettings()),d._currentReportSettings().flashback=!1,e.save&&d._setReportSettings({refreshModel:e.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"})}var d=this,e=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},b);e.skipNoChangesCheck?c():this._ifNoChangesDo(c)},addControlBreak:function(b,c,d){function e(){var d,e,h=0,i=f._getCurrentView().columns;for(d=0;d<i.length;d++)if(i[d].columnId===b.id){e=i[d];break}if(!c.order){for(d=0;d<i.length;d++)i[d]["break"]&&h++;c.order=h+1}e=a.extend(!0,e,{isVisible:!c.isEnabled,"break":{order:c.order,isEnabled:c.isEnabled,direction:c.direction,nulls:c.nulls}}),f._setOperationUpdate(e),c.isEnabled&&f._adjustControlBreakSort(),c.isEnabled?a.extend(b,{controlBreakIndex:c.order,controlBreakDirection:c.direction,hidden:!0}):a.extend(b,{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),g.save&&f._setReportSettings({refreshModel:g.refreshData,refreshColumns:g.refreshData})}var f=this,g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},d?d:{});g.skipNoChangesCheck?e():this._ifNoChangesDo(e)},updateControlBreak:function(b,c,d){function e(){var d,e,h=f._getCurrentView().columns,i=f._isSettingsCheckboxFocused(b,Cc);for(d=0;d<h.length;d++)if(h[d].columnId===b){e=h[d];break}e=a.extend(!0,e,{isVisible:!c.isEnabled,"break":{order:c.order,isEnabled:c.isEnabled,direction:c.direction,nulls:c.nulls}}),f._setOperationUpdate(e),c.isEnabled?a.extend(f._currentViewImpl().modelColumns[f._getColumn(b).name],{controlBreakIndex:e["break"].order,controlBreakDirection:e["break"].direction,hidden:!0}):a.extend(f._currentViewImpl().modelColumns[f._getColumn(b).name],{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),f._adjustControlBreakSort(),g.save&&f._setReportSettings({refreshModel:g.refreshData,refreshColumns:g.refreshData},function(){f._focusOnSettingsCheckbox(i,b,Cc)})}var f=this,g=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},d?d:{});g.skipNoChangesCheck?e():this._ifNoChangesDo(e)},deleteControlBreak:function(b,c){function d(){var c,d,g=e._getCurrentView().columns;for(c=0;c<g.length;c++)if(g[c].columnId===b){d=g[c];break}d=a.extend(!0,d,{isVisible:!0,"break":!1}),e._setOperationUpdate(d),a.extend(e._currentViewImpl().modelColumns[e._getColumn(b).name],{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),e._adjustControlBreakSort(),f.save&&e._setReportSettings({refreshModel:f.refreshData,refreshColumns:f.refreshData})}var e=this,f=a.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},c?c:{});f.skipNoChangesCheck?d():this._ifNoChangesDo(d)},getSorts:function(){var b,c,d,e=[],f=this._getCurrentView().columns;for(b=0;b<f.length;b++)c=f[b],c.sort&&(d=a.extend({},{columnId:c.columnId,order:c.sort.order,direction:c.sort.direction,nulls:c.sort.nulls}),e.push(d));for(e.length>0&&(e=e.sort(function(a,b){return a.order-b.order})),b=0;b<e.length;b++)delete e[b].order;return e},setSorts:function(a){var b,c,d,e,f,g,h,i=this,j=this.options.config,k=this._currentViewImpl(),l=k.internalIdentifier,m=j.views[l],n=this._getCurrentView().columns,o=null;this._ifNoChangesDo(function(){for(m.useModelFrom&&j.views[m.useModelFrom].shareModel&&(k=i.getViews(m.useModelFrom)),k.supports.configurableColumns&&(o=k.getColumns()),c=0;c<a.length;c++){for(f=a[c],e=!1,b=0;b<n.length;b++)if(g=n[b],f.columnId===g.columnId){e=!0;break}e||n.push({columnId:f.columnId,operation:Oc,columnType:Ub,isVisible:!1,isFrozen:!1})}for(b=0;b<n.length;b++){if(g=n[b],e=!1,o)for(d=0;d<o.length;d++)if(g.columnId===o[d].id){h=o[d];break}for(c=0;c<a.length;c++)if(f=a[c],f.columnId===g.columnId){e=!0,f.order=c+1;break}e?(delete f.columnId,g.sort?f.order===g.sort.order&&f.direction===g.sort.direction&&f.nulls===g.sort.nulls||(g.sort=f,i._setOperationUpdate(g),h&&(h.sortIndex=g.sort.order,h.sortDirection=g.sort.direction)):(g.sort=f,i._setOperationUpdate(g),h&&(h.sortIndex=g.sort.order,h.sortDirection=g.sort.direction))):g.sort&&(g.sort=!1,i._setOperationUpdate(g),h&&(h.sortIndex=null,h.sortDirection=null))}i._adjustControlBreakSort(),i._setReportSettings({refreshModel:!0,refreshColumns:!0}),k!==i._currentViewImpl()&&(k.refreshColumns(),k.refresh())})},getChart:function(){return this._currentReportSettings().views.chart},setChart:function(b){var c,d=this,e=this.getChart(),f=this._currentViewImpl(),g={};e?(c=a.extend(e,b),this._setOperationUpdate(c)):c=a.extend({operation:Oc},b),this._currentReportSettings().views.chart=c,this._view()===mc?(g.ig=this,g.igConfig=this.options.config,f.initView(g),this._setReportSettings({refreshView:!0,refreshModel:!0})):this._setReportSettings({},function(){d._view(mc,{fetchData:!0})})},deleteChart:function(){var a=this,b=this._currentViewImpl();this._currentReportSettings().views.chart={operation:Qc},this._setReportSettings({},function(){b.destroyView(a),b.view$=null})},getViews:function(a){return a?this.viewsImpl[a]:this.viewsImpl},getCurrentView:function(){return this.getViews(this.getCurrentViewId())},getCurrentViewId:function(){return this._view()},focus:function(){var a=this.options.config;a.toolbar&&a.toolbar.searchField&&this.toolbar$?this.toolbar$.toolbar("findElement","search_field").focus():this._currentViewImpl().focus()}}),a.apex.interactiveGrid.copyDefaultToolbar=o;var Le=[];a.apex.interactiveGrid.registerView=S;var Me=["selection-fill","selection-clear","selection-copy-down"],Ne={setColumnConfig:function(c){var d,e,f,g,h,i,k,l,m={},o=c.baseModelColumns,p=c.igConfig,q=p.views[this.internalIdentifier].features,r=c.currentReportSettings,s=c.ig,t=Gc,u=p.editable!==!1;for(d=0;d<r.views.grid.columns.length;d++)e=r.views.grid.columns[d],f=s._getColumn(e.columnId),k=a.extend(!0,{},f.defaultGridColumnOptions||{},o[e.columnId]),k.elementId=f.staticId,k.seq=e.seq,void 0===k.noStretch&&(void 0!==f.layout.noStretch?k.noStretch=f.layout.noStretch:null!==q.stretchColumns?k.noStretch=!q.stretchColumns:k.noStretch=!r.views.grid.stretchColumns),f.isHidden||(k.hidden=!e.isVisible,k.frozen=e.isFrozen,e.width&&(k.width=e.width),e.sort&&(k.sortIndex=e.sort.order,k.sortDirection=e.sort.direction),i=e["break"],i&&i.isEnabled&&(t=i.direction,k.controlBreakIndex=i.order,k.controlBreakDirection=t),f.layout.groupId&&("both"===f.layout.useGroupFor?k.useGroupFor="srv,heading":k.useGroupFor=f.layout.useGroupFor,k.groupName=f.layout.groupId),k.helpid=f.helpid,k.canHide=f.features.canHide,k.canSort=f.features.sort,f.link.attributes&&(k.linkAttributes=f.link.attributes),f.link.text&&(k.linkText=f.link.text),f.link.targetColumn&&(k.linkTargetColumn=f.link.targetColumn)),f.accessibility.usedAsRowHeader&&(k.usedAsRowHeader=f.accessibility.usedAsRowHeader),f.appearance.columnCssClasses&&(k.columnCssClasses=f.appearance.columnCssClasses),f.appearance.fieldColSpan&&(k.fieldColSpan=f.appearance.fieldColSpan),f.appearance.fieldCssClasses&&(k.fieldCssClasses=f.appearance.fieldCssClasses),f.validation&&(k.isRequired=f.validation.isRequired),f.appearance.cellTemplate&&(k.cellTemplate=f.appearance.cellTemplate),u&&(k.noCopy=!f["default"].duplicate,l=f["default"].value,a.isPlainObject(l)&&void 0!==l.d&&k.elementId&&(l.d=j(k.elementId).displayValueFor(l.d)),k.defaultValue=l,"actions"===f.specialType&&(g=b.htmlBuilder(),h=ib+" "+lb+" a-Button--actions "+yb,E(g,{label:n("ROW_ACTIONS"),buttonClass:h,iconOnly:!0,icon:"icon-ig-actions",attributes:{"data-menu":s._getId("row_actions_menu"),"aria-haspopup":!0,"aria-expanded":!1}}),k.cellTemplate=g.toString(),g.clear(),E(g,{label:n("SEL_ACTIONS"),buttonClass:h+" js-selectionMenu",iconOnly:!0,icon:"icon-ig-actions",attributes:{"data-menu":s._getId("selection_actions_menu"),"aria-haspopup":!0,"aria-expanded":!1}}),k.heading=g.toString(),k.columnCssClasses?k.columnCssClasses+=" "+Db:k.columnCssClasses=Db,k.headingCssClasses?k.headingCssClasses+=" "+Db:k.headingCssClasses=Db,delete k.index,k.virtual=!0,k.noHeaderActivate=!0,k.elementId=null,0===d&&(k.frozen=!0,e.isFrozen=!0),k.noStretch=!0,k.canSort=!1,k.width||(k.width=qe))),m[f.name]=k;m[Wc]=o[Wc],this.modelColumns=m,this.specialColumns={identityField:0===s.primaryKeyColumns.length?null:s.primaryKeyColumns,metaField:Wc}},init:function(a){var b=a.options.config;a.getActions().add([{name:"selection-copy-down",labelKey:"APEX.IG.COPY_DOWN",icon:"icon-ig-copy-down",hide:!0,action:function(){var b=a._currentViewImpl();b.singleRowMode||b.view$.grid("copyDownSelection")}},{name:"selection-clear",labelKey:"APEX.IG.CLEAR",icon:"icon-ig-clear",hide:!0,action:function(){var b=a._currentViewImpl();b.singleRowMode||b.view$.grid("fillSelection","")}},{name:"selection-fill",labelKey:"APEX.IG.FILL",icon:"icon-ig-fill",hide:!0,getFillValue:function(a){R({labelKey:"APEX.IG.FILL_LABEL",titleKey:"APEX.IG.FILL_TITLE"},a)},action:function(){var b=a._currentViewImpl();b.singleRowMode||this.getFillValue(function(a){a!==!1&&b.view$.grid("fillSelection",a)})}}]),this._initMenus(b,a)},initView:function(c){function d(a,b){C.editMode=b.editMode,C.actions.update("edit"),C._trigger(Ie,a,b)}function e(a,b){return void 0!==a?a:b}function f(a){K.hide(),L.removeClass(tb).attr(Eb,"false"),a&&(L.focus(),H.view$.grid("focus")),L=null,C._off(C.document,"mousedown"),C._off(C.window,"blur"),C._off(K)}function g(){var a,b,c,d=C._currentReportSettings().views.grid.columns,e=H.view$.grid("getColumns"),f=0,g=!1,h=!1;for(a=0;a<d.length;a++)d[a]&&d[a].isVisible&&!C._getColumn(d[a].columnId).isHidden&&d[a].seq>f&&(f=d[a].seq,g=a);if(g!==!1){for(b=d[g],a=0;a<e.length;a++)b.columnId!==e[a].id||e[a].hidden||(c=e[a]);b.isFrozen&&(b.isFrozen=!1,c.frozen=!1,h=!0,C._setOperationUpdate(b))}h?C._setReportSettings({refreshView:!0,refreshColumns:!0}):(C._setReportSettings(),H.singleRowView$&&H.singleRowView$.recordView("refreshFields").recordView($b))}var j,k,l,m,o,p,q,r={},s=b.htmlBuilder(),t=!0,w=c.igConfig,x=w.defaultGridViewOptions.multiple,y=w.defaultGridViewOptions.selectAll,z=w.views.grid.features,A=!1,B=w.defaultGridViewOptions.rowHeader||Kc,C=c.ig,D=C.actions,E=C._isCurrentlyEditable(),F=w.columnGroups,G=!!E&&w.editable.autoAddRow,H=this,J=!0,K=null,L=null;if(!z.gridView&&!z.singleRowView)throw new Error("Interactive Grid grid view must have at least one of grid or single row");switch(a("div.a-GV-columnItemContainer",c.ig$).appendTo(c.ig$),z.gridView&&(s.markup("<div").attr(ad,Ma).attr("style","display:none;").attr("id",C._getId("column_header_menu")).markup(">").markup("</div>"),K=a(s.toString()),a("body").append(K),q=c.currentReportSettings.views.grid.aggregations,q.length>0&&(B!==Kc&&B!==Yc||(B=Zc))),z.rowSelector&&(B===Kc&&(B=Yc),A=!z.rowSelector.hideControl,void 0===x&&(x=z.rowSelector.multiSelect),x&&void 0===y&&(y=z.rowSelector.selectAll)),w.headingFixedTo){case Kc:t=!1,m=!1,o=!1;break;case Rc:t=!0,m=!1,o=!1;break;case Sc:t=!1,m=function(){return h.defaultStickyTop()+a(W,c.ig$).outerHeight()},o=w.defaultGridViewOptions.stickyFooter||!0}for(j=0;j<F.length;j++)k=F[j],r[k.id]={heading:k.heading,label:k.label};z.gridView?(w.defaultGridViewOptions.contextMenu&&!w.defaultGridViewOptions.contextMenu.hasOwnProperty("actionsContext")&&(w.defaultGridViewOptions.contextMenu.actionsContext=C.actions),w.editable&&w.editable.allowedOperations.create===!1&&w.editable.allowedOperations.update===!1&&(J=!1),p={modelName:H.modelName,editable:E,autoAddRecord:G,rowHeader:B,rowHeaderCheckbox:A,aggregateLabels:this._gridAggregateLabels(),highlights:this._gridHighlightsFromReport(c.currentReportSettings),multiple:x,selectAll:y,noDataMessage:w.text.noDataFound,moreDataMessage:w.text.moreDataFound,showNullAs:w.appearance.showNullValue,columns:[H.modelColumns],columnGroups:r,columnSort:z.sort,reorderColumns:e(w.defaultGridViewOptions.reorderColumns,z.reorderColumns),resizeColumns:e(w.defaultGridViewOptions.resizeColumns,z.resizeColumns),pagination:C._getPaginationConfig(w,"defaultGridViewOptions"),rowsPerPage:c.currentReportSettings.rowsPerPage,hasSize:t,stickyTop:m,stickyFooter:o,allowEditMode:J,persistSelection:w.defaultGridViewOptions.persistSelection||w.submitSelectedRows,activateColumnHeader:function(c,d){function e(c){var d,e,f,g=b.htmlBuilder();for(d=0;d<c.length;d++)a.isPlainObject(c[d])?(e=c[d].r,f=c[d].d):e=f=c[d],I(g,{cssClasses:Ua,text:f,data:{"return-value":e}});C._getElement("column_header_menu_rows").html(g.toString())}function j(a){var b=K.find(":focusable");a||(k=b.first(),k.data("first",!0)),l=b.last(),l.data("last",!0)}var k,l,m,o,p,q,r,s=[],t=b.htmlBuilder();K.is(":visible")?f():(m=C._isColumnFilterable(d.column.id),m&&(o=C._hasColumnFilterLov(d.column.id)),L=d.header$,d.header$.addClass(tb).attr(Eb,"true"),C._renderColumnHeaderMenu(t,m,o,d.column.id),p>220?(q=d.column.frozen?2:1,p=d.header$.outerWidth(),K.css("min-width",p-q)):K.css("min-width","0"),r=C.isRTL?Lb:Kb,K.html(t.toString()).show().css({left:0,top:0}).position({my:r+" top",at:r+" bottom",of:d.header$,collision:"fit"}),o?C._getFilterValues(d.column.id,!0,function(a){a.regions[0].filterValues&&(C._getElement("column_header_search").focus(),s=a.regions[0].filterValues,e(s),j())}):(j(),k.focus()),C._on(K,{"click button.a-IRR-sortWidget-button":function(b){var c,e,i,j,k=Gc,l=a(b.currentTarget).data(ic);switch(l){case"hide":H.view$.grid("hideColumn",d.column),C._currentViewColumn(d.column.id,{isVisible:!1}),g(),f(!0);break;case"break":c=C._currentViewColumn(d.column.id),c.sort&&(k=c.sort.direction),C.addControlBreak(d.column,{isEnabled:!0,direction:k}),f(!0);break;case"aggregate":C._openDialog(Bc,{columnId:d.column.id}),f();break;case"freeze":if(e=C._currentReportSettings().views.grid.columns,H.view$.grid(d.column.frozen?"unfreezeColumn":"freezeColumn",d.column),i=d.column.frozen)for(j=0;j<e.length;j++)c=e[j],c.seq<=d.column.seq&&!c.isFrozen&&(c.isFrozen=!0,C._setOperationUpdate(c));else for(j=0;j<e.length;j++)c=e[j],c.seq>=d.column.seq&&c.isFrozen&&(c.isFrozen=!1,C._setOperationUpdate(c));C._setReportSettings(),f(!0);break;case"help":f(!0),h.popupFieldHelp(C._getColumn(d.column.id).helpid,$v("pInstance"))}},keydown:function(b){var c;b.which===a.ui.keyCode.ESCAPE?(f(!0),b.preventDefault()):b.which===a.ui.keyCode.TAB&&(c=!!b.shiftKey,!c&&a(b.target).data("last")&&(b.preventDefault(),k.focus()),c&&a(b.target).data("first")&&(b.preventDefault(),l.focus()))},"keydown input.a-IRR-sortWidget-searchField":function(b){var c,e;if(m&&b.which===a.ui.keyCode.ENTER){if(e=this._getColumn(d.column.id).filter.dataType,e===Ud)try{c=apex.jQuery.timepicker.parseDateString(a(b.target).val(),this._getColumn(d.column.id).appearance.dateFormatMask),C.addFilter({type:Ub,columnType:Ub,columnId:d.column.id,operator:ld,value:u(c),isCaseSensitive:!1})}catch(g){i.alert(n("INVALID_DATE_FORMAT"))}else C.addFilter({type:Ub,columnType:Ub,columnId:d.column.id,operator:e===Sd?vd:ld,value:a(b.target).val(),isCaseSensitive:!1});f(!0),b.preventDefault()}},"keyup input.a-IRR-sortWidget-searchField":function(a){if(o){var b,c=a.target.value;b=s.filter(function(a){return a.d?a.d.toLowerCase().indexOf(c.toLowerCase())>-1:a.toLowerCase().indexOf(c.toLowerCase())>-1}),e(b),j(!0)}},"click a.a-IRR-sortWidget-row":function(b){var c,e,g,h,i=a(b.currentTarget).data("returnValue");o&&(c=C._getColumn(d.column.id).filter.dataType,c===Ud||c.indexOf(Wd)>-1?(e=i.indexOf(Tc),g=i.substring(0,e),h=i.substring(e+1),e>0&&C.addFilter({type:Ub,columnType:Ub,columnId:d.column.id,operator:g,value:h,isCaseSensitive:!1})):C.addFilter({type:Ub,columnType:Ub,columnId:d.column.id,operator:ld,value:i,isCaseSensitive:!0}),f(!0),b.preventDefault())}}),C._on(C.document,{mousedown:function(b){!a(b.target).closest(K).length>0&&!a(b.target).closest(d.header$).length>0&&K.is(":visible")&&f()}}),C._on(C.window,{blur:function(){K.is(":visible")&&f()}}))},cancelColumnHeader:function(){K.is(":visible")&&f()},sortChange:function(a,b){C._ifNoChangesDo(function(){var a,c,d,e,f,g=b.column.sortIndex,h=H.view$.grid("getColumns");for(d=1,a=0;a<h.length;a++)c=h[a],c.sortIndex&&("change"===b.action?c===b.column&&(d=c.sortIndex):"add"===b.action?c.sortIndex>=d&&(d=c.sortIndex+1):"remove"===b.action?c===b.column?(delete c.sortIndex,delete c.sortDirection,e=C._currentViewColumn(b.column.id),e.sort=!1,C._setOperationUpdate(e)):c.sortIndex>g&&(c.sortIndex-=1,C._currentViewColumn(c.id,{sort:{order:c.sortIndex}})):"clear"!==b.action&&"set"!==b.action||(delete c.sortIndex,delete c.sortDirection,e=C._currentViewColumn(c.id),e.sort=!1,C._setOperationUpdate(e)));"clear"!==b.action&&"remove"!==b.action&&(b.column.sortIndex=d,b.column.sortDirection=b.direction,f=b.direction===Gc?Jc:Ic,C._currentViewColumn(b.column.id,{sort:{order:d,direction:b.direction,nulls:f}})),C._setReportSettings({refreshModel:!0,refreshColumns:!0})})},columnReorder:function(a,b){var c,d,e=C._currentReportSettings().views.grid.columns,f=e[b.newPosition].isFrozen;for(v(e,b.oldPosition,b.newPosition),e[b.newPosition]&&(e[b.newPosition].isFrozen=f),c=0;c<e.length;c++)e[c]||e.splice(c,1);for(c=0;c<e.length;c++)d=e[c],d.seq!==c+1&&(d.seq=c+1,C._setOperationUpdate(d));g()},columnResize:function(a,b){C._currentViewColumn(b.column.id,{width:b.width}),C._setReportSettings()},modeChange:d,selectionChange:function(b){var c=H.view$.grid("getSelection");a(".js-selectionMenu",H.view$).prop(gc,0===c.length),H._selectionChange(C,b)},pageChange:function(a,b){C._pageChange(b)}},q.length>0&&(p.aggregateTooltips=this._gridAggregateTooltipsFromReport(C,c.currentReportSettings)),H.view$.grid({},w.defaultGridViewOptions,p),H.curInst=H.view$.grid("instance")):(H.view$.hide(),H.singleRowMode=!0),H.supports.singleRowView&&z.singleRowView&&(H.singleRowView$=a("<div id='"+C._getId("singleRow"+Xc)+"' class='"+La+"'></div>").attr(Ib,C._getId("summary")),H.view$.after(this.singleRowView$),H.singleRowView$.width(H.view$.width()),w.maxHeight&&H.singleRowView$.height(H.view$.height()),l=a.apex.recordView.copyDefaultToolbar(),w.editable&&l[0].controls.unshift({type:hd,labelKey:"APEX.IG.SRV_CHANGE_MENU",iconOnly:!0,icon:"icon-ig-actions",menuId:C._getId("srv_actions_menu")}),z.gridView&&(D.remove(["close-single-row-view"]),D.add([{name:"close-single-row-view",labelKey:"APEX.IG.REPORT_VIEW",action:function(){var a,b=C.editMode;return b&&H.singleRowView$.recordView("setEditMode",!1),H.singleRowMode=!1,H.singleRowView$.hide(),H.curInst=H.view$.grid("instance"),C._updateSummary(),a=C._toolbarFind("selection_submenu"),a&&(a.disabled=!H.supports.selection),H.view$.show().grid(_b),b&&H.view$.grid("setEditMode",!0),H.view$.grid("focus"),!0}}]),l[0].controls.unshift({type:gd,action:"close-single-row-view"})),H.singleRowView$.recordView({},w.defaultSingleRowOptions,{modelName:H.modelName,actionsContext:D,toolbar:l,editable:E,autoAddRecord:G,noDataMessage:w.text.noDataFound,moreDataMessage:w.text.moreDataFound,showNullAs:w.appearance.showNullValue,fields:[H.modelColumns],fieldGroups:r,hasSize:t,modeChange:d,recordChange:function(a){H._selectionChange(C,a)}}),z.gridView?(H.singleRowView$.hide(),H.singleRowMode=!1):H.curInst=H.singleRowView$.recordView("instance"))},viewChanged:function(a,b,c){b._toggleEnableAction(a&&c.editable&&this.supports.edit,Me),a&&this._selectionChange(b)},updateActions:function(a){var b=a.ig,c=b.options.config;b._toggleShowAction(a.canEdit&&this.supports.edit&&this.supports.cellSelection&&c.views.grid.features.cellRangeActions,Me)},setReportOptions:function(a,b,c,d){function e(){k._hasGridView()&&k.view$.grid(ic,"aggregateTooltips",k._gridAggregateTooltipsFromReport(a,c))}function f(){k._hasGridView()&&k.view$.grid(ic,"highlights",k._gridHighlightsFromReport(c))}function g(){var b,d,e,f,g,h,i=l.views.grid.features,j=c.views.grid.columns,m=k.getColumns(),n=i.gridView!==!1,o=!1;for(b=0;b<j.length;b++)for(g=j[b],e=a._getColumn(g.columnId),d=0;d<m.length;d++)if(f=m[d],f.id===g.columnId){n&&(h=f.noStretch,void 0!==e.defaultGridColumnOptions&&void 0!==e.defaultGridColumnOptions.noStretch||(void 0!==e.layout.noStretch?f.noStretch=e.layout.noStretch:null!==i.stretchColumns?f.noStretch=!i.stretchColumns:f.noStretch=!c.views.grid.stretchColumns),f.noStretch!==h&&(o=!0)),f.hidden===g.isVisible&&f.canHide&&(f.hidden=!g.isVisible,o=!0);break}o&&(k.refreshColumns(),k.refresh())}function h(){var b=a._isCurrentlyEditable();k.model.getOption("identityField")&&k.model.setOption("editable",b),k.singleRowView$&&(k.singleRowView$.recordView(ic,"editable",b),k.singleRowView$.recordView(ic,"autoAddRecord",b)),k._hasGridView()&&(k.view$.grid(ic,"editable",b),k.view$.grid(ic,"autoAddRecord",b)),a._updateActions()}function i(){k._hasGridView()&&(k.view$.grid(ic,"rowsPerPage",c.rowsPerPage),b||(k.pendingRefresh=!0))}var j,k=this,l=a.options.config;j={"views.grid.aggregations":e,"views.grid.highlights":f,"views.grid.columns":g,editable:h,rowsPerPage:i},j[d]&&k.view$&&j[d]()},_selectionChange:function(a,b){b&&a._selectionChange(b)},_initMenus:function(b,c){function d(a){m.push(a),n&&n.push(a)}var e,f=null,g=null,h=null,i=this,j=b.views.grid.features,k=[],l=[],m=[],n=c._toolbarFind("selection_submenu");n&&(n=n.menu.items,i._selectionMenuItems=n,i._selectionMenuStart=n.length),m.push({type:cd,action:"selection-copy",accelerator:"Ctrl+C"}),m.push(fd),f=a("<div/>",{id:c._getId("row_actions_menu")}).appendTo("body"),g=a("<div/>",{id:c._getId("srv_actions_menu")}).appendTo("body"),h=a("<div/>",{id:c._getId("selection_actions_menu")}).appendTo("body"),i.supports.singleRowView&&(k.push({id:"srv",type:cd,action:"single-row-view"}),k.push(fd)),b.editable&&(b.editable.allowedOperations.create&&(k.push({id:"ins",type:cd,action:"row-add-row"}),l.push({id:"ins",type:cd,label:b.text.addRowButton,action:"insert-record"}),k.push({id:"dup",type:cd,action:"row-duplicate"}),l.push({id:"dup",type:cd,action:"duplicate-record"}),d({id:"dup",type:cd,action:"selection-duplicate"}),k.push(fd),d(fd)),(b.editable.allowedOperations[Zb]||b.editable.allowedOperations.create)&&(k.push({id:"del",type:cd,action:"row-delete"}),l.push({id:"del",type:cd,action:"delete-record"})),b.editable.allowedOperations[Zb]&&d({id:"del",type:cd,action:"selection-delete"}),k.push(fd),k.push({id:"refresh",type:cd,action:"row-refresh"}),l.push({id:"refresh",type:cd,action:"refresh-record"}),d(fd),d({id:"refresh",type:cd,action:"selection-refresh"}),(b.editable.allowedOperations.update||b.editable.allowedOperations[Zb])&&(k.push({id:"revert",type:cd,action:"row-revert"}),l.push({id:"revert",type:cd,action:"revert-record"}),d({id:"revert",type:cd,action:"selection-revert"})),j.cellRangeActions&&(d(fd),d({id:"copy_down",type:cd,action:"selection-copy-down"}),d({id:"fill",type:cd,action:"selection-fill"}),d({id:"clear",type:cd,action:"selection-clear"})),f.menu({actionsContext:c.actions,items:k,beforeOpen:function(){var a,d=i.view$.find("."+yb+"."+tb).closest("tr");i.singleRowMode?(c._updateAction(bc,"single-row-view"),a=i.getSelectedRecords()):a=i.view$.grid("getRecords",[d]),b.editable.allowedOperations.create&&(f.menu("find","dup").disabled=!i.model.allowAdd(null,"copy"),f.menu("find","ins").disabled=!i.model.allowAdd(null,"new")),(b.editable.allowedOperations.update||b.editable.allowedOperations[Zb])&&c._toggleEnableAction(i.model.canRevertRecord(a[0]),["row-revert"]),b.editable.allowedOperations[Zb]||c._toggleShowAction(i.model.allowDelete(a[0]),"row-delete"),b.editable.allowedOperations[Zb]&&c._toggleEnableAction(i.model.allowDelete(a[0]),["row-delete"])},afterClose:function(){i.singleRowMode&&c._updateAction(ac,"single-row-view"),c._updateSelectionActions()}}),g.menu({actionsContext:c.actions,items:l,beforeOpen:function(){var a=i.getSelectedRecords();b.editable.allowedOperations.create&&(g.menu("find","dup").disabled=!i.model.allowAdd(null,"copy"),g.menu("find","ins").disabled=!i.model.allowAdd(null,"new")),(b.editable.allowedOperations.update||b.editable.allowedOperations[Zb])&&(g.menu("find","revert").disabled=!a.length||!i.model.canRevertRecord(a[0]),g.menu("find","refresh").disabled=!a.length),b.editable.allowedOperations[Zb]||c._toggleShowAction(i.model.allowDelete(a[0]),"delete-record"),b.editable.allowedOperations[Zb]&&(g.menu("find","del").disabled=!a.length||!i.model.allowDelete(a[0]))}}),h.menu({actionsContext:c.actions,items:m,beforeOpen:function(){c._updateSelectionActions()}}),n&&(e=c.toolbar$.toolbar("findElement","actions_button_menu"),e.on("menubeforeopen.gridview",function(){c._updateSelectionActions()}))),i.rowActionMenu$=f,i.srvActionMenu$=g,i.selActionMenu$=h},_gridAggregateLabels:function(){var b=null;return this.aggregateLabels||(this.aggregateLabels=b={},a.each(we,function(a,c){b[c]={label:n(c),overallLabel:n(c+"_OVERALL")}})),this.aggregateLabels},_gridAggregateTooltipsFromReport:function(a,b){var c,d,e=null,f=b.views.grid.aggregations;if(f.length>0)for(e={},c=0;c<f.length;c++)d=f[c],d.tooltip&&(e[d["function"]+"|"+a._getColumn(d.columnId).name]=d.tooltip);return e},_gridHighlightsFromReport:function(a){var b,c,d,e={},f=a.views.grid.highlights;for(b=0;b<f.length;b++)d=f[b],c=d.id,e[c]={seq:d.seq,row:d.type===Tb,color:d.textColor,background:d.backgroundColor};return e},_hasGridView:function(){return this.view$.is(":apex-grid")},destroyView:function(a){this._hasGridView()&&this.view$.grid(Yb),this.singleRowView$&&this.singleRowView$.remove(),a._getElement("column_header_menu").remove()},destroy:function(a){this.rowActionMenu$&&this.rowActionMenu$.length>0&&(this.rowActionMenu$.remove(),this.rowActionMenu$=null),this.selActionMenu$&&this.selActionMenu$.length>0&&(this.selActionMenu$.remove(),this.selActionMenu$=null),this._selectionMenuStart&&this._selectionMenuItems&&(this._selectionMenuItems.length=this._selectionMenuStart,this._selectionMenuItems=this._selectionMenuStart=null,a.toolbar$.toolbar("findElement","actions_button_menu").off("menubeforeopen.gridview"))},getContextRecord:function(b){var c;return this.singleRowMode?[this.singleRowView$.recordView("getRecord")]:(c=a(b).closest("tr"),c.length>0?this.view$.grid("getRecords",[c]):[])},getColumns:function(){return this.singleRowMode?this.curInst.getFields():this.curInst.getColumns()},canCopy2Clipboard:function(){return!this.singleRowMode&&this.curInst.option("allowCopy")},selectCells:function(a){if(!this.singleRowMode){if(void 0===a)return this.view$.grid(ic,"selectCells");this.view$.grid(ic,"selectCells",a)}},getSelectedRecords:function(){var a;return this.singleRowMode?(a=this.curInst.getRecord(),a?[a]:[]):this.curInst.getSelectedRecords()},setSelectedRecords:function(a,b,c){var d;this.singleRowMode?(d=this.model.indexOf(a[0]),d<0&&(d=0),this.singleRowView$.recordView(ic,"recordOffset",d)):this.view$.grid("setSelectedRecords",a,b,c)},getActiveRecordId:function(){return this.curInst.getActiveRecordId()},setModelName:function(a){this.curInst.option("modelName",a)},setEditMode:function(a){this.curInst.setEditMode(a)},finishEditing:function(){return this.curInst.finishEditing()},setNoDataMessage:function(a){this.curInst.option("noDataMessage",a)},focus:function(){this.curInst.focus()},refreshColumns:function(){this._hasGridView()&&this.view$.grid("refreshColumns"),this.singleRowView$&&this.singleRowView$.recordView("refreshFields")},footerHeight:function(){if(!this.singleRowMode)return this.view$.find(".a-GV-footer").outerHeight()||0},refresh:function(a){this._hasGridView()&&this.view$.grid($b),this.singleRowView$&&this.singleRowView$.recordView($b)},resize:function(){this.curInst.resize()},show:function(){this.curInst.element.show()},hide:function(){this.curInst.element.hide()}},Oe={setColumnConfig:function(b){var c,d,e={},f={},g=b.baseModelColumns,h=b.igConfig,i=b.ig,j=h.editable!==!1,k=0;for(d in g)g.hasOwnProperty(d)&&(k++,e=a.extend(!0,{},g[d]),d!==Wc?(c=i._getColumn(d),e.elementId=c.staticId,e.seq=k,j&&"actions"===c.specialType&&(delete e.index,e.virtual=!0,e.elementId=null),f[c.name]=e):f[Wc]=e);this.modelColumns=f,this.specialColumns={identityField:0===i.primaryKeyColumns.length?null:i.primaryKeyColumns,metaField:Wc}},initView:function(a){var b=!0,c=!1,d=a.igConfig,e=a.ig;switch(d.headingFixedTo){case Kc:b=!1;break;case Sc:b=!1,c=!0}this.view$.tableModelView(this.viewConfig(a,{modelName:this.modelName,noDataMessage:d.text.noDataFound,moreDataMessage:d.text.moreDataFound,showNullAs:d.appearance.showNullValue,hasSize:b,columns:this.modelColumns,pagination:e._getPaginationConfig(d,this.internalIdentifier===kc?"defaultIconViewOptions":"defaultDetailViewOptions"),rowsPerPage:a.currentReportSettings.rowsPerPage,stickyFooter:c,selectionChange:function(a){e._selectionChange(a)},pageChange:function(a,b){e._pageChange(b)}}))},destroyView:function(){this.view$.tableModelView(Yb)},setReportOptions:function(a,b,c,d){var e,f=this;e={rowsPerPage:function(){f.view$.tableModelView(ic,"rowsPerPage",c.rowsPerPage),b||(f.pendingRefresh=!0)}},e[d]&&f.view$&&e[d]()},getSelectedRecords:function(){return this.view$.tableModelView("getSelectedRecords")},setSelectedRecords:function(a,b,c){this.view$.tableModelView("setSelectedRecords",a,b,c)},setModelName:function(a){this.view$.tableModelView(ic,"modelName",a)},setNoDataMessage:function(a){this.view$.tableModelView(ic,"noDataMessage",a)},footerHeight:function(){return this.view$.find(".a-GV-footer").outerHeight()||0},refresh:function(a){this.view$.tableModelView($b)},resize:function(){this.view$.tableModelView(_b)},isConfigured:function(){return!0}};S(a.extend({},Oe,{title:n("ICON"),internalIdentifier:kc,cssClass:Ia,icon:"icon-ig-icons",supports:{sort:!0},viewConfig:function(b,c){var d,e=b.igConfig,f=e.views.icon.features,g=!1,h=e.views.icon;return c=a.extend(!0,{iconListOptions:{}},e.defaultIconViewOptions,c),h.customIcon?(h.customIcon.trim().toLowerCase().match(/\s*<li/)?c.recordTemplate=h.customIcon:c.recordTemplate="<li>"+h.customIcon+"</li>",h.customIcon.toLowerCase().indexOf("href=")>=0&&(g=!0)):(c.labelColumn=h.labelColumn,h.iconClassColumn&&(c.iconClassColumn=h.iconClassColumn),h.imageURLColumn&&(c.imageURLColumn=h.imageURLColumn),h.imageAttributes&&(c.imageAttributes=h.imageAttributes),h.linkAttributes&&(c.linkAttributes=h.linkAttributes),h.linkTarget&&(c.linkTarget=!0,g=!0),c.linkTargetColumn&&(g=!0)),c.useIconList=!0,d=c.iconListOptions,g&&void 0===d.navigation&&(d.navigation=!0),f.rowSelector&&void 0===d.multiple&&void 0===d.itemSelector&&(d.multiple=f.rowSelector.multiSelect,d.navigation?d.itemSelector=!1:d.itemSelector=!f.rowSelector.hideControl),c.iconListOptions.contextMenu&&!c.iconListOptions.contextMenu.hasOwnProperty("actionsContext")&&(c.iconListOptions.contextMenu.actionsContext=b.ig.actions),c},focus:function(){this.view$.tableModelView("focus")},getContextRecord:function(b){var c,d=this.view$.tableModelView("option").useIconList;return d&&(c=a(b).closest(".a-IconList-item"),c.length)?this.view$.tableModelView("getRecords",c):[]},canCopy2Clipboard:function(){var a=this.view$.tableModelView("option","iconListOptions");return void 0===a.allowCopy||a.allowCopy}})),S(a.extend({},Ne,{title:n("GRID"),internalIdentifier:jc,cssClass:Ha,icon:"icon-ig-report",supports:{cellSelection:!0,edit:!0,highlight:!0,controlBreak:!0,aggregation:!0,singleRowView:!0,configurableColumns:!0,download:!0},gotoCell:function(a,b){return this.singleRowMode?this.curInst.gotoField(a,b):this.curInst.gotoCell(a,b)},lockActive:function(){this.curInst.lockActive()},unlockActive:function(){this.curInst.unlockActive()}})),S(a.extend({},Oe,{title:n("DETAIL"),internalIdentifier:lc,cssClass:Ja,icon:"icon-ig-details",supports:{selection:!1,sort:!0},viewConfig:function(b,c){var d=b.igConfig,e=d.views.detail;return c.beforeTemplate=e.beforeRows,c.recordTemplate=e.row,c.afterTemplate=e.afterRows,c.useIconList=!1,a.extend(!0,{},d.defaultDetailViewOptions,c)},focus:function(){this.view$.find(":focusable").first().focus()}})),S({
title:n("CHART"),internalIdentifier:mc,cssClass:Ka,icon:"icon-ig-chart",supports:{totalRows:!1,selection:!1,sort:!1,changeRowsPerPage:!1},initDialog:function(b){var c,d,f,g,h=[],i=[],j=[],k=n(te),l=b.options.config.columns;for(h.push({value:"",label:k}),i.push({value:"",label:k}),j.push({value:"",label:k}),f=0;f<l.length;f++)d=l[f],d.specialType||d.isHidden||(g||(g=d),h.push({value:d.id,label:b._getColumnLabel(d.id)}),d.dataType===Td&&i.push({value:d.id,label:b._getColumnLabel(d.id)}),d.dataType!==Td&&d.dataType!==Ud||j.push({value:d.id,label:b._getColumnLabel(d.id)}));c=[{value:"",label:n(te)},{value:we.CNT,label:n(we.CNT)},{value:we.CNT_DIST,label:n(we.CNT_DIST)},{value:we.APPR_CNT_DIST,label:n(we.APPR_CNT_DIST)},{value:we.MIN,label:n(we.MIN)},{value:we.MAX,label:n(we.MAX)},{value:we.SUM,label:n(we.SUM)},{value:we.AVG,label:n(we.AVG)}],this.dialog$=b._createDialog("chart",function(a){a(Sb,{id:"CH_TYPE",iconOnly:!1,options:[{value:Zd,label:n("AREA"),iconCssClasses:"icon-region-chart-area"},{value:$d,label:n("BAR"),iconCssClasses:"icon-region-chart-bar"},{value:_d,label:n("BUBBLE"),iconCssClasses:"icon-region-chart-bubble"},{value:ae,label:n("DONUT"),iconCssClasses:"icon-region-chart-donut"},{value:be,label:n("FUNNEL"),iconCssClasses:"icon-region-chart-funnel"},{value:ce,label:n("LINE"),iconCssClasses:"icon-region-chart-line"},{value:de,label:n("LINE_WITH_AREA"),iconCssClasses:"icon-region-chart-line-area"},{value:ee,label:n("PIE"),iconCssClasses:"icon-region-chart-pie"},{value:fe,label:n("POLAR"),iconCssClasses:"icon-region-chart-polar"},{value:ge,label:n("RADAR"),iconCssClasses:"icon-region-chart-radar"},{value:he,label:n("RANGE"),iconCssClasses:"icon-region-chart-range-bar"},{value:ie,label:n("SCATTER"),iconCssClasses:"icon-region-chart-scatter"},{value:je,label:n("STOCK"),iconCssClasses:"icon-region-chart-stock"}]}),a(Nb,{id:"CH_ORIENTATION",options:[{value:ke,label:n("VERTICAL")},{value:le,label:n("HORIZONTAL")}]}),a(Nb,{id:"CH_LABEL_COLUMN",options:h}),a(Nb,{id:"CH_VALUE_COLUMN",options:i}),a(Nb,{id:"CH_VALUE_FUNCTION",options:c}),a(Nb,{id:"CH_X_COLUMN",options:j}),a(Nb,{id:"CH_X_FUNCTION",options:c}),a(Nb,{id:"CH_Y_COLUMN",options:i}),a(Nb,{id:"CH_Y_FUNCTION",options:c}),a(Nb,{id:"CH_Z_COLUMN",options:i}),a(Nb,{id:"CH_Z_FUNCTION",options:c}),a(Nb,{id:"CH_OPEN_COLUMN",options:i}),a(Nb,{id:"CH_OPEN_FUNCTION",options:c}),a(Nb,{id:"CH_CLOSE_COLUMN",options:i}),a(Nb,{id:"CH_CLOSE_FUNCTION",options:c}),a(Nb,{id:"CH_HIGH_COLUMN",options:i}),a(Nb,{id:"CH_HIGH_FUNCTION",options:c}),a(Nb,{id:"CH_LOW_COLUMN",options:i}),a(Nb,{id:"CH_LOW_FUNCTION",options:c}),a(Nb,{id:"CH_VOLUME_COLUMN",options:i}),a(Nb,{id:"CH_VOLUME_FUNCTION",options:c}),a(Nb,{id:"CH_TARGET_COLUMN",options:i}),a(Nb,{id:"CH_TARGET_FUNCTION",options:c}),a(Nb,{id:"CH_SERIES_COLUMN",options:h}),a(Nb,{id:"CH_STACK",options:[{value:ne,label:n("OFF")},{value:me,label:n("ON")}]}),a(Nb,{id:"CH_SORT_BY",options:[]}),b._renderSortControls(a,"CH_SORT_"),a(Mb,{id:"CH_AXIS_LABEL_TITLE",maxChars:255}),a(Mb,{id:"CH_AXIS_VALUE_TITLE",maxChars:255}),a(Mb,{id:"CH_AXIS_VALUE_DECIMAL"})},{viewDialog:!0,width:750,height:450,titleKey:"CHART",modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},type:{label:"TYPE",elementId:"CH_TYPE",seq:10,defaultValue:$d},orientationId:{label:"ORIENTATION",elementId:"CH_ORIENTATION",seq:20,fieldColSpan:7,defaultValue:ke},labelColumnId:{label:"LABEL_COLUMN",elementId:"CH_LABEL_COLUMN",seq:30,fieldColSpan:7,defaultValue:""},valueColumnId:{label:"VALUE_COLUMN",elementId:"CH_VALUE_COLUMN",seq:40,fieldColSpan:7,defaultValue:""},valueFunctionId:{label:"AGGREGATION",elementId:"CH_VALUE_FUNCTION",seq:45,fieldColSpan:5,defaultValue:""},xColumnId:{label:"X_COLUMN",elementId:"CH_X_COLUMN",seq:50,fieldColSpan:7,defaultValue:""},xFunctionId:{label:"AGGREGATION",elementId:"CH_X_FUNCTION",seq:55,fieldColSpan:5,defaultValue:""},yColumnId:{label:"Y_COLUMN",elementId:"CH_Y_COLUMN",seq:60,fieldColSpan:7,defaultValue:""},yFunctionId:{label:"AGGREGATION",elementId:"CH_Y_FUNCTION",seq:65,fieldColSpan:5,defaultValue:""},openColumnId:{label:"OPEN_COLUMN",elementId:"CH_OPEN_COLUMN",seq:70,fieldColSpan:7,defaultValue:""},openFunctionId:{label:"AGGREGATION",elementId:"CH_OPEN_FUNCTION",seq:75,fieldColSpan:5,defaultValue:""},closeColumnId:{label:"CLOSE_COLUMN",elementId:"CH_CLOSE_COLUMN",seq:80,fieldColSpan:7,defaultValue:""},closeFunctionId:{label:"AGGREGATION",elementId:"CH_CLOSE_FUNCTION",seq:85,fieldColSpan:5,defaultValue:""},highColumnId:{label:"HIGH_COLUMN",elementId:"CH_HIGH_COLUMN",seq:90,fieldColSpan:7,defaultValue:""},highFunctionId:{label:"AGGREGATION",elementId:"CH_HIGH_FUNCTION",seq:95,fieldColSpan:5,defaultValue:""},lowColumnId:{label:"LOW_COLUMN",elementId:"CH_LOW_COLUMN",seq:100,fieldColSpan:7,defaultValue:""},lowFunctionId:{label:"AGGREGATION",elementId:"CH_LOW_FUNCTION",seq:105,fieldColSpan:5,defaultValue:""},volumeColumnId:{label:"VOLUME_COLUMN",elementId:"CH_VOLUME_COLUMN",seq:110,fieldColSpan:7,defaultValue:""},volumeFunctionId:{label:"AGGREGATION",elementId:"CH_VOLUME_FUNCTION",seq:115,fieldColSpan:5,defaultValue:""},targetColumnId:{label:"TARGET_COLUMN",elementId:"CH_TARGET_COLUMN",seq:120,fieldColSpan:7,defaultValue:""},targetFunctionId:{label:"AGGREGATION",elementId:"CH_TARGET_FUNCTION",seq:125,fieldColSpan:5,defaultValue:""},zColumnId:{label:"Z_COLUMN",elementId:"CH_Z_COLUMN",seq:130,fieldColSpan:7,defaultValue:""},zFunctionId:{label:"AGGREGATION",elementId:"CH_Z_FUNCTION",seq:135,fieldColSpan:5,defaultValue:""},seriesColumnId:{label:"SERIES_COLUMN",elementId:"CH_SERIES_COLUMN",seq:140,fieldColSpan:7,defaultValue:""},stackId:{label:"STACK",elementId:"CH_STACK",seq:143,fieldColSpan:5,defaultValue:ne},sortBy:{label:"SORT_BY",elementId:"CH_SORT_BY",seq:145,fieldColSpan:7,defaultValue:n("LABEL_COLUMN")},sortDirection:{label:"DIRECTION",elementId:"CH_SORT_DIRECTION",seq:147,fieldColSpan:3,defaultValue:Gc},sortNulls:{label:"NULLS",elementId:"CH_SORT_NULLS",seq:149,fieldColSpan:2,defaultValue:Jc},axisLabelTitle:{label:"AXIS_LABEL_TITLE",elementId:"CH_AXIS_LABEL_TITLE",seq:150,fieldColSpan:7},axisValueTitle:{label:"AXIS_VALUE_TITLE",elementId:"CH_AXIS_VALUE_TITLE",seq:170,fieldColSpan:7},axisValueDecimal:{label:"AXIS_VALUE_DECIMAL",elementId:"CH_AXIS_VALUE_DECIMAL",seq:180,fieldColSpan:3}}},init:function(c,d,e){function f(){var b=k.val();l.val();switch(O([l,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,I,J,K,L,M,P,R,S,T]),g(),h=[l,m,o,y,z,E,A,B,C,R,S,T],i=[m,o,E,R,S,T],b){case Zd:N(h),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))});break;case $d:N([l,m,o,r,y,z,E,H,A,B,C,R,S,T]),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),j[ze.Z]=n("Z_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case _d:N([m,p,q,r,F,G,H,A,B,C,R,S,T]),Q([m,p,q,r],!0),Q([o,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.X]=n("X_COLUMN"),j[ze.Y]=n("Y_COLUMN"),j[ze.Z]=n("Z_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case ae:N([m,o,E,R,S,T,C]),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case be:N([l,m,o,x,E,P,R,S,T]),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),j[ze.TARGET]=n("TARGET_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case ce:N(h),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case de:N(h),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case ee:N([m,o,E,C,R,S,T]),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1);break;case fe:N(i),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case ge:N(i),Q([m,o],!0),Q([p,q,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.VALUE]=n("VALUE_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case he:N([l,m,u,v,r,y,K,L,H,A,B,C,R,S,T]),Q([u,v],!0),Q([m,o,p,q,r,s,t],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.HIGH]=n("HIGH_COLUMN"),j[ze.LOW]=n("LOW_COLUMN"),j[ze.Z]=n("Z_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U);break;case je:N([m,s,t,u,v,w,I,J,K,L,M]),Q([m,s,t,u,v],!0),Q([o,p,q,r],!1);break;case ie:N([m,p,q,y,F,G,A,B,C,R,S,T]),Q([m,p,q],!0),Q([o,r,s,t,u,v],!1),U=R.val(),R.empty(),j={},j[ze.LABEL]=n("LABEL_COLUMN"),j[ze.X]=n("X_COLUMN"),j[ze.Y]=n("Y_COLUMN"),a.each(j,function(b,c){R.append(a("<option></option>").attr("value",b).text(c))}),null===U&&""===U||R.val(U)}}function g(){function a(a,d){c.setValue(b,a,d)}var b=e.recordView("getRecord");a("sortBy",R.val()),a("sortDirection",S.val()),a("sortNulls",T.val()),a("orientationId",l.val()),a("stackId",z.val())}var h,i,j={},k=b._getElement("CH_TYPE"),l=b._getElement("CH_ORIENTATION"),m=b._getElement("CH_LABEL_COLUMN"),o=b._getElement("CH_VALUE_COLUMN"),p=b._getElement("CH_X_COLUMN"),q=b._getElement("CH_Y_COLUMN"),r=b._getElement("CH_Z_COLUMN"),s=b._getElement("CH_OPEN_COLUMN"),t=b._getElement("CH_CLOSE_COLUMN"),u=b._getElement("CH_HIGH_COLUMN"),v=b._getElement("CH_LOW_COLUMN"),w=b._getElement("CH_VOLUME_COLUMN"),x=b._getElement("CH_TARGET_COLUMN"),y=b._getElement("CH_SERIES_COLUMN"),z=b._getElement("CH_STACK"),A=b._getElement("CH_AXIS_LABEL_TITLE"),B=b._getElement("CH_AXIS_VALUE_TITLE"),C=b._getElement("CH_AXIS_VALUE_DECIMAL"),E=b._getElement("CH_VALUE_FUNCTION"),F=b._getElement("CH_X_FUNCTION"),G=b._getElement("CH_Y_FUNCTION"),H=b._getElement("CH_Z_FUNCTION"),I=b._getElement("CH_OPEN_FUNCTION"),J=b._getElement("CH_CLOSE_FUNCTION"),K=b._getElement("CH_HIGH_FUNCTION"),L=b._getElement("CH_LOW_FUNCTION"),M=b._getElement("CH_VOLUME_FUNCTION"),P=b._getElement("CH_TARGET_FUNCTION"),R=b._getElement("CH_SORT_BY"),S=b._getElement("CH_SORT_DIRECTION"),T=b._getElement("CH_SORT_NULLS"),U=R.val();k.change(f),e.on("apexbeginrecordedit",function(a,c){var d=k.val();D(b._getId("CH_TYPE"),d),f()})},load:function(c){var d,e,f=a.extend({},b.getChart());f.axis&&(f.axis.label&&(f.axisLabelTitle=f.axis.label),f.axis.value&&(f.axisValueTitle=f.axis.value),f.axis.valueDecimalPlaces&&(f.axisValueDecimal=f.axis.valueDecimalPlaces),delete f.axis),f.stackId=f.stack,delete f.stack,f.orientationId=f.orientation,delete f.orientation;for(d in f.chartColumns)if(f.chartColumns.hasOwnProperty(d))switch(e=f.chartColumns[d],d){case"LABEL":f.type in{bar:1,bubble:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}&&(f.labelColumnId=e.columnId,e.sort&&(f.sortBy="LABEL",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls));break;case"VALUE":f.valueColumnId=e.columnId,e["function"]&&(f.valueFunctionId=e["function"]),e.sort&&(f.sortBy="VALUE",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"X":f.xColumnId=e.columnId,e["function"]&&(f.xFunctionId=e["function"]),e.sort&&(f.sortBy="X",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"Y":f.yColumnId=e.columnId,e["function"]&&(f.yFunctionId=e["function"]),e.sort&&(f.sortBy="Y",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"Z":f.zColumnId=e.columnId,e["function"]&&(f.zFunctionId=e["function"]),e.sort&&(f.sortBy="Z",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"OPEN":f.openColumnId=e.columnId,e["function"]&&(f.openFunctionId=e["function"]);break;case"CLOSE":f.closeColumnId=e.columnId,e["function"]&&(f.closeFunctionId=e["function"]);break;case"HIGH":f.highColumnId=e.columnId,e["function"]&&(f.highFunctionId=e["function"]),e.sort&&(f.sortBy="HIGH",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"LOW":f.lowColumnId=e.columnId,e["function"]&&(f.lowFunctionId=e["function"]),e.sort&&(f.sortBy="LOW",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"VOLUME":f.volumeColumnId=e.columnId,e["function"]&&(f.volumeFunctionId=e["function"]);break;case"TARGET":f.targetColumnId=e.columnId,e["function"]&&(f.targetFunctionId=e),e.sort&&(f.sortBy="TARGET",f.sortDirection=e.sort.direction,f.sortNulls=e.sort.nulls);break;case"SERIES_NAME":f.seriesColumnId=e.columnId}delete f.chartColumns,c.setData(f)},validate:function(a,b,c){var d,f=!0,g=a.getRecord();return g.sortBy&&(d=g.sortBy.toLowerCase()+"ColumnId",g.hasOwnProperty(d)?b(g.sortBy,"sortBy"):(c(g.sortBy,"sortBy",e.formatMessage("APEX.IG.INVALID_SORT_BY",g.sortBy)),f=!1)),f},store:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p=a.extend({},c.getRecord());p.axis={},p.axis={label:p.axisLabelTitle,value:p.axisValueTitle,valueDecimalPlaces:p.axisValueDecimal},delete p.axisLabelTitle,delete p.axisValueTitle,delete p.axisValueDecimal,p.stack=p.stackId,p.orientation=p.orientationId,p.chartColumns={},p.type in{bar:1,bubble:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}?p.labelColumnId&&(d={columnId:p.labelColumnId,columnType:Ub},p.sortBy===ze.LABEL&&(d.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.chartColumns.LABEL=d):delete p.chartColumns.LABEL,p.type in{bar:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1}?p.valueColumnId&&(e={columnId:p.valueColumnId,columnType:Ub},p.sortBy===ze.VALUE&&(e.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.valueFunctionId&&(e["function"]=p.valueFunctionId),p.chartColumns.VALUE=e):delete p.chartColumns.VALUE,p.type in{bubble:1,scatter:1}?(p.xColumnId&&(f={columnId:p.xColumnId,columnType:Ub},"X"===p.sortBy&&(f.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.xFunctionId&&(f["function"]=p.xFunctionId),p.chartColumns.X=f),p.yColumnId&&(g={columnId:p.yColumnId,columnType:Ub},"Y"===p.sortBy&&(g.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.yFunctionId&&(g["function"]=p.yFunctionId),p.chartColumns.Y=g)):(delete p.chartColumns.X,delete p.chartColumns.Y),p.type in{bar:1,bubble:1}?p.zColumnId&&(h={columnId:p.zColumnId,columnType:Ub},"Z"===p.sortBy&&(h.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.zFunctionId&&(h["function"]=p.zFunctionId),p.chartColumns.Z=h):delete p.chartColumns.Z,p.type===je?(p.openColumnId&&(i={columnId:p.openColumnId,columnType:Ub},p.openFunctionId&&(i["function"]=p.openFunctionId),p.chartColumns.OPEN=i),p.closeColumnId&&(j={columnId:p.closeColumnId,columnType:Ub},p.closeFunctionId&&(j["function"]=p.closeFunctionId),p.chartColumns.CLOSE=j),p.volumeColumnId&&(m={columnId:p.volumeColumnId,columnType:Ub},p.volumeFunctionId&&(m["function"]=p.volumeFunctionId),p.chartColumns.VOLUME=m)):(delete p.chartColumns.OPEN,delete p.chartColumns.CLOSE,delete p.chartColumns.VOLUME),p.type in{range:1,stock:1}?(p.highColumnId&&(k={columnId:p.highColumnId,columnType:Ub},"HIGH"===p.sortBy&&(k.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.highFunctionId&&(k["function"]=p.highFunctionId),p.chartColumns.HIGH=k),p.lowColumnId&&(l={columnId:p.lowColumnId,columnType:Ub},"LOW"===p.sortBy&&(l.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.lowFunctionId&&(l["function"]=p.lowFunctionId),p.chartColumns.LOW=l)):(delete p.chartColumns.HIGH,delete p.chartColumns.LOW),p.type===be?p.targetColumnId&&(n={columnId:p.targetColumnId,columnType:Ub},"TARGET"===p.sortBy&&(n.sort={order:1,direction:p.sortDirection,nulls:p.sortNulls}),p.targetFunctionId&&(n["function"]=p.targetFunctionId),p.chartColumns.TARGET=n):delete p.chartColumns.TARGET,p.seriesColumnId&&(o={columnId:p.seriesColumnId,columnType:Ub},p.chartColumns.SERIES_NAME=o),delete p.sortBy,delete p.sortDirection,delete p.sortNulls,delete p.stackId,delete p.orientationId,delete p.xColumnId,delete p.xFunctionId,delete p.yFunctionId,delete p.yColumnId,delete p.valueColumnId,delete p.valueFunctionId,delete p.labelColumnId,delete p.zColumnId,delete p.zFunctionId,delete p.openColumnId,delete p.openFunctionId,delete p.closeColumnId,delete p.closeFunctionId,delete p.volumeColumnId,delete p.volumeFunctionId,delete p.highColumnId,delete p.highFunctionId,delete p.lowColumnId,delete p.lowFunctionId,delete p.targetColumnId,delete p.targetFunctionId,delete p.seriesColumnId,b.setChart(p)}})},setColumnConfig:function(b){var c,d,e,f,g,h={},i={},j=b.baseModelColumns,k=b.ig,l=b.igConfig,m=b.currentReportSettings.views.chart.chartColumns,n=["CLOSE","HIGH","LABEL","LOW","OPEN","SERIES_NAME","TARGET","VALUE","VOLUME","X","Y","Z"],o=0;for(g=0;g<n.length;g++)e=n[g],m.hasOwnProperty(e)&&(h=a.extend(!0,{},j[m[e].columnId]),h.seq=o,h.index=o,i[e]=h,o++);if(l.parentRegionStaticId)for(d in j)j.hasOwnProperty(d)&&(f=j[d],f.parentField&&(c=k._getColumn(d),h=a.extend(!0,{},f),h.seq=o,h.virtual=!0,delete h.index,i[c.name]=h,o++));this.modelColumns=i,this.specialColumns={}},initView:function(b){var c,d,e,f,g,h,i,j,k,l,m,n=b.ig,o=this,p=n._currentReportSettings().views.chart,q=b.igConfig,r=[],s="disabled";require(["ojs/ojcore","ojs/ojchart","ojs/ojvalidation"],function(){function b(a){var b,c=oj.ConverterFactory.CONVERTER_TYPE_NUMBER,d=n._getColumn(a);return d.filter.dataType===Ud||d.filter.dataType===Wd||d.filter.dataType===Xd||d.filter.dataType===Yd?(c=oj.ConverterFactory.CONVERTER_TYPE_DATETIME,b=t(d)):d.filter.dataType===Td&&(b=u(d)),b?oj.Validation.converterFactory(c).createConverter(b):{}}function t(b){var c=b.appearance.formatMask;return c?a.each(Be,function(a,b){b.value===c&&(c=b.label)}):c={formatType:"date",dateFormat:"medium"},c}function u(b){var c,d=b.appearance.formatExample.trim();return p.axis&&p.axis.valueDecimalPlaces&&(c=p.axis.valueDecimalPlaces),d?a.each(Ae,function(a,b){b.value===d&&(d=b.label)}):d={style:"decimal",maximumFractionDigits:c?c:2},d}switch(p.chartColumns.LABEL.columnId&&(h=n._getColumn(p.chartColumns.LABEL.columnId),h.filter.dataType!==Ud&&h.filter.dataType!==Wd&&h.filter.dataType!==Xd&&h.filter.dataType!==Yd||(s="enabled")),d={legend:{rendered:oe,position:"end"},orientation:p.orientation,stack:p.stack,animationOnDisplay:oe,animationOnDataChange:oe,hoverBehavior:"dim",groups:[],series:[],valueFormats:[],timeAxisType:s,translations:{labelNoData:q.text.noDataFound}},p.type){case Zd:e=a.extend({},d,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},coordinateSystem:pe,valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:"y",converter:b(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case $d:e=a.extend({},d,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},coordinateSystem:pe,valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:"y",converter:b(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case _d:e=a.extend({},d,{type:p.type,legend:{rendered:ne},coordinateSystem:pe,xAxis:{},yAxis:{}});break;case ae:e=a.extend({},d,{type:ee,styleDefaults:{pieInnerRadius:.5},legend:{rendered:oe},hideAndShowBehavior:"withRescale",valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}]});break;case ee:e=a.extend({},d,{type:p.type,styleDefaults:{pieInnerRadius:0},legend:{rendered:oe},hideAndShowBehavior:"withRescale",valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}]});break;case be:e=a.extend({},d,{type:p.type,legend:{rendered:oe},valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}]}),p.chartColumns.TARGET&&e.valueFormats.push({type:"target",converter:b(p.chartColumns.TARGET.columnId)});break;case ce:e=a.extend({},d,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},coordinateSystem:pe,valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case de:e=a.extend({},d,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},coordinateSystem:pe,valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case fe:e=a.extend({},d,{type:$d,coordinateSystem:p.type,legend:{rendered:ne},valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}],polarGridShape:"circle",stack:me});break;case ge:e=a.extend({},d,{type:Zd,coordinateSystem:fe,legend:{rendered:ne},valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:bd,converter:b(p.chartColumns.VALUE.columnId)}],polarGridShape:"polygon",stack:me});break;case he:e=a.extend({},d,{type:$d,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:"high",converter:b(p.chartColumns.HIGH.columnId)},{type:"low",converter:b(p.chartColumns.LOW.columnId)}],xAxis:{},yAxis:{}});break;case ie:e=a.extend({},d,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:oe}:{rendered:ne},coordinateSystem:pe,valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:"x",converter:b(p.chartColumns.X.columnId)},{type:"y",converter:b(p.chartColumns.Y.columnId)}],xAxis:{},yAxis:{}});break;case je:e=a.extend({},d,{type:p.type,zoomAndScroll:"delayed",initialZooming:"first",legend:{rendered:oe},dataCursor:me,dataCursorBehavior:"smooth",valueFormats:[{type:Zc,converter:b(p.chartColumns.LABEL.columnId)},{type:"high",converter:b(p.chartColumns.HIGH.columnId)},{type:"low",converter:b(p.chartColumns.LOW.columnId)},{type:"open",converter:b(p.chartColumns.OPEN.columnId)},{type:"close",converter:b(p.chartColumns.CLOSE.columnId)}],xAxis:{},yAxis:{}}),p.chartColumns.VOLUME&&e.valueFormats.push({type:"volume",converter:b(p.chartColumns.VOLUME.columnId)}),e.series.type="candlestick"}if(p.type in{area:1,bar:1,bubble:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}){switch(p.type){case je:i=p.chartColumns.OPEN.columnId;break;case he:i=p.chartColumns.HIGH.columnId;break;case ie:i=p.chartColumns.X.columnId;break;case _d:i=p.chartColumns.X.columnId;break;default:i=p.chartColumns.VALUE.columnId}p.axis&&(p.axis.label&&(j=p.axis.label),p.axis.value&&(k=p.axis.value)),e.xAxis={title:j,baselineScaling:"zero",majorTick:{rendered:me},minorTick:{rendered:ne},tickLabel:{rendered:me,converter:b(p.chartColumns.LABEL.columnId),scaling:Kc},position:oe,rotation:ne},e.yAxis={title:k,baselineScaling:"zero",position:p.type===je?"end":oe,majorTick:{rendered:me},minorTick:{rendered:ne},tickLabel:{rendered:me,converter:b(i),scaling:Kc}}}if(p.type in{bar:1,area:1,polar:1,radar:1,range:1,line:1,lineWithArea:1,bubble:1,scatter:1,stock:1}){switch(c={path:"groups",uniqueIndexField:"LABEL",item:{name:"LABEL"}},p.type){case _d:g={name:"LABEL",x:"X",y:"Y",z:"Z",labelPosition:"'none'"};break;case ie:g={name:"LABEL",x:"X",y:"Y",labelPosition:"'none'"};break;case je:g={name:"LABEL",open:"OPEN",close:"CLOSE",high:"HIGH",low:"LOW",volume:"VOLUME"};break;case he:g={name:"LABEL",high:"HIGH",low:"LOW",labelPosition:"'none'"};break;default:g={label:"VALUE",value:"VALUE",name:"LABEL",labelPosition:"'none'"}}r=p.chartColumns.SERIES_NAME?[c,{path:"series",uniqueIndexField:"SERIES_NAME",item:{name:"SERIES_NAME",displayInLegend:me}},{path:"series/[SERIES_NAME]/items",item:g}]:[c,{path:"series/0/items",item:g}]}if(p.type in{pie:1,donut:1,funnel:1}&&(l=o.model.getFieldKey("LABEL"),r=[{path:"series",uniqueIndexField:"LABEL",item:function(a,b){return{name:""+b[l],displayInLegend:me}}},{path:"series/[LABEL]/items",item:{value:"VALUE",targetValue:"TARGET"}}]),p.chartColumns.VALUE){if(p.chartColumns.VALUE.sort)switch(p.chartColumns.VALUE.sort.direction){case"asc":m="ascending";break;case"desc":m="descending"}}else p.chartColumns.LABEL.sort?m="label-"+p.chartColumns.LABEL.sort.direction:(p.chartColumns.SERIES_NAME&&(m="label-asc"),m="off");e.sorting=m,o._dataTransformOptions={showNullAs:q.appearance.showNullValue,offset:0,template:r},o._chartOptions=e,o._updateChartData(),f=o.view$.ojChart(e),f.css({"max-width":"100%"}),o._subscribeModel(),(q.lazyLoad||o.model.getTotalRecords()<0)&&o.refresh()})},_updateChartData:function(){var b,c=["pie","funnel","scatter","bubble","stock","polar","radar"];if(b=this.model.transform(this._dataTransformOptions,this._chartOptions),a.inArray(b.type,c)===-1&&b.series.length>1&&"mixedFrequency"!==b.timeAxisType&&"skipGaps"!==b.timeAxisType){l.chartSortArray(b.groups,b.sorting);for(var d=0;d<b.series.length;d++)l.chartFillGaps(b.groups,b.series[d].items,b.sorting,!0)}},_subscribeModel:function(){var a=this,b=this.view$;this._observedModel&&this._observedModel.unSubscribe(this._observerId),this._observedModel=this.model,this._observerId=this.model.subscribe({viewId:b[0].id,onChange:function(b){b===$b&&a.refresh()},progressView:b})},refresh:function(){var a=this;if(this.view$.hasClass("oj-chart")){if(null===this.view$[0].offsetParent)return void(this._pendingRefresh=!0);this._pendingRefresh=!1,this.model.fetch(0,function(b){b&&c.warn("No data fetched for chart"),a._updateChartData(),a.resize()})}},resize:function(){if(this.view$.hasClass("oj-chart")){if(this._pendingRefresh)return void this.refresh();this.view$.ojChart($b)}},destroyView:function(){this.model&&this.model.unSubscribe(this.view$[0].id),this.view$.ojChart(Yb)},setModelName:function(a){this._subscribeModel(),this.view$.hasClass("oj-chart")&&(this.model.getTotalRecords()<0?this.refresh():(this._updateChartData(),this.resize()))},setNoDataMessage:function(a){var b=this.view$;b.hasClass("oj-chart")&&b.ojChart(ic,"translations.labelNoData",a)}})}(apex.jQuery,apex.util,apex.debug,apex.server,apex.lang,apex.actions,apex.region,apex.theme,apex.message,apex.item,apex.model,apex.widget.util);
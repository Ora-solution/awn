pe=function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return b.p_arg_names=["FB_FLOW_ID"],b.p_arg_values=[ua],e.process(a,b,c)}function i(a){var b=d.getMessage("MODEL."+a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.format.apply(this,c)}function j(a){var b=d.getMessage("MODEL."+a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.formatNoEscape.apply(this,c)}function k(a,b,c){return c?j(a,b):b}function l(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=b[c]);for(var c in a)a.hasOwnProperty(c)&&a[c]===g&&delete a[c]}function n(a){for(var b=a;b.length<36;)b="0"+b;return b}function o(a){return/^[ABCDEFGHIJKLMNOPQRSTUVWXYZ]+[ABCDEFGHIJKLMNOPQRSTUVWXYZ0-9_$]*$/.test(a)?a:'"'+a+'"'}function p(b,c){function e(b,c,e){var f,h,j,k,l=pa[e],n=l.pluginType;if(n.plugins=n.plugins||{},b!==g)for(var o=0;o<b.length;o++){if(n.plugins[b[o].name]={name:b[o].name,title:d.formatNoEscape(c,b[o].title),category:b[o].category,uiTypes:b[o].uiTypes,componentTypes:b[o].componentTypes,attributes:b[o].attributes,features:b[o].features,stdAttributes:b[o].stdAttributes||{},aboutUrl:b[o].aboutUrl,helpText:b[o].helpText||i("HELP.NO_TEXT"),isQuickPick:b[o].isQuickPick===!0,isDeprecated:b[o].isDeprecated===!0,isLegacy:b[o].isLegacy===!0,isRequired:a.inArray("SOURCE_REQUIRED",b[o].features)!==-1||a.inArray("LOV_REQUIRED",b[o].features)!==-1||a.inArray("REQUIRED",b[o].features)!==-1||a.inArray("REGION_REQUIRED",b[o].features)!==-1},b[o].hasOwnProperty("features")){for(var p=0;p<b[o].features.length;p++)if(f=b[o].features[p],n.features.hasOwnProperty(f))for(var q=0;q<n.features[f].length;q++)h=n.features[f][q],l.properties[h].dependingOn[0].values.push(b[o].name);e!==da.PAGE_ITEM&&e!==da.IG_COLUMN||a.inArray("FORMAT_MASK_DATE",b[o].features)!==-1||a.inArray("FORMAT_MASK_NUMBER",b[o].features)!==-1||l.properties[ea.FORMAT_MASK].dependingOn[0].values.push(b[o].name)}if(e!==da.REGION){for(var p=0;p<b[o].attributes.length;p++)m(b[o].attributes[p],{scope:"COMPONENT",defaultValue:"",helpText:""}),j=b[o].attributes[p],(e!==da.REGION_COLUMN&&"COMPONENT"===j.scope||e===da.REGION_COLUMN&&"COLUMN"===j.scope)&&(e!==da.IG_COLUMN&&e!==da.FACET&&(oa[j.id]={id:j.id,name:e+"_"+b[o].name+"_"+j.mappingNo,prompt:j.prompt,type:j.type,multiValueDelimiter:j.multiValueDelimiter,displayLen:j.displayLen,maxLen:j.maxLen,textCase:j.textCase,unit:j.unit,hasPlSqlCheck:!1,sqlMinColumns:j.sqlMinColumns,sqlMaxColumns:j.sqlMaxColumns,dataTypes:j.dataTypes||{},displayGroupId:j.displayGroupId,lovType:j.lovType,lovComponentTypeId:j.lovComponentTypeId,lovComponentScope:j.lovComponentScope,lovValues:j.lovValues,isSearchable:j.isSearchable,deprecatedValues:j.deprecatedValues,examples:j.examples,helpText:j.helpText,isCustomPluginAttribute:/^PLUGIN/.test(b[o].name)},j.hasOwnProperty("uiTypes")&&(oa[j.id].uiTypes=j.uiTypes),j.hasOwnProperty("componentTypes")&&(oa[j.id].componentTypes=j.componentTypes),oa[j.id].type===ka.YES_NO&&(oa[j.id].yesValue="Y",oa[j.id].noValue="N")),k=j.referenceScope,j.type===ka.ITEM&&(e===da.IG_COLUMN?k="ROW":e===da.DA_ACTION&&(k="DEPENDS")),l.properties[j.id]={propertyId:j.id,displaySeq:n.attributesSeqOffset+j.displaySeq,isRequired:j.isRequired,isReadOnly:!1,isCommon:j.isCommon,nullText:j.nullText,referenceOnDelete:j.referenceOnDelete,referenceScope:k,supportsSubstitution:j.supportsSubstitution,defaultValue:j.defaultValue,dependingOn:[{id:n.typePropertyId,hasToExist:!0,type:"EQUALS",expression:b[o].name}]},j.parentAttribute&&(l.properties[j.id].parentProperty=j.parentAttribute),j.dependingOn&&l.properties[j.id].dependingOn.push(j.dependingOn));if(e!==da.REGION_COLUMN&&e!=da.IG_COLUMN&&e!=da.FACET)for(var p=0;p<b[o].events.length;p++)ra.component.push({r:b[o].events[p].r,d:b[o].events[p].d+" ["+b[o].title+"]",uiTypes:b[o].uiTypes})}}}for(var f in b)b.hasOwnProperty(f)&&(e(b[f],c,f),f===da.REGION&&(e(b[f],c,da.REGION_PLUGIN_ATTR),e(b[f],c,da.REGION_COLUMN)))}function q(){function a(a){l(a,function(a,b){b.displayPointsMap={};for(var c=0;c<b.displayPoints.length;c++)b.displayPointsMap[b.displayPoints[c].id]=b.displayPoints[c]})}for(var b in pa)if(pa.hasOwnProperty(b)){pa[b].id=b,m(pa[b],{parentId:null,isOneToOneRelation:!1,isPageComponent:!1,isSharedComponent:!1,refByProperties:[],childComponentTypes:[]}),ya[b]={};for(var c in pa[b].properties)pa[b].properties.hasOwnProperty(c)&&(pa[b].properties[c].propertyId=c,m(pa[b].properties[c],{defaultValue:"",helpText:"",dependingOn:[],refByChilds:[],refByDependingOn:[]}))}for(var b in oa)if(oa.hasOwnProperty(b)&&(oa[b].id=b,m(oa[b],{helpText:"",hasPlSqlCheck:!1,isQueryOnly:!1,isInternal:!1,isSearchable:!0,dataTypes:{},refByComponentTypes:[]}),oa[b].hasOwnProperty("uiTypes")||(oa[b].uiTypes=[ja.DESKTOP,ja.JQM_SMARTPHONE]),oa[b].hasOwnProperty("lovValues"))){oa[b].lovValuesMap={};for(var c=0;c<oa[b].lovValues.length;c++)oa[b].lovValuesMap[oa[b].lovValues[c].r]=c}l(ra,function(a,b){if("lookupMap"!==a)for(var c=0;c<b.length;c++)ra.lookupMap[b[c].r]=b[c]}),l(ta.themes,function(b,c){a(c.templates[da.PAGE_TEMPLATE]),a(c.templates[da.REGION_TEMPLATE])})}function r(){function a(a,b){pa[a].properties[b]&&pa[a].properties[b].refByChilds.push({typeId:c,id:d})}var b,c,d;for(var e in oa)oa.hasOwnProperty(e)&&("COMPONENT"===oa[e].lovType?pa[oa[e].lovComponentTypeId].refByProperties.push(e):oa[e].type===ka.ITEM?pa[da.PAGE_ITEM].refByProperties.push(e):oa[e].type===ka.FACET&&pa[da.FACET].refByProperties.push(e));for(c in pa)if(pa.hasOwnProperty(c)){null!==pa[c].parentId&&pa[pa[c].parentId].childComponentTypes.push(c);for(d in pa[c].properties)if(pa[c].properties.hasOwnProperty(d)){if(b=pa[c].properties[d],oa[d].refByComponentTypes.push(c),b.parentProperty&&b.parentProperty.id){if(a(b.parentProperty.typeId,b.parentProperty.id),b.parentProperty.id===ea.CHART_SOURCE_LOCATION)for(var e=0;e<fa.length;e++)a(da.REGION,fa[e]),a(da.JET_CHART_SERIES,fa[e]);if(b.parentProperty.id===ea.REGION_SQL)for(var e=0;e<fa.length;e++)a(da.REGION,fa[e])}for(var e=0;e<b.dependingOn.length;e++)pa[c].properties[b.dependingOn[e].id].refByDependingOn.push({propertyId:d,hasToExist:b.dependingOn[e].hasToExist})}}}function s(){var a,b,c="ORA_WWV_apex.builder.pageDesigner.model.componentIds";return a=localStorage[c],a=a===g?[]:a.split(","),0===a.length&&h("getNewComponentId",{x01:50},{success:function(b){a=b},async:!1}),b=a[0],a=a.slice(1),0===a.length?delete localStorage[c]:localStorage[c]=a.join(","),b}function t(){return ta.themes[wa.themeId]}function u(){var a,b,c=ya[da.PAGE][va];return a=t(),b=B()?a.defaultTemplates.page:"NORMAL"===c.getProperty(ea.PAGE_MODE).getValue()?c.getProperty(ea.PAGE_TEMPLATE).getValue()||a.defaultTemplates.page:c.getProperty(ea.DIALOG_TEMPLATE).getValue()||a.defaultTemplates.dialog,a.templates[da.PAGE_TEMPLATE][b]}function v(a){var b=ya[da.REGION][a].getProperty(ea.REGION_TEMPLATE).getValue(),c=t().templates[da.REGION_TEMPLATE];return c.hasOwnProperty(b)?c[b]:c[""]}function w(a){var b=t().templates[da.FIELD_TEMPLATE];return b.hasOwnProperty(a)?b[a]:b[""]}function x(b){var c,d,e,f=b.component.typeId,h=t().options||[],j=[],k={};if(f===da.PAGE&&a.inArray(pa[b.component.typeId].properties[b.id].parentProperty.id,[ea.PAGE_TEMPLATE,ea.DIALOG_TEMPLATE])!==-1)e="PAGE",d=u();else if(c=b.component.getProperty(pa[b.component.typeId].properties[b.id].parentProperty.id),c&&""!==c.getValue())switch(d=t().templates[oa[c.id].lovComponentTypeId][c.getValue()],oa[c.id].lovComponentTypeId){case da.REGION_TEMPLATE:e="REGION";break;case da.REPORT_TEMPLATE:e="REPORT";break;case da.BREADCRUMB_TEMPLATE:e="BREADCRUMB";break;case da.LIST_TEMPLATE:e="LIST";break;case da.FIELD_TEMPLATE:e="FIELD";break;case da.BUTTON_TEMPLATE:e="BUTTON"}if(d===g)return{values:[],valuesMap:{},defaultValues:[],presetValues:[],groups:{}};d&&d.hasOwnProperty("options")&&(j=j.concat(d.options));for(var l=0;l<h.length;l++)a.inArray(e,h[l].types)!==-1&&j.push(h[l]);j.unshift({r:"#DEFAULT#",d:i("LOV.TEMPLATE_OPTIONS.DEFAULT"),description:i("LOV.TEMPLATE_OPTIONS.DEFAULT.DESC")});for(var l=0;l<j.length;l++)k[j[l].r]=j[l];return{values:j,valuesMap:k,defaultValues:d.defaultOptions||[],presetValues:d.presetOptions||[],groups:t().optionGroups||[]}}function y(b,c){return("ROWID"!==b||a.inArray(b,c)!==-1)&&(0===c.length||b===g||a.inArray("VARCHAR2",c)>=0&&a.inArray(b,["BLOB","BFILE"])===-1||a.inArray("DATE",c)>=0&&a.inArray(b,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])>=0||a.inArray(b,c)>=0)}function z(b,c,d){return a.inArray(b._uiType,c)!==-1}function A(b,c,d){return(!d.ui||z(b,c.uiTypes))&&(!c.componentTypes||a.inArray(b.typeId,c.componentTypes)!==-1)&&(!d.isDeprecated||!c.isDeprecated)&&(!d.isLegacy||!c.isLegacy)}function B(){return va===wa.globalPageId}function C(b,c){function d(a,b){e.indexOf(a)!==-1&&(e=e.replace(a,b()))}var e=c;return e.indexOf("#")!==-1&&(d("#PAGE_ID#",function(){return va}),d("#PLEASE_CHANGE#",function(){return i("PLACEHOLDER.PLEASE_CHANGE")}),d("#PRINT_LINK_TEXT#",function(){return i("PLACEHOLDER.PRINT_LINK_TEXT")}),d("#DEFAULT_REGION_TEMPLATE#",function(){return t().defaultTemplates.region}),d("#DEFAULT_FIELD_TEMPLATE#",function(){return t().defaultTemplates.field}),d("#DEFAULT_BUTTON_TEMPLATE#",function(){return t().defaultTemplates.button}),d("#DEFAULT_REPORT_TEMPLATE#",function(){return t().defaultTemplates.report}),d("#DEFAULT_LIST_TEMPLATE#",function(){return t().defaultTemplates.list}),d("#DEFAULT_NAV_LIST_TEMPLATE#",function(){return wa.navList.templateId||""}),d("#DEFAULT_BREADCRUMB_TEMPLATE#",function(){return t().defaultTemplates.breadcrumb}),d("#DEFAULT_CALENDAR_TEMPLATE#",function(){return t().defaultTemplates.calendar}),d("#DEFAULT_NAV_LIST_POSITION#",function(){return wa.navList.position||""}),d("#CURRENT_COLUMN_NAME#",function(){var c=b.component.getProperty(ea.COLUMN_NAME).getValue();return a.inArray(b.component.typeId,[da.IR_COLUMN,da.CLASSIC_RPT_COLUMN,da.TAB_FORM_COLUMN])!==-1?c:o(c)}),d("#PRESET_TEMPLATE_OPTIONS#",function(){var a=x(b).presetValues;return a.length>0?":"+a.join(":"):""})),e}function D(a,b,c){for(var d,e=[],f=0;f<a.length;f++)d=a[f].getProperty(b),e.push({name:a[f].getProperty(c).getValue(),label:d?d.getValue():""});return e}function E(a,b,c){var d,e,f=[];for(d=0;d<b.length;d++)if(e=a.getProperty(b[d])){f=e.getColumns(c);break}return f}function F(b,c){var d,e,f,g,h={NATIVE_TABFORM:da.TAB_FORM_COLUMN,NATIVE_SQL_REPORT:da.CLASSIC_RPT_COLUMN,NATIVE_IR:da.IR_COLUMN,NATIVE_IG:da.IG_COLUMN},i=[];return d=K(da.REGION,{id:b}),d.length>0&&(e=d[0],f=e._properties[ea.REGION_TYPE]._value,h.hasOwnProperty(f)?(g="NATIVE_IR"===f?e.getChilds(da.IR_ATTRIBUTES)[0].id:e.id,d=K(h[f],{parentId:g}),i=D(d,ea.COLUMN_HEADING,ea.COLUMN_NAME)):a.inArray("COLUMNS",pa[da.REGION].pluginType.plugins[f].features)!==-1?(d=K(da.REGION_COLUMN,{parentId:e.id}),i=D(d,ea.COLUMN_HEADING,ea.COLUMN_NAME)):i=E(e,fa,c)),i}function G(a,b){var c,d=[];return c=K(da.REGION,{id:a}),c.length>0&&(d=E(c[0],fa,b)),d}function H(b){var c=b.propertyId,d=oa[c],e=pa[b.component.typeId].properties[c],f=c;if(this.component=b.component,f instanceof H){f=a.extend(!0,{},f);for(var g in f)f.hasOwnProperty(g)&&"component"!==g&&(this[g]=f[g])}else this.id=c,this._isRequired=e.isRequired,this._isReadOnly=e.isReadOnly,d.type!==ka.SQL&&d.type!==ka.PLSQL_FUNC_SQL||(this._sqlMinColumns=d.sqlMinColumns,this._sqlMaxColumns=d.sqlMaxColumns),this._setDynamicProperties(),this.hasChanged=!1,this.errors=[],this.warnings=[],this._columns=[],this._hasOrderBy=!1,b.hasOwnProperty("server")?"object"===a.type(b.server)?(this._value=b.server.value,this._columns=b.server.columns||[],this._hasOrderBy=b.server.hasOrderBy):this._value=b.server:(""===(b.defaultValue||this._defaultValue)?this._value="":this._value=C(this,this._defaultValue||b.defaultValue||e.defaultValue),this._columns=b.columns||[],this._hasOrderBy=b.hasOrderBy,"UPPER"===d.textCase?this._value=this._value.toUpperCase():"LOWER"===d.textCase&&(this._value=this._value.toLowerCase()),this._setDynamicDefaultValue(),this._isRequired&&""===this._value&&this.errors.push(i("VAL.IS_REQUIRED")))}function I(b){var c,d;if(b.component instanceof I){d=a.extend(!0,{},b.component);for(var e in d)if(d.hasOwnProperty(e))if("_properties"===e){this._properties={};for(var f in d._properties)d._properties.hasOwnProperty(f)&&(this._properties[f]=new H({component:this,propertyId:d._properties[f]}))}else this[e]=d[e];if(b.isDetached)return;c=pa[this.typeId],c.isOneToOneRelation?this.id=b.parentId:this.id=s(),this._status=ia.CREATED,this.seq=0,this._isReadOnly=!1}else if(c=pa[b.typeId],this.id="",this.parentId="",this._status=ia.UNCHANGED,this._uiType=ja.DESKTOP,this.typeId=b.typeId,this.seq=0,this._isReadOnly=!1,this._properties={},a.isPlainObject(b.component)){this.id=b.component.id,this.parentId=b.component.parentId,this.pageId=b.component.pageId,this._uiType=b.component.uiType||this._uiType,this._lock=b.component.lock||!1;for(var f in b.component.properties)b.component.properties.hasOwnProperty(f)&&(this._properties[f]=new H({component:this,propertyId:f,server:b.component.properties[f]}),f===c.seqPropertyId&&(this.seq=parseInt(b.component.properties[f],10)));for(var f in c.properties)c.properties.hasOwnProperty(f)&&!this._properties.hasOwnProperty(f)&&(this._properties[f]=new H({component:this,propertyId:f,server:""}));if(this._cleanProperties(),b.isDetached)return}else{c.isOneToOneRelation?this.id=b.parentId:this.id=s(),this._status=ia.CREATED,va&&(this._uiType=ya[da.PAGE][va]._uiType),c.isPageComponent&&(this.pageId=va);for(var f in c.properties)c.properties.hasOwnProperty(f)&&(this._properties[f]=new H({component:this,propertyId:f}));this._cleanProperties()}if(this._status===ia.CREATED){c=pa[this.typeId],b.parentId?(this.parentId=b.parentId,c.parentPropertyId&&this._properties[c.parentPropertyId]._setValue(this.parentId,{checkReadOnly:!1})):c.parentId===da.PAGE?this.parentId=va:c.parentId===da.APPLICATION&&(this.parentId=ua);for(var f in this._properties)this._properties.hasOwnProperty(f)&&c.properties[f].hasOwnProperty("checkUniqueness")&&this._properties[f]._setUniqueValue();this._setGridProperties(),this._setProperties(b.values,{checkReadOnly:!1}),0===this.seq&&c.seqPropertyId&&this._move(b.previousComponent),S(this,Da.CREATE),b.hasOwnProperty("component")?(this._callPluginCallback({properties:b.values}),this._callComponentTypeCallback({properties:b.values})):(this._callPluginCallback({action:ha.CREATED}),this._callComponentTypeCallback({action:ha.CREATED}))}ya[this.typeId][this.id]=this}function J(a){function b(b,c){for(var d=K(b,{properties:[{id:c,value:""}]},!1),e=0;e<d.length;e++)a!==g||d[e].isOnGlobalPage()||S(d[e],Da.CHANGE),d[e]._setGridProperties(a)}b(da.REGION,ea.PARENT_REGION),b(da.PAGE_ITEM,ea.REGION),b(da.BUTTON,ea.REGION)}function K(b,c,d){var e,f,h=pa[b].isPageComponent,i=[];c=c||{};for(var j in ya[b])if(ya[b].hasOwnProperty(j)){if(e=ya[b][j],e._status===ia.DELETED)continue;if(c.hasOwnProperty("id")&&c.id!==g&&j!==c.id+"")continue;if(c.hasOwnProperty("parentId")&&c.parentId!==g&&e.parentId!==c.parentId+"")continue;if(c.hasOwnProperty("pageId")&&c.pageId!==g){if(e.pageId!==c.pageId)continue}else if(h&&e.pageId!==va&&(c.excludeGlobalPage||!e.isOnGlobalPage()))continue;if(c.hasOwnProperty("hasChanged")&&c.hasChanged!==g&&e.hasChanged()!==c.hasChanged)continue;if(c.hasOwnProperty("hasErrors")&&c.hasErrors!==g&&e.hasErrors()!==c.hasErrors)continue;if(c.hasOwnProperty("hasWarnings")&&c.hasWarnings!==g&&e.hasWarnings()!==c.hasWarnings)continue;if(c.properties&&c.properties.length>0){f=!1;for(var k=0;k<c.properties.length&&(f=!1,e._properties.hasOwnProperty(c.properties[k].id)&&(f=c.properties[k].value instanceof RegExp?!!e._properties[c.properties[k].id]._value.match(c.properties[k].value):e._properties[c.properties[k].id]._value==c.properties[k].value),f);k++);if(!f)continue}if(a.isFunction(c.filterFunction)&&!c.filterFunction.apply(e))continue;i.push(e)}return d===!0||d===g?pa[b].seqPropertyId?i.sort(function(a,b){return a.seq===b.seq?n(a.id)>n(b.id)?1:-1:a.seq-b.seq}):i.sort(function(a,b){return a.getDisplayTitle().localeCompare(b.getDisplayTitle())}):a.isFunction(d)&&i.sort(d),i}function L(b,c){for(var d=[],e=0;e<b.length;e++)d=d.concat(K(b[e].typeId,b[e].filter,!1));return c===!0||c===g?d.sort(function(a,b){return pa[a.typeId].seqPropertyId&&pa[b.typeId].seqPropertyId?a.seq===b.seq?n(a.id)>n(b.id)?1:-1:a.seq-b.seq:a.getDisplayTitle().localeCompare(b.getDisplayTitle())}):a.isFunction(c)&&d.sort(c),d}function M(a,c){var d,e,f=[];if(a instanceof RegExp)e=a;else{if(""===a||a===g)return[];e=new RegExp(b.escapeRegExp(a),"i")}if(c.hasOwnProperty("typeId"))l(ya[c.typeId],function(a,b){b._status!==ia.DELETED&&l(b._properties,function(a,b){oa[a].isSearchable&&b._value.match(e)&&f.push(b)})});else if(c.hasOwnProperty("properties"))for(var h=0;h<c.properties.length;h++)d=c.properties[h],oa[d.id].isSearchable&&d._value.match(e)&&f.push(d);return f.sort(function(a,b){var c=a.component.getDisplayTitle(),d=b.component.getDisplayTitle();return c===d?pa[a.component.typeId].properties[a.id].displaySeq-pa[b.component.typeId].properties[b.id].displaySeq:c.localeCompare(d)}),f}function N(a,c){var d,e=[];if(a instanceof RegExp)d=a;else{if(""===a||a===g)return[];d=new RegExp(b.escapeRegExp(a),"i")}return l(ya[c],function(a,b){b._status!==ia.DELETED&&b.getDisplayTitle().match(d)&&e.push(b)}),e.sort(function(a,b){var c=a.getDisplayTitle(),d=b.getDisplayTitle();return c.localeCompare(d)}),e}function O(b,c){var d,e,f=[];if("application"===b.type){e=K(da.APP_ITEM);for(var g=0;g<e.length;g++)f.push({name:e[g].getProperty(ea.ITEM_NAME).getValue()})}else if("page"===b.type){if(b.pageId!==va&&b.pageId!==wa.globalPageId)return void h("getPageItems",{x01:b.pageId},{success:function(a){for(var b in a)f.push({name:b,label:a[b]});f.sort(function(a,b){return a.name.localeCompare(b.name)}),c(f)}});e=K(da.PAGE_ITEM,{pageId:b.pageId}),f=D(e,ea.ITEM_LABEL,ea.ITEM_NAME)}else"facet"===b.type?(e=K(da.FACET,{pageId:va,filterFunction:function(){return!b.component||b.component.id!==this.id}}),f=D(e,ea.ITEM_LABEL,ea.ITEM_NAME)):"columns"===b.type&&(d=b.component,a.inArray(d.typeId,[da.REGION_PLUGIN_ATTR,da.REGION_COLUMN,da.IR_ATTRIBUTES,da.IG_ATTRIBUTES,da.CLASSIC_REPORT,da.CLASSIC_RPT_COLUMN,da.TABULAR_FORM,da.TAB_FORM_COLUMN])!==-1?f=F(d.parentId):d.typeId===da.IR_COLUMN?f=F(d.getParent().parentId):d.typeId===da.IG_COLUMN?f=F(d.parentId):d.typeId===da.VALIDATION?f=F(d.getProperty(ea.VALIDATION_REGION).getValue()):d.typeId===da.PAGE_PROCESS?f=F(d.getProperty(ea.PROCESS_REGION).getValue()):d.typeId===da.CHART_SERIES?f=E(d,[ea.PROJECT_GANTT_SOURCE_QUERY,ea.RESOURCE_GANTT_SOURCE_QUERY,ea.PIE_DOUGHNUT_SOURCE_QUERY,ea.DIAL_SOURCE_QUERY,ea.SCATTER_SOURCE_QUERY,ea.RANGE_SOURCE_QUERY,ea.CANDLESTICK_SOURCE_QUERY,ea.LINE_COL_BAR_STK_SOURCE_QUERY]):d.typeId===da.JET_CHART_SERIES?f="REGION_SOURCE"===d._properties[ea.CHART_SOURCE_LOCATION].getValue()?G(d.getParent().parentId,!0):E(d,fa,!0):d.typeId===da.MAP_CHART_SERIES&&(f=E(d,[ea.MAP_SOURCE_QUERY])));return c?void c(f):f}function P(a,b,c){h("getPages",{x01:c?"Y":"N",x02:a.show?a.show:"",x03:a.id?a.id:""},{success:b})}function Q(){if(!Ea)throw"Start a Transaction first!"}function R(){if(Ea)throw"Finish pending Transaction first!"}function S(a,b){var c;Q(),c=Ea.components,c.hasOwnProperty(a.typeId)&&c[a.typeId].hasOwnProperty(a.id)?b===Da.DELETE&&(c[a.typeId][a.id].operation===Da.CREATE?delete c[a.typeId][a.id]:c[a.typeId][a.id].operation=b):(c.hasOwnProperty(a.typeId)||(c[a.typeId]={}),c[a.typeId][a.id]={oldComponent:null,newComponent:null,operation:b},b!==Da.CREATE&&(c[a.typeId][a.id].oldComponent=new I({component:a,isDetached:!0})))}function T(b,c,d){function e(a,b){(c._properties.hasOwnProperty(a)||b===ga.REMOVE_PROP)&&(l.properties.hasOwnProperty(a)||(l.properties[a]=[]),l.properties[a].push(b))}function f(a,b,d){if(c[b]()){l.events.push(a);for(var f in c._properties)c._properties.hasOwnProperty(f)&&c._properties[f][d].length>0&&e(f,a)}}function g(a,d,e){c._properties[n][e].join()!==b._properties[n][e].join()&&(0===c._properties[n][e].length?m.push(d):m.push(a))}function h(a,d,e){c[e]()!==b[e]()&&(c[e]()?l.events.push(a):l.events.push(d))}var i,j,k,l,m;if(l={component:{},events:[],properties:{},action:d||""},null===b||b._status===ia.DELETED)l.component=c,l.events.push(ga.CREATE),f(ga.ERRORS,"hasErrors","errors"),f(ga.WARNINGS,"hasWarnings","warnings");else if(null===c||c._status===ia.DELETED)l.component=b,l.events.push(ga.DELETE);else{l.component=c,l.events.push(ga.CHANGE),i=pa[c.typeId];for(var n in c._properties)if(c._properties.hasOwnProperty(n)){if(j=c._properties[n],m=l.properties[n]||[],b._properties.hasOwnProperty(n)){if(j._value!==b._properties[n]._value){if(m.push(ga.CHANGE),n===i.displayPropertyId?l.events.push(ga.DISPLAY_TITLE):(c.typeId!==da.PAGE||n!==ea.PAGE_TEMPLATE&&n!==ea.DIALOG_TEMPLATE)&&(c.typeId!==da.REGION||n!==ea.REGION_TEMPLATE&&n!==ea.REGION_TYPE)||l.events.push(ga.GRID),i.pluginType&&n===i.pluginType.typePropertyId){for(var o=0;o<i.pluginType.requiredProperties.length;o++)e(i.pluginType.requiredProperties[o],ga.META_DATA);e(ea.LOV_SQL,ga.META_DATA)}a.inArray(c.typeId,[da.REGION,da.PAGE_ITEM,da.BUTTON])!==-1&&a.inArray(n,[ea.PARENT_REGION,ea.REGION,ea.REGION_POSITION,ea.BUTTON_POSITION,ea.GRID_COLUMN,ea.GRID_COLUMN_SPAN])!==-1&&(e(ea.GRID_COLUMN,ga.META_DATA),e(ea.GRID_COLUMN_SPAN,ga.META_DATA),e(ea.GRID_LABEL_COLUMN_SPAN,ga.META_DATA))}if(g(ga.ERRORS,ga.NO_ERRORS,"errors"),g(ga.WARNINGS,ga.NO_WARNINGS,"warnings"),i.properties[n].refByChilds.length>0&&(j._value!==b._properties[n]._value||j._columns.length>0))for(var o=0;o<i.properties[n].refByChilds.length;o++)i.properties[n].refByChilds[o].typeId===c.typeId&&(k=i.properties[n].refByChilds[o].id,e(k,ga.META_DATA))}else m.push(ga.ADD_PROP),j.errors.length>0&&m.push(ga.ERRORS),j.warnings.length>0&&m.push(ga.WARNINGS),c.typeId!==da.PAGE||n!==ea.PAGE_TEMPLATE&&n!==ea.DIALOG_TEMPLATE||l.events.push(ga.GRID);m.length>0&&(l.properties[n]=m)}for(var n in b._properties)b._properties.hasOwnProperty(n)&&(c._properties.hasOwnProperty(n)||e(n,ga.REMOVE_PROP));h(ga.ERRORS,ga.NO_ERRORS,"hasErrors"),h(ga.WARNINGS,ga.NO_WARNINGS,"hasWarnings")}return l}function U(b){function c(){var c,d,e,f,g,h,i=Aa.slice();for(c=0;c<b.length;c++)for(g=b[c],d=0;d<i.length;d++){if(h=i[d].filter,f=!1,h.component)h.component instanceof I?h.component.typeId===g.component.typeId&&h.component.id===g.component.id&&(f=!0):h.component.typeId===g.component.typeId?f=!0:a.inArray(g.component.typeId,h.component.typeIds)!==-1&&(f=!0);else if(h.components){for(e=0;e<h.components.length;e++)if(h.components[e]instanceof I){if(h.components[e].typeId===g.component.typeId&&h.components[e].id===g.component.id){f=!0;break}}else if(h.components[e].typeId===g.component.typeId){f=!0;break}}else f=!0;if(f&&h.properties.length>0)for(f=!1,e=0;e<h.properties.length;e++)if(g.properties.hasOwnProperty(h.properties[e])){f=!0;break}if(f&&h.events.length>0)for(f=!1,e=0;e<h.events.length;e++){if(a.inArray(h.events[e],g.events)!==-1){f=!0;break}for(var j in g.properties)if(g.properties.hasOwnProperty(j)&&a.inArray(h.events[e],g.properties[j])!==-1){f=!0;break}if(f)break}f&&(i[d].sendInBulk?i[d].pendingNotifications.push(g):i[d].callback.call(this,g))}for(var c=0;c<i.length;c++)i[c].sendInBulk&&i[c].pendingNotifications.length>0&&(i[c].callback.call(this,i[c].pendingNotifications),i[c].pendingNotifications=[])}function d(){for(var a=0;a<Aa.length;a++)Aa[a].filter.component instanceof I&&Aa[a].filter.component._status===ia.DELETED&&(Aa.splice(a,1),a--)}c(),d()}function V(){for(var a in pa)if(pa.hasOwnProperty(a)&&(pa[a].isPageComponent&&va!==g||a===da.PAGE&&va!==g||!pa[a].isPageComponent&&va===g))for(var b in ya[a])if(ya[a].hasOwnProperty(b)&&ya[a][b].hasChanged())return!0;return!1}function W(a){function b(a,b,e){var f=[ea.GRID_NEW_GRID,ea.GRID_NEW_ROW,ea.GRID_COLUMN,ea.GRID_NEW_COLUMN,ea.GRID_COLUMN_SPAN,ea.GRID_ROW_SPAN,ea.GRID_COLUMN_CSS_CLASSES,ea.GRID_COLUMN_ATTRIBUTES,ea.GRID_LABEL_COLUMN_SPAN,ea.LABEL_ALIGNMENT,ea.ELEMENT_FIELD_ALIGNMENT,ea.READ_ONLY_HTML_ATTRIBUTES];if(d.hasOwnProperty("_grid")){c[e]=[];for(var g=0;g<f.length;g++)b.hasOwnProperty(f[g])&&a[e].push(f[g])}}var c,d,e={},j=!1;for(var k in pa)if(pa.hasOwnProperty(k)&&(pa[k].isPageComponent&&va!==g||k===da.PAGE&&va!==g||!pa[k].isPageComponent&&va===g))for(var l in ya[k])if(ya[k].hasOwnProperty(l)&&ya[k][l].hasChanged()){if(d=ya[k][l],d.hasErrors()&&d._status!==ia.DELETED)return void a({error:i("SAVE.FIX_ERRORS")});if(e.hasOwnProperty(k)||(e[k]={c:[],u:[],d:[]}),c={id:d.id,parentId:d.parentId,pageId:d.pageId},f.getLevel()!==f.LOG_LEVEL.OFF&&(c.displayTitle=d.getDisplayTitle()),b(c,d._properties,"gridProperties"),d._status===ia.CREATED){c.properties={};for(var m in d._properties)d._properties.hasOwnProperty(m)&&(c.properties[m]=d._properties[m]._value)}else if(d._status===ia.UPDATED){b(c,za[k][l],"oldGridProperties"),c.properties={};for(var m in d._properties)d._properties.hasOwnProperty(m)&&(za[k][l].hasOwnProperty(m)?za[k][l][m]!==d._properties[m]._value&&(c.properties[m]={oldValue:za[k][l][m],newValue:d._properties[m]._value}):c.properties[m]=d._properties[m]._value)}e[k][d._status].push(c),j=!0}j?(f.trace("saveChanges: modified components %0",e),h("writePageData",{x01:ua,x02:va,f01:JSON.stringify(e)},{success:function(b){X(b,e,a)},error:function(b,c,d){a({error:d})}})):a({error:"NO_CHANGES"})}function X(a,b,c){function d(a){var b,c,d;d={},b=new I({component:ya[a.typeId][a.id],isDetached:!0});for(var e=0;e<a.errors.length;e++)c=a.errors[e].hasOwnProperty("propertyId")?a.errors[e].propertyId:pa[a.typeId].displayPropertyId,d.hasOwnProperty(c)||(d[c]=[]),d[c].push(a.errors[e].message);l(d,function(b,c){if(!ya[a.typeId][a.id]._properties.hasOwnProperty(b))throw"Error reported for property id "+b+" which doesn't exist for current component!";ya[a.typeId][a.id]._properties[b].errors=c}),ya[a.typeId][a.id]._status===ia.DELETED&&(ya[a.typeId][a.id]._status=ia.UNCHANGED),g.push(T(b,ya[a.typeId][a.id]))}function e(a,b){for(var c,d,e,f=0;f<b.length;f++)c=b[f],d=new I({component:ya[a][c.id],isDetached:!0}),e=new I({typeId:a,component:c,isDetached:!0}),e._setGridProperties(!0),e._copyToGlobal(),Y(ya[a][c.id]),g.push(T(d,ya[a][c.id]))}function f(a,b){for(var c=0;c<b.length;c++)ya[a][b[c].id]._status===ia.DELETED&&delete ya[a][b[c].id]}var g=[];a.errors?d(a):(l(a,e),l(b,function(a,b){b.hasOwnProperty(ia.DELETED)&&f(a,b[ia.DELETED])})),U(g),c(a.errors?{error:i("SAVE.FAILED")}:{})}function Y(a){function b(b,c){za[a.typeId][a.id][b]=c._value}za[a.typeId][a.id]={},l(ya[a.typeId][a.id]._properties,b)}function Z(){function a(a,b){Y(b)}l(ya,function(b,c){za[b]={},l(c,a)})}function $(b){var c=a.Deferred();return h("lockPage",{x01:ua,x02:va,x03:b},{success:function(a){ya[da.PAGE][va]._lock=a,a.isLockedByCurrentUser?(Ca=!1,c.resolve(a)):(Ca=!V(),c.reject(i("LOCKED.BY_OTHER_USER",a.owner)))}}),c.promise()}function _(){var b=a.Deferred(),c=aa();return c?c.isLockedByCurrentUser?h("unlockPage",{x01:ua,x02:va},{success:function(a){"OK"===a.status?(Ca=!1,ya[da.PAGE][va]._lock=!1,b.resolve()):(Ca=!V(),b.reject(a.reason))}}):b.reject("Page not locked by current user!"):b.reject("Page is already unlocked!"),b.promise()}function aa(){return ya[da.PAGE][va]._lock}function ba(a){for(var b in a)a.hasOwnProperty(b)&&(pa[b].createUrl=a[b].createUrl,pa[b].editUrl=a[b].editUrl,pa[b].copyUrl=a[b].copyUrl)}function ca(a){for(var b in a)if(a.hasOwnProperty(b))for(var c=0;c<a[b].length;c++)new I({typeId:b,component:a[b][c]})}var da={APPLICATION:"1000",THEME:"2000",PAGE_TEMPLATE:"2510",FIELD_TEMPLATE:"2520",BUTTON_TEMPLATE:"2530",REGION_TEMPLATE:"2540",LIST_TEMPLATE:"2550",BREADCRUMB_TEMPLATE:"2560",CALENDAR_TEMPLATE:"2570",REPORT_TEMPLATE:"2580",APP_ITEM:"3010",APP_COMPUTATION:"3020",APP_PROCESS:"3030",BUILD_OPTION:"3040",AUTHENTICATION:"3050",AUTHORIZATION:"3060",WEB_SRC_MODULE:"3080",WEB_SRC_OPERATION:"3081",WEB_SRC_MOD_PARAM:"3082",WEB_SRC_OPER_PARAM:"3083",WEB_SRC_QUERY:"3083",BREADCRUMB:"3510",LIST:"3520",LOV:"3530",WS_REF:"3540",WS_REF_OPER:"3541",WS_REF_OPER_P_I:"3545",WS_REF_OPER_P_O:"3546",WS_REF_OPER_P_A:"3547",WS_REF_OPER_P_H:"3548",DATA_LOAD_TABLE:"3550",TAB_SET:"3560",PAGE:"5000",REGION:"5110",PAGE_ITEM:"5120",BUTTON:"5130",DA_EVENT:"5140",DA_ACTION:"5150",VALIDATION:"5510",PAGE_COMPUTATION:"5520",PAGE_PROCESS:"5530",BRANCH:"5540",REGION_PLUGIN_ATTR:"7000",IR_ATTRIBUTES:"7010",IR_SAVED_REPORT:"7020",IR_COLUMN_GROUP:"7030",IR_COLUMN:"7040",IR_PRINT_ATTR:"7050",PAGE_PROC_WS_P_I:"7110",PAGE_PROC_WS_P_O:"7120",PAGE_PROC_WS_P_A:"7130",PAGE_WS_PARAM:"7150",REGION_WS_PARAM:"7160",MAP_CHART:"7210",MAP_CHART_SERIES:"7220",CLASSIC_REPORT:"7310",CLASSIC_RPT_COLUMN:"7320",CLASSIC_RPT_PRINT:"7330",TABULAR_FORM:"7410",TAB_FORM_COLUMN:"7420",TAB_FORM_PRINT:"7430",CHART:"7510",CHART_SERIES:"7520",CLASSIC_CALENDAR:"7610",REGION_COLUMN:"7710",JET_CHART:"7810",JET_CHART_SERIES:"7820",JET_CHART_AXES:"7830",JET_CHART_WS_PARAM:"7840",IG_ATTRIBUTES:"7910",IG_SAVED_REPORT:"7920",IG_COLUMN_GROUP:"7930",IG_COLUMN:"7940",IG_PRINT:"7950",FACET:"8010"},ea={NAME:"1",ERROR_MESSAGE:"6",PAGE_GROUP:"9",PAGE_MODE:"10",PAGE_TEMPLATE:"11",STANDARD_TAB_SET:"12",TITLE:"13",AUTHORIZATION_SCHEME:"24",BUILD_OPTION:"38",COMPUTATION_ITEM_NAME:"51",COMPUTATION_TYPE:"52",COMPUTATION_STATIC_VALUE:"53",COMPUTATION_SQL_STATEMENT:"54",COMPUTATION_SQL_EXPRESSION:"55",COMPUTATION_PLSQL_EXPRESSION:"56",COMPUTATION_PLSQL_FUNCTION_BODY:"57",COMPUTATION_ITEM_VALUE:"58",COMPUTATION_PREFERENCE_VALUE:"59",EXECUTION_SEQUENCE:"60",COMPUTATION_POINT:"61",EVENT:"62",CUSTOM_EVENT:"63",WHEN_TYPE:"64",WHEN_REGION:"65",WHEN_BUTTON:"66",WHEN_ITEMS:"67",WHEN_DOM_OBJECT:"68",WHEN_JQUERY_SELECTOR:"69",JS_CONDITION:"70",DA_ACTION_TYPE:"82",FIRE_WHEN_EVENT_RESULT_IS:"83",FIRE_ON_PAGE_LOAD:"84",AFFECTED_TYPE:"85",AFFECTED_REGION:"86",AFFECTED_BUTTON:"87",AFFECTED_ITEMS:"88",AFFECTED_DOM_OBJECT:"89",AFFECTED_JQUERY_SELECTOR:"90",ITEM_TYPE:"93",REGION_TYPE:"94",PAGE_PROCESS_TYPE:"95",ITEM_NAME:"96",DISPLAY_SEQUENCE:"97",REGION:"98",ITEM_LABEL:"99",LABEL_ALIGNMENT:"100",FIELD_TEMPLATE:"101",VALUE_REQUIRED:"103",GRID_NEW_GRID:"104",GRID_NEW_ROW:"105",GRID_COLUMN:"106",GRID_NEW_COLUMN:"107",GRID_COLUMN_SPAN:"108",GRID_ROW_SPAN:"109",GRID_COLUMN_ATTRIBUTES:"110",FORMAT_MASK:"111",LOV_SQL:"122",ELEMENT_FIELD_ALIGNMENT:"123",ELEMENT_WIDTH:"124",ELEMENT_MAX_CHARACTERS:"125",ELEMENT_HEIGHT:"126",CUSTOM_ATTRIBUTES:"129",SOURCE_USED:"133",SOURCE_TYPE:"134",SOURCE_DB_COLUMN:"141",READ_ONLY_HTML_ATTRIBUTES:"171",BUTTON_NAME:"176",BUTTON_LABEL:"177",BUTTON_POSITION:"178",ALIGNMENT:"179",BUTTON_TEMPLATE:"182",BUTTON_IS_HOT:"183",BUTTON_TARGET:"187",PARENT_REGION:"190",REGION_POSITION:"191",PROCESS_POINT:"192",REGION_SQL:"193",REGION_PLUGIN_PLAIN:"194",PLSQL_CODE:"198",REGION_HTML_CODE:"214",REGION_TEMPLATE:"217",ITEM_DISPLAY_POSITION:"218",REGION_DISPLAY_SELECTOR:"219",REGION_FUNCTION_RETURNING_SQL:"225",BRANCH_TYPE:"226",BRANCH_POINT:"227",TARGET:"228",BRANCH_PAGE_NUMBER:"229",BRANCH_ITEM:"230",WHEN_BUTTON_PRESSED:"234",ALWAYS_EXECUTE:"245",ASSOCIATED_ITEM:"247",ASSOCIATED_COLUMN:"248",EXECUTE_CONDITION:"250",VALIDATION_REGION:"251",BUTTON_ACTION:"252",USER_INTERFACE:"253",DIALOG_TEMPLATE:"254",OVERWRITE_NAVIGATION_LIST:"255",NAVIGATION_LIST:"256",NAVIGATION_LIST_TEMPLATE:"257",COLUMN_NAME:"267",COLUMN_TYPE:"268",IR_COLUMN_DISPLAY_TYPE:"271",COLUMN_HEADING:"272",HEADING_ALIGNMENT:"275",COLUMN_ALIGNMENT:"276",ALLOW_USERS_TO_HIDE:"277",ALLOW_USERS_TO_SORT:"278",ALLOW_USERS_TO_FILTER:"279",ALLOW_USERS_TO_HIGHLIGHT:"280",ALLOW_USERS_TO_CONTROL_BREAK:"281",ALLOW_USERS_TO_AGGREGATE:"282",ALLOW_USERS_TO_COMPUTE:"283",ALLOW_USERS_TO_CHART:"284",ALLOW_USERS_TO_GROUP_BY:"285",IR_COLUMN_FILTER_TYPE:"286",HTML_EXPRESSION:"289",LINK_TEXT:"290",WHEN_NO_DATA_FOUND_MESSAGE:"297",DOWNLOAD_FORMATS:"308",LINK_ICON:"319",SHOW_DOWNLOAD:"352",PROCESS_REGION:"370",DA_EVENT:"371",LOV_TYPE:"373",TZ_DEPENDENT:"375",CHART_TITLE:"380",ALLOW_USERS_TO_PIVOT:"383",HAS_GENERIC_COLUMNS:"390",GENERIC_COLUMN_COUNT:"391",
CLASSIC_REPORT_COLUMN_TYPE:"398",COLUMN_SORT_SEQUENCE:"406",DISABLE_SORT_COLUMN:"408",INCLUDE_IN_EXPORT_PRINT:"409",HEADINGS_TYPE:"427",HEADING_TYPE_PLSQL_FUNCTION_BODY:"428",NUMBER_OF_ROWS_TYPE:"433",NUMBER_OF_ROWS:"434",NUMBER_OF_ROWS_ITEM:"435",TAB_FORM_COLUMN_TYPE:"452",BRANCH_ACCEPT_REQUEST:"465",QUERY_COLUMN_ID:"466",DERIVED_COLUMN:"467",MAP_SERIES_SOURCE_TYPE:"469",MAP_SOURCE_QUERY:"470",MAP_SOURCE_FUNC_RETURNING_SQL:"471",CHART_TYPE:"473",SERIES_CHART_TYPE:"474",PROJECT_GANTT_SERIES_SOURCE_TYPE:"475",PROJECT_GANTT_SOURCE_QUERY:"476",PROJECT_GANTT_SOURCE_FUNC_RETURNING_SQL:"477",RESOURCE_GANTT_SERIES_SOURCE_TYPE:"478",RESOURCE_GANTT_SOURCE_QUERY:"479",RESOURCE_GANTT_SOURCE_FUNC_RETURNING_SQL:"480",PIE_DOUGHNUT_SERIES_SOURCE_TYPE:"481",PIE_DOUGHNUT_SOURCE_QUERY:"482",PIE_DOUGHNUT_SOURCE_FUNC_RETURNING_SQL:"483",DIAL_SERIES_SOURCE_TYPE:"484",DIAL_SOURCE_QUERY:"485",DIAL_SOURCE_FUNC_RETURNING_SQL:"486",SCATTER_SERIES_SOURCE_TYPE:"487",SCATTER_SOURCE_QUERY:"488",SCATTER_SOURCE_FUNC_RETURNING_SQL:"489",RANGE_SERIES_SOURCE_TYPE:"490",RANGE_SOURCE_QUERY:"491",RANGE_SOURCE_FUNC_RETURNING_SQL:"492",CANDLESTICK_SERIES_SOURCE_TYPE:"493",CANDLESTICK_SOURCE_QUERY:"494",CANDLESTICK_SOURCE_FUNC_RETURNING_SQL:"495",LINE_COL_BAR_STK_SERIES_SOURCE_TYPE:"496",LINE_COL_BAR_STK_SOURCE_QUERY:"497",LINE_COL_BAR_STK_SOURCE_FUNC_RETURNING_SQL:"498",SERIES_TYPE:"499",USE_CUSTOM_XML:"534",CUSTOM_XML:"535",CHART_WIDTH:"544",CHART_HEIGHT:"545",VALUE_DECIMAL_PLACES:"588",PRINT_PAGE_SIZE:"700",PRINT_ORIENTATION:"701",PRINT_UNITS:"702",PRINT_WIDTH:"703",PRINT_HEIGHT:"704",PRINT_PAGE_HEADER_TEXT:"712",ENABLE_PRINTING:"729",PLUGIN_ATTR_REGION_TYPE:"737",HIDDEN_REGION_TYPE:"737",IS_VISIBLE:"738",COMPUTATION_SQL_COLON:"744",PARAMETER_ID:"753",PAGE_NAVIGATION_TYPE:"754",AFFECTED_JAVASCRIPT_EXPRESSION:"755",WHEN_JAVASCRIPT_EXPRESSION:"756",NAVIGATION_LIST_POSITION:"757",LOV_FUNC_BODY_RETURNING_SQL:"759",GRID_LABEL_COLUMN_SPAN:"760",GRID_COLUMN_CSS_CLASSES:"763",JS_COND_VALUE:"766",JS_COND_LIST:"767",MASTER_REGION:"769",IS_EDITABLE:"770",SHOW_TOTAL_ROW_COUNT:"784",ENABLE_DOWNLOAD:"791",IG_DOWNLOAD_FORMATS:"792",ALTERNATIVE_LABEL:"804",FILTER_LOV_TYPE:"811",IG_COLUMN_SOURCE_TYPE:"815",DATA_TYPE:"818",IS_PRIMARY_KEY:"820",MASTER_COLUMN:"821",ENABLE_SORT_GROUP:"822",EXECUTE_READONLY:"828",JET_CHART_TYPE:"829",JET_GAUGE_ORIENTATION:"838",VALUE_FORMAT_TYPE:"847",VALUE_FORMAT_SCALING:"850",LEGEND_RENDERED:"857",CHART_MAX_WIDTH:"862",JET_SERIES_TYPE_COMBO:"864",DATA_SOURCE_TYPE:"866",DATA_SOURCE_QUERY:"867",DATA_SOURCE_FUNC_RETURN_SQL:"868",JET_SERIES_TYPE_RANGE:"934",JET_SERIES_TYPE_POLAR:"936",JET_SERIES_TYPE_RADAR:"937",JET_SERIES_TYPE_COLUMN_MAPPING:"932",ASSIGNED_TO_Y2:"907",ITEMS_LABEL_RENDERED:"908",FILTER_DATA_TYPE:"938",PLUGIN_INIT_JAVASCRIPT_CODE:"943",WHEN_COLUMNS:"944",JS_CONDITION_ELEMENT_TYPE:"945",JS_CONDITION_ITEM_WHEN_IG:"946",JS_CONDITION_COLUMN_WHEN_IG:"947",AFFECTED_COLUMNS:"948",IG_REGION:"949",JS_CONDITION_ITEM:"950",JS_CONDITION_WHEN_IG:"951",JS_COND_VALUE_WHEN_IG:"952",JS_COND_LIST_WHEN_IG:"953",SOURCE_LOCATION:"957",SOURCE_REMOTE_DATABASE:"958",SOURCE_QUERY_TYPE:"959",SOURCE_QUERY_OWNER:"960",SOURCE_QUERY_TABLE:"961",SOURCE_QUERY_WHERE:"962",SOURCE_QUERY_ORDER_BY:"963",SOURCE_SQL_QUERY:"964",SOURCE_WEB_SRC_QUERY:"967",SOURCE_QUERY_PLSQL_FUNCTION_BODY:"968",JET_SERIES_TYPE_BOX_PLOT:"973",OPTIMIZER_HINT:"975",SOURCE_INCLUDE_ROWID_COLUMN:"978",JET_AXIS_SCALE:"983",DIRECTION:"998",IS_STATIC:"1000",PARAMETER_REQUIRED:"1001",PARAMETER_VALUE:"1002",DATABASE_OPERATION:"1003",WEB_SRC_PARAM:"1004",VALUE_TYPE:"1005",VALUE_STATIC_VALUE:"1006",PLSQL_PROCESS_LOCATION:"1014",CHART_SOURCE_LOCATION:"1032",SOURCE_POST_PROCESSING:"1034",POST_PROC_WHERE:"1035",POST_PROC_ORDER_BY:"1036",POST_PROC_SQL_QUERY:"1041",POST_PROC_PLSQL_FUNCTION_BODY:"1042",DATA_SOURCE_REGION:"1060",DATA_SOURCE_COLUMN:"1061",PROCESS_DATA_SOURCE_REGION:"1062",SOURCE_FILTERED_REGION:"1090",FACET_LOV_TYPE:"1091",VALIDATION_TYPE:"4960",VAL_SQL_STATEMENT:"4961",VAL_SQL_EXPRESSION:"4962",VAL_PLSQL_EXPRESSION:"4963",VAL_PLSQL_FUNCTION_BODY_BOOLEAN:"4964",VAL_PLSQL_FUNCTION_BODY_VARCHAR2:"4965",VAL_PLSQL:"4966",VAL_ITEM:"4967",VAL_VALUE:"4968",VAL_REGULAR_EXPRESSION:"4969",REGION_VALIDATION_TYPE:"4980",REGION_VAL_SQL_STATEMENT:"4981",REGION_VAL_SQL_EXPRESSION:"4982",REGION_VAL_PLSQL_EXPRESSION:"4983",REGION_VAL_PLSQL_FUNCTION_BODY_BOOLEAN:"4984",REGION_VAL_PLSQL_FUNCTION_BODY_VARCHAR2:"4985",REGION_VAL_PLSQL:"4986",REGION_VAL_COLUMN:"4987",REGION_VAL_VALUE:"4988",REGION_VAL_REGULAR_EXPRESSION:"4989",READ_ONLY_TYPE:"5050",CONDITION_TYPE:"5100",CONDITION_SQL_STATEMENT:"5101",CONDITION_SQL_EXPRESSION:"5102",CONDITION_PLSQL_EXPRESSION:"5103",CONDITION_PLSQL_FUNCTION_BODY:"5104",CONDITION_VALUE1:"5105",CONDITION_ITEM1:"5106",CONDITION_LIST:"5107",CONDITION_PREFERENCE:"5108",CONDITION_PAGE:"5109",CONDITION_PAGES:"5110",CONDITION_TEXT:"5111",CONDITION_VALUE2:"5112",CONDITION_ITEM2:"5113",CONDITION_TEXT2:"5114",FORM_FETCH_TABLE_NAME:"361800327927635543",FORM_PROCESS_TABLE_NAME:"723641536018615468"},fa=[ea.POST_PROC_SQL_QUERY,ea.POST_PROC_PLSQL_FUNCTION_BODY,ea.SOURCE_QUERY_TABLE,ea.SOURCE_SQL_QUERY,ea.SOURCE_WEB_SRC_QUERY,ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY,ea.REGION_SQL,ea.REGION_FUNCTION_RETURNING_SQL],ga={CREATE:"create",CHANGE:"change",DELETE:"delete",ERRORS:"errors",NO_ERRORS:"no_errors",WARNINGS:"warnings",NO_WARNINGS:"no_warnings",ADD_PROP:"add_property",REMOVE_PROP:"remove_property",META_DATA:"meta_data",GRID:"grid",DISPLAY_TITLE:"display_title"},ha={CREATED:"created",CHANGED:"changed",REMOVED:"removed",VALIDATE:"validate"},ia={CREATED:"c",UPDATED:"u",DELETED:"d",UNCHANGED:""},ja={DESKTOP:"DESKTOP",JQM_SMARTPHONE:"JQM_SMARTPHONE"},ka={COMPONENT:"COMPONENT",COMBOBOX:"COMBOBOX",COLOR:"COLOR",CHECKBOXES:"CHECKBOXES",CSS:"CSS",JAVASCRIPT:"JAVASCRIPT",HTML:"HTML",ICON:"ICON",INTEGER:"INTEGER",LINK:"LINK",NUMBER:"NUMBER",ITEM:"ITEM",FACET:"FACET",PAGE:"PAGE",PLSQL:"PLSQL",PLSQL_EXPR_VARCHAR:"PLSQL EXPRESSION VARCHAR2",PLSQL_EXPR_BOOLEAN:"PLSQL EXPRESSION BOOLEAN",PLSQL_FUNC_VARCHAR:"PLSQL FUNCTION BODY VARCHAR2",PLSQL_FUNC_BOOLEAN:"PLSQL FUNCTION BODY BOOLEAN",PLSQL_FUNC_SQL:"PLSQL FUNCTION BODY SQL",SELECT_LIST:"SELECT LIST",SQL:"SQL",SQL_EXPR:"SQL EXPRESSION",SQL_EXPR_BOOLEAN:"SQL EXPRESSION BOOLEAN",SUBSCRIPTION:"SUBSCRIPTION",TEXT:"TEXT",TEXTAREA:"TEXTAREA",TEXT_EDITOR:"TEXT EDITOR",SUPPORTED_UI:"SUPPORTED UI",YES_NO:"YES NO",OWNER:"OWNER",TABLE:"TABLE",COLUMN:"COLUMN",REGION_COLUMN:"REGION COLUMN",WHERE_CLAUSE:"WHERE CLAUSE",ORDER_BY_CLAUSE:"ORDER BY CLAUSE",TEMPLATE_OPTIONS:"TEMPLATE OPTIONS"},la={CHANGE:"CHANGE_ATTRIBUTE",CREATE:"CREATE",DELETE:"DELETE",DUPLICATE:"DUPLICATE",MOVE:"MOVE"},ma={};ma[ea.SOURCE_LOCATION]="SOURCE_LOCATION",ma[ea.SOURCE_QUERY_TABLE]="SOURCE_LOCATION",ma[ea.SOURCE_SQL_QUERY]="SOURCE_LOCATION",ma[ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY]="SOURCE_LOCATION",ma[ea.SOURCE_WEB_SRC_QUERY]="SOURCE_LOCATION",ma[ea.POST_PROC_SQL_QUERY]="SOURCE_LOCATION",ma[ea.POST_PROC_PLSQL_FUNCTION_BODY]="SOURCE_LOCATION",ma[ea.REGION_SQL]="SOURCE_SQL",ma[ea.PLSQL_CODE]="SOURCE_PLSQL",ma[ea.REGION_HTML_CODE]="SOURCE_HTML",ma[ea.REGION_PLUGIN_PLAIN]="SOURCE_PLAIN",ma[ea.REGION_FUNCTION_RETURNING_SQL]="SOURCE_PLSQL_FUNCTION",ma[ea.LOV_TYPE]="LOV",ma[ea.FACET_LOV_TYPE]="LOV",ma[ea.LOV_SQL]="LOV",ma[ea.LOV_FUNC_BODY_RETURNING_SQL]="LOV",ma[ea.PLUGIN_INIT_JAVASCRIPT_CODE]="INIT_JAVASCRIPT_CODE",ma[ea.AFFECTED_TYPE]="REQUIRED",ma[ea.PROCESS_REGION]="REGION_REQUIRED",ma[ea.PROCESS_DATA_SOURCE_REGION]="REGION_REQUIRED";var na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa="1.1",ya={},za={},Aa=[],Ba={isInternal:!1,isReadOnly:!1},Ca=!0;H.prototype._setDynamicProperties=function(){var b,c,d=pa[this.component.typeId].pluginType;d&&this.component._properties.hasOwnProperty(d.typePropertyId)&&(b=d.plugins[this.component._properties[d.typePropertyId]._value],b&&ma.hasOwnProperty(this.id)&&(c=ma[this.id],a.inArray(this.id,d.requiredProperties)!==-1&&(this.id===ea.AFFECTED_TYPE||this.id===ea.PROCESS_REGION||this.id===ea.PROCESS_DATA_SOURCE_REGION?this._isRequired=a.inArray(c,b.features)!==-1:this._isRequired=b.stdAttributes&&b.stdAttributes.hasOwnProperty(c)&&b.stdAttributes[c].isRequired),b.stdAttributes&&b.stdAttributes.hasOwnProperty(c)&&this.id!==ea.LOV_TYPE&&this.id!==ea.FACET_LOV_TYPE&&(this._isRequired||b.stdAttributes[c].defaultValue?this._defaultValue=b.stdAttributes[c].defaultValue:this._defaultValue="",this._sqlMinColumns=b.stdAttributes[c].sqlMinColumns,this._sqlMaxColumns=b.stdAttributes[c].sqlMaxColumns,this._examples=b.stdAttributes[c].examples,this._helpText=b.stdAttributes[c].helpText)))},H.prototype._setDynamicDefaultValue=function(){var b,c=pa[this.component.typeId].pluginType;c&&this.component._properties.hasOwnProperty(c.typePropertyId)&&(b=c.plugins[this.component._properties[c.typePropertyId]._value],b&&this.component.typeId===da.DA_ACTION&&(this.id===ea.AFFECTED_TYPE?""!==this._value&&a.inArray(this._value,b.features)===-1&&(this._value=""):this.id===ea.FIRE_ON_PAGE_LOAD&&(a.inArray("ONLOAD",b.features)!==-1?this._value="Y":this._value="N")))},H.prototype._isVisible=function(){var b,c,d,e,f,g=oa[this.id],h=this.component,i=pa[h.typeId].properties[this.id];if(g.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"!==g.deprecatedValues[0]&&a.inArray(this._value,g.deprecatedValues)===-1||a.inArray(h._uiType,g.uiTypes)===-1||g.componentTypes&&g.componentTypes.length>0&&a.inArray(h.typeId,g.componentTypes)===-1||g.isInternal&&!Ba.isInternal)b=!1;else if(g.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"===g.deprecatedValues[0]&&""===this._value)b=!1;else if(0===i.dependingOn.length)b=!0;else for(f=0;f<i.dependingOn.length;f++){if(c=i.dependingOn[f],h._properties.hasOwnProperty(c.id))if(d=h._properties[c.id]._value,"CHECKBOXES"===oa[c.id].type)switch(e=""===d?[]:d.split(":"),c.type){case"EQUALS":b=a.inArray(c.expression,e)!==-1;break;case"NOT_EQUALS":b=a.inArray(c.expression,e)===-1;break;case"NULL":b=0===e.length;break;case"NOT_NULL":b=e.length>0;break;case"IN_LIST":b=!1,a.each(e,function(d,e){if(b=a.inArray(""===e?"$NULL$":e,c.values)!==-1)return!1});break;case"NOT_IN_LIST":b=e.length>0,a.each(e,function(d,e){if(b=a.inArray(e,c.values)===-1,!b)return!1})}else if("IN_LIST_LIKE"===c.type)b=!1,a.each(c.values,function(a,c){if(b=0===d.search(c))return!1});else if("NOT_IN_LIST_LIKE"===c.type)b=!0,a.each(c.values,function(a,c){if(b=d.search(c)===-1,!b)return!1});else switch(c.type){case"EQUALS":b=d===c.expression;break;case"NOT_EQUALS":b=d!==c.expression;break;case"NULL":b=""===d;break;case"NOT_NULL":b=""!==d;break;case"IN_LIST":b=a.inArray(""===d?"$NULL$":d,c.values)!==-1;break;case"NOT_IN_LIST":b=a.inArray(d,c.values)===-1&&""!==d}else b=c.hasToExist===!1;if(!b)break}return b},H.prototype.getValue=function(){return this._value},H.prototype.getDisplayValue=function(){var a,b,c,d=oa[this.id],e=pa[this.component.typeId].properties[this.id],f=this._value,g=[];if(""!==f){if(d.type===ka.YES_NO)return i(f===d.yesValue?"LOV.YES":"LOV.NO");if(d.type===ka.SUPPORTED_UI){if("PLUGINS"===d.lovType){if(pa[this.component.typeId].pluginType.plugins.hasOwnProperty(f))return k("POSTFIX.UNSUPPORTED",pa[this.component.typeId].pluginType.plugins[f].title,!z(this.component,pa[this.component.typeId].pluginType.plugins[f].uiTypes))}else if("EVENTS"===d.lovType&&ra.lookupMap.hasOwnProperty(f))return k("POSTFIX.UNSUPPORTED",ra.lookupMap[f].d,!z(this.component,ra.lookupMap[f].uiTypes))}else if("COMPONENT"===d.lovType){if(d.lovComponentTypeId===da.BUILD_OPTION||d.lovComponentTypeId===da.AUTHORIZATION){if("MUST_NOT_BE_PUBLIC_USER"===f)return i("LOV.MUST_NOT_BE_PUBLIC_USER");if(/^(!|-)/.test(f)&&(f=f.substr(1),ya[d.lovComponentTypeId].hasOwnProperty(f)))return j("LOV.NOT_W_ARGUMENT",ya[d.lovComponentTypeId][f].getDisplayTitle())}if(ya[d.lovComponentTypeId].hasOwnProperty(f))return ya[d.lovComponentTypeId][f].getDisplayTitle()}else{if("STATIC"!==d.lovType){if("REGION_POSITIONS"===d.lovType||"BUTTON_POSITIONS"===d.lovType)return a="REGION_POSITIONS"===d.lovType?u().displayPointsMap:v(this.component.getProperty(ea.REGION).getValue()).displayPointsMap,a.hasOwnProperty(f)?a[f].name:j("LOV.UNKNOWN_LOOKUP",f);if("TEMPLATE_OPTIONS"===d.lovType){b=x(this).valuesMap,c=f.split(":");for(var h=0;h<c.length;h++)b.hasOwnProperty(c[h])?g.push(b[c[h]].d):g.push(j("LOV.UNKNOWN_LOOKUP",c[h]));return g.join(", ")}return f}if(d.lovValuesMap.hasOwnProperty(f))return d.lovValues[d.lovValuesMap[f]].d}return j("LOV.UNKNOWN_LOOKUP",f)}return e.nullText?e.nullText:f},H.prototype.getMetaData=function(){function a(a,c,d,f){var g;return!(b.component.typeId!==a||(g=b.component.getProperty(c),!g||""===g.getValue()))&&!(e.dependingOn.length>0&&e.dependingOn[0].id===d&&"N"===b.component.getProperty(f).getValue())}var b=this,c=oa[this.id],d=pa[this.component.typeId],e=d.properties[this.id],f=e.referenceScope,g=this.component.isReadOnly()||this._isReadOnly;return"DEPENDS"===f&&(f=a(da.VALIDATION,ea.VALIDATION_REGION,ea.CONDITION_TYPE,ea.EXECUTE_CONDITION)||a(da.PAGE_PROCESS,ea.PROCESS_REGION,ea.CONDITION_TYPE,ea.EXECUTE_CONDITION)||a(da.IG_COLUMN,ea.READ_ONLY_TYPE,ea.READ_ONLY_TYPE,ea.EXECUTE_READONLY)||b.component.typeId===da.DA_ACTION&&""!==b.component.getProperty(ea.IG_REGION).getValue()?"ROW":"COMPONENT"),this.component.typeId!==da.CLASSIC_RPT_COLUMN&&this.component.typeId!==da.TAB_FORM_COLUMN||this.id!==ea.DISPLAY_SEQUENCE?this.id===ea.PAGE_MODE&&""===t().defaultTemplates.dialog&&(g=!0):g=!0,{type:c.type,multiValueDelimiter:c.multiValueDelimiter,prompt:c.prompt,unit:c.unit,displayLen:c.displayLen,maxLen:c.maxLen,textCase:c.textCase,displayGroupId:c.displayGroupId,yesValue:c.yesValue,noValue:c.noValue,isDeprecated:c.hasOwnProperty("deprecatedValues"),lovComponentScope:c.lovComponentScope,lovComponentTypeId:c.lovComponentTypeId,helpText:function(){return b._getHelpText()},displaySeq:e.displaySeq,isCommon:e.isCommon,isUnique:e.hasOwnProperty("checkUniqueness"),referenceScope:f,defaultValue:e.defaultValue,supportsSubstitution:e.supportsSubstitution,isReadOnly:g,isRequired:this._isRequired,lovValues:function(a,c){return b._getLovValues(a,c)},quickPicks:function(){return b._getQuickPicks(f)},nullText:e.nullText,parentProperty:e.parentProperty,isCustomPluginAttribute:c.isCustomPluginAttribute}},H.prototype._getLovValues=function(b,c){function d(a,b){for(var c=0;c<a.length;c++)S.push({r:b+a[c].id,d:j("LOV.NOT_W_ARGUMENT",a[c].getDisplayTitle())})}function e(a){for(var b,c=[],d=0;d<a.length;d++)b=z(I.component,a[d].uiTypes),c.push({r:a[d].r,d:k("POSTFIX.UNSUPPORTED",a[d].d,!b),isQuickPick:!!b&&a[d].isQuickPick,isSupported:b,isLegacy:!1});return c}function f(a){function b(a,c,d){c.sort(function(a,b){return a.d.localeCompare(b.d)});for(var e=0;e<c.length;e++)I.id===ea.PARENT_REGION&&c[e].r===I.component.id||I.id===ea.MASTER_REGION&&c[e].r===I.component.id||(a.push({r:c[e].r,d:d+c[e].d}),f.hasOwnProperty(c[e].r)&&b(a,f[c[e].r],d+".."))}for(var c,d,e={},f={"":[]},g=[],h=0;h<a.length;h++)c=a[h].getProperty(ea.PARENT_REGION).getValue(),d=a[h].isOnGlobalPage()&&""===c?"global":c,f.hasOwnProperty(d)||(f[d]=[]),f[d].push({r:a[h].id,d:a[h].getDisplayTitle()}),e[a[h].id]=!0;for(d in f)f.hasOwnProperty(d)&&""!==d&&"global"!==d&&!e.hasOwnProperty(d)&&(f[""]=f[""].concat(f[d]));return b(g,f[""],""),f.hasOwnProperty("global")&&b(g,f.global,""),g}var m,n,o,p,q,r,s,w,B,C,D,E,G,H,I=this,J=oa[this.id],L=pa[this.component.typeId],M=L.properties[this.id],N={},Q=1,R={},S=[],T=[];if(J.type===ka.SUPPORTED_UI)"PLUGINS"===J.lovType?(l(L.pluginType.plugins,function(a,b){(I._value===a||A(I.component,b,{isDeprecated:!0}))&&(r=z(I.component,b.uiTypes),C={r:a,d:k("POSTFIX.UNSUPPORTED",b.title,!r),isSupported:r,isLegacy:b.isLegacy},b.category!==g?(R.hasOwnProperty(b.category)||(R[b.category]=S.length,S.push({group:qa[b.category],values:[]})),S[R[b.category]].values.push(C)):S.push(C))}),l(R,function(a,b){S[b].values.sort(function(a,b){return a.d.localeCompare(b.d)})}),S.sort(function(a,b){var c=a.hasOwnProperty("d")?"d":"group",d=b.hasOwnProperty("d")?"d":"group";return a[c].localeCompare(b[d])})):"EVENTS"===J.lovType&&(S.push({group:i("LOV.BROWSER_EVENTS"),values:e(ra.browser)}),S.push({group:i("LOV.APEX_EVENTS"),values:e(ra.apex)}),ra.component.length>0&&S.push({group:i("LOV.COMPONENT_EVENTS"),values:e(ra.component)}),S.push({group:i("LOV.CUSTOM_EVENT"),values:e(ra.custom)}));else if(J.type===ka.OWNER)S=ta.schemas;else{if(J.type===ka.TABLE)return void h("getDbObjects",{x01:c.type,x02:I.component._properties[M.parentProperty.id]._value,x03:"N",x04:I.component._properties.hasOwnProperty(ea.SOURCE_REMOTE_DATABASE)?I.component._properties[ea.SOURCE_REMOTE_DATABASE]._value:""},{success:b});if(J.type===ka.COLUMN||J.type===ka.REGION_COLUMN){q=this._getAvailableColumns(!0);for(var U=0;U<q.length;U++)y(q[U].type,J.dataTypes)?S.push({r:q[U].name,d:q[U].name}):"ROWID"!==q[U].name&&q[U].type&&T.push({r:q[U].name,d:q[U].name+" ("+q[U].type.toLowerCase()+")"});'"'===I._value.substr(0,1)&&S.push({r:I._value,d:i("LOV.ABSOLUTE_COLUMN_NO",I._value.substr(1,1))}),T.length>0&&S.push({group:i("LOV.COLUMN_WRONG_DATA_TYPE"),values:T})}else if(J.type===ka.ITEM){if("COLUMN"!==J.lovComponentScope&&a.inArray(this.component.typeId,[da.IG_COLUMN,da.DA_ACTION,da.VALIDATION,da.PAGE_PROCESS])===-1)return void O(c,b);M.parentProperty?D=this.component._properties[M.parentProperty.id]._value:this.component.typeId===da.IG_COLUMN?D=this.component.parentId:(this.component.typeId===da.DA_ACTION?E=ea.IG_REGION:this.component.typeId===da.VALIDATION?E=ea.VALIDATION_REGION:this.component.typeId===da.PAGE_PROCESS&&(E=ea.PROCESS_REGION),D=this.component.getProperty(E).getValue()),S=F(D)}else if(J.type===ka.FACET)S=O({type:"facet",component:I.component},b);else{if(J.type===ka.PAGE)return void P(c,b);if(J.lovType)if("COMPONENT"===J.lovType)if("PARENT"===J.lovComponentScope?N={parentId:I.component.parentId,excludeGlobalPage:!0}:"PAGE"===J.lovComponentScope?N={excludeGlobalPage:!0}:"PAGE_AND_GLOBAL"===J.lovComponentScope?N={}:"THEME"===J.lovComponentScope&&(N={parentId:t().id},J.id!==ea.PAGE_TEMPLATE&&J.id!==ea.DIALOG_TEMPLATE||!M.parentProperty||M.parentProperty.id!==ea.PAGE_MODE||(G=a.inArray(I.component._properties[ea.PAGE_MODE]._value,["MODAL","NON_MODAL"])!==-1,H=t().templates[da.PAGE_TEMPLATE],N.filterFunction=function(){return H[this.id].isDialog===G})),J.id!==ea.VALIDATION_REGION&&J.id!==ea.PROCESS_REGION||(N.filterFunction=function(){var a=this.getProperty(ea.REGION_TYPE).getValue();return"NATIVE_TABFORM"===a||"NATIVE_FORM"===a||"NATIVE_IG"===a&&this.getChilds(da.IG_ATTRIBUTES,{properties:[{id:ea.IS_EDITABLE,value:"Y"}]}).length>0}),J.id!==ea.DATA_SOURCE_REGION&&J.id!==ea.PROCESS_DATA_SOURCE_REGION||(N.filterFunction=function(){var a=this.getProperty(ea.REGION_TYPE).getValue();return"NATIVE_FORM"===a}),J.id===ea.MASTER_REGION&&(N.properties=[{id:ea.REGION_TYPE,value:"NATIVE_IG"}]),J.id===ea.MASTER_COLUMN&&(N.parentId=I.component.getParent().getProperty(ea.MASTER_REGION).getValue(),N.properties=[{id:ea.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:ea.DATA_TYPE,value:new RegExp("(VARCHAR2|NUMBER|DATE|TIMESTAMP)")}]),J.id===ea.SOURCE_FILTERED_REGION&&(N.properties=[{id:ea.REGION_TYPE,value:"NATIVE_SQL_REPORT"}]),m=K(J.lovComponentTypeId,N,!1),J.lovComponentTypeId===da.REGION)S=f(m);else{for(var U=0;U<m.length;U++)m[U].typeId===this.component.typeId&&m[U].id===this.component.id||S.push({r:m[U].id,d:m[U].getDisplayTitle()});S.sort(function(a,b){return a.d.localeCompare(b.d)}),J.lovComponentTypeId===da.BUILD_OPTION?d(m,"-"):J.lovComponentTypeId===da.AUTHORIZATION&&(S.push({r:"MUST_NOT_BE_PUBLIC_USER",d:i("LOV.MUST_NOT_BE_PUBLIC_USER")}),d(m,"!"))}else if("STATIC"===J.lovType)if(I.id===ea.AFFECTED_TYPE){p=L.pluginType.plugins[I.component.getProperty(ea.DA_ACTION_TYPE).getValue()].features,"DOM_OBJECT"===I._value&&p.push("DOM_OBJECT");for(var U=0;U<J.lovValues.length;U++)a.inArray(J.lovValues[U].r,p)!==-1&&S.push(J.lovValues[U])}else if(I.id===ea.FACET_LOV_TYPE)for(var U=0;U<J.lovValues.length;U++)"DISTINCT"===J.lovValues[U].r&&"NATIVE_RANGE"===I.component.getProperty(ea.ITEM_TYPE).getValue()||S.push(J.lovValues[U]);else for(var U=0;U<J.lovValues.length;U++)J.lovValues[U].isDeprecated&&I._value!==J.lovValues[U].r||J.lovValues[U].isInternal&&!Ba.isInternal||S.push(J.lovValues[U]);else if("REGION_POSITIONS"===J.lovType||"BUTTON_POSITIONS"===J.lovType){"REGION_POSITIONS"===J.lovType?(n=u().displayPoints,o="REGION"):(D=this.component.getProperty(ea.REGION).getValue(),o="BUTTON",n=""!==D?v(D).displayPoints:[]);for(var U=0;U<n.length;U++)a.inArray(o,n[U].types)===-1||"BUTTON"===n[U].types[0]&&"RIGHT_OF_IR_SEARCH_BAR"===n[U].id&&""!==D&&"NATIVE_IR"!==K(da.REGION,{id:D})[0].getProperty(ea.REGION_TYPE).getValue()||S.push({r:n[U].id,d:n[U].name,isDeprecated:n[U].isDeprecated})}else if("GRID_COLUMNS"===J.lovType){B=I.component._grid.maxColumns,I.id!==ea.GRID_COLUMN_SPAN&&I.id!==ea.GRID_LABEL_COLUMN_SPAN||(s=parseInt(I.component._properties[ea.GRID_COLUMN].getValue(),10),s>0&&(B-=s-1),I.id===ea.GRID_LABEL_COLUMN_SPAN&&(w=parseInt(I.component._properties[ea.GRID_COLUMN_SPAN].getValue(),10),w>0&&(B=w),Q=0,B-=1));for(var U=Q;U<=B;U++)S.push({r:U+"",d:U+""})}else if(J.lovType.indexOf("FORMAT_MASKS")!==-1)"DATE_FORMAT_MASKS"===J.lovType?S=sa.dates:"NUMBER_FORMAT_MASKS"===J.lovType?S=sa.numbers:"CHART_FORMAT_MASKS"===J.lovType?S=sa.chart:(S=sa.dates,sa.since&&(S=S.concat(sa.since)),S=S.concat(sa.numbers));else{if("DISTINCT"===J.lovType)return void h("getDistinctValues",{x01:this.component.typeId,x02:this.id},{success:function(a){function c(a){var b;if(""!==a)if(oa[I.id].multiValueDelimiter){b=a.split(oa[I.id].multiValueDelimiter);for(var c=0;c<b.length;c++)e[b[c]]=""}else e[a]=""}for(var d=K(I.component.typeId,{}),e={},f=0;f<d.length;f++)d[f]._properties.hasOwnProperty(I.id)&&c(d[f]._properties[I.id]._value);for(var f=0;f<a.length;f++)c(a[f]);for(var g in e)e.hasOwnProperty(g)&&S.push({d:g,r:g});S.sort(function(a,b){return a.d.localeCompare(b.d)}),b(S)}});if("MAP_REGIONS"===J.lovType)return void h("getMapRegions",{x01:I.component._properties[M.parentProperty.id]._value,x02:c.id},{success:b});"TEMPLATE_OPTIONS"===J.lovType&&(S=x(I).values)}}}return a.isFunction(b)?void b(S):S},H.prototype._getQuickPicks=function(b){function c(a){var b;a.i?(b=a.isLegacy?'<img src="#IMAGE_PREFIX#'+(a.dir||"")+a.i+'.gif" alt="">':'<img src="#IMAGE_PREFIX#app_ui/img/icons/'+a.i+'.png" class="'+a.i+'" alt="">',p.push({r:b,d:a.i+(a.isLegacy?".gif":".png"),icon:"icon-"+a.i})):a.columnName?p.push({r:a.substitution.prefix+(a.substitution.enquote?o(a.columnName):a.columnName)+a.substitution.postfix,d:a.columnName}):p.push({r:a.r,d:a.d||a.r})}function d(a){for(var b=0;b<a.length;b++)a[b].isQuickPick&&z(j.component,a[b].uiTypes)&&c(a[b])}var e,f,g,h,i,j=this,k=oa[this.id],m=pa[this.component.typeId],n=m.properties[this.id],p=[];if(k.type===ka.SUPPORTED_UI)"PLUGINS"===k.lovType?(l(m.pluginType.plugins,function(a,b){b.isQuickPick&&A(j.component,b,{ui:!0,isDeprecated:!0,isLegacy:!0})&&c({r:a,d:b.title})}),p.sort(function(a,b){return a.d.localeCompare(b.d)})):"EVENTS"===k.lovType&&(d(ra.browser),d(ra.apex),d(ra.component));else if(k.lovType)if("STATIC"===k.lovType)if(j.id===ea.AFFECTED_TYPE);else for(var q=0;q<k.lovValues.length;q++)k.lovValues[q].isQuickPick&&!k.lovValues[q].isDeprecated&&c(k.lovValues[q]);else if("REGION_POSITIONS"===k.lovType||"BUTTON_POSITIONS"===k.lovType){"REGION_POSITIONS"===k.lovType?(e=u().displayPoints,f="REGION"):(g=this.component.getProperty(ea.REGION).getValue(),f="BUTTON",e=""!==g?v(g).displayPoints:[]);for(var q=0;q<e.length;q++)a.inArray(f,e[q].types)!==-1&&e[q].isQuickPick&&c({r:e[q].id,d:e[q].name})}else k.lovType.indexOf("FORMAT_MASKS")!==-1;else if(a.inArray(m.id,[da.IR_ATTRIBUTES,da.IR_COLUMN,da.IG_ATTRIBUTES,da.IG_COLUMN,da.CLASSIC_RPT_COLUMN,da.TAB_FORM_COLUMN,da.VALIDATION,da.PAGE_PROCESS,da.REGION_PLUGIN_ATTR,da.REGION_COLUMN])!==-1)if(i=a.inArray(m.id,[da.IR_ATTRIBUTES,da.IR_COLUMN,da.CLASSIC_RPT_COLUMN,da.TAB_FORM_COLUMN])!==-1?{prefix:"#",postfix:"#",enquote:!1}:{prefix:"&",postfix:".",enquote:!0},k.id===ea.LINK_TEXT&&c({columnName:j.component.getProperty(ea.COLUMN_NAME).getValue(),substitution:i}),k.id===ea.LINK_ICON||k.id===ea.LINK_TEXT)c({i:"apex-edit-pencil"}),c({i:"apex-edit-pencil-alt"}),c({i:"apex-edit-page"}),c({i:"apex-edit-view"});else if(n.supportsSubstitution&&"ROW"===b&&a.inArray(k.type,[ka.TEXT,ka.TEXTAREA,ka.HTML])!==-1){h=O({type:"columns",component:j.component});for(var q=0;q<h.length;q++)c({columnName:h[q].name,substitution:i})}return p},H.prototype._getHelpText=function(){function c(c){var d,e="<dl>";d=a.map(k.pluginType.plugins,function(a,b){if(0===b.indexOf(c)&&A(h.component,a,{ui:!0,isDeprecated:!0,isLegacy:!0}))return a}).sort(function(a,b){return a.title.localeCompare(b.title)});for(var f=0;f<d.length;f++)e+="<dt>"+b.escapeHTML(d[f].title)+"</dt>",e+="<dd>"+d[f].helpText,d[f].aboutUrl&&(e+=" "+i("HELP.ABOUT_PLUGIN",d[f].aboutUrl)),e+="</dd>";return e+="</dl>"}function d(){var a,c=h.getMetaData().lovValues();a="<p>"+i("HELP.AVAILABLE_OPTIONS")+"</p><dl>",l.nullText&&(a+="<dt>"+l.nullText+"</dt>",l.nullHelpText&&(a+="<dd>"+l.nullHelpText+"</dd>"));for(var d=0;d<c.length;d++)a+="<dt>"+b.escapeHTML(c[d].d)+"</dt>",(c[d].helpText||c[d].isDeprecated)&&(a+="<dd>",c[d].helpText&&(a+=c[d].helpText),c[d].isDeprecated&&(a+="<p><em>"+i("HELP.DEPRECATED.LOV_VALUE",xa)+"</em></p>"),a+="</dd>");return a+="</dl>"}function e(){function a(a){for(var c=0;c<a.length;c++)e+="<dt>"+b.escapeHTML(a[c].name)+"</dt>",a[c].helpText&&(e+="<dd>"+a[c].helpText+"</dd>")}var c,d,e,f,g=x(h),j=[],k={},l=[];for(f=0;f<g.values.length;f++)g.values[f].groupId?(c=g.values[f].groupId,k.hasOwnProperty(c)?d=k[c]:(j.push({title:g.groups[c].title,seq:g.groups[c].seq,helpText:g.groups[c].helpText,lovValues:[]}),d=j.length-1,k[c]=d),j[d].lovValues.push({name:g.values[f].d,helpText:g.values[f].helpText})):l.push({name:g.values[f].d,helpText:g.values[f].helpText});for(j.sort(function(a,b){return a.seq===b.seq?a.title.localeCompare(b.title):a.seq-b.seq}),e="<p>"+i("HELP.AVAILABLE_OPTIONS")+"</p><dl>",a(l),f=0;f<j.length;f++)e+="<dt>"+b.escapeHTML(j[f].title)+"</dt><dd>",j[f].helpText&&(e+="<p>"+j[f].helpText+"</p>"),e+="<dl>",a(j[f].lovValues),e+="</dl></dd>";return e+="</dl>"}var f,h=this,j=oa[this.id],k=pa[this.component.typeId],l=k.properties[this.id];return f="<p>"+(this._helpText||l.helpText||j.helpText)+"</p>",k.pluginType&&this.id===k.pluginType.typePropertyId&&(f=f.replace(/#NATIVE_PLUGINS#/,c("NATIVE")).replace(/#CUSTOM_PLUGINS#/,c("PLUGIN"))),j.deprecatedValues&&(f="<p><em>"+i("HELP.DEPRECATED.ATTRIBUTE",xa)+"</em></p>"),"STATIC"===j.lovType?/#LOV_VALUES#/.test(f)?f=f.replace(/#LOV_VALUES#/,d()):f+=d():"TEMPLATE_OPTIONS"===j.lovType&&(f+=e()),this._examples===g&&l.examples===g&&j.examples===g||(f+="<h4>"+i("HELP.EXAMPLES")+"</h4><p>"+(this._examples||l.examples||j.examples)+"</p>"),a.inArray(j.type,[ka.CHECKBOXES,ka.LINK,ka.COMPONENT,ka.SELECT_LIST,ka.SUPPORTED_UI,ka.SUBSCRIPTION,ka.YES_NO,ka.OWNER,ka.TABLE,ka.COLUMN,ka.REGION_COLUMN,ka.TEMPLATE_OPTIONS])===-1&&(f+="<h4>"+i("HELP.ADDITIONAL_INFO")+"</h4>",f+="<ul><li>"+i("HELP.TYPE")+": "+i("HELP.PROP_TYPE."+j.type),j.multiValueDelimiter&&(f+=" ("+i("HELP.MULTIPLE.TEXT",i("HELP.MULTIPLE."+j.multiValueDelimiter))+")"),f+="</li>","SQL"!==j.type.substr(0,3)&&"PLSQL"!==j.type.substr(0,5)&&j.type!==ka.WHERE_CLAUSE||(f+="<li>"+i("HELP.BIND_VARIABLES")+": "+i("HELP.REF_SCOPE."+h.getMetaData().referenceScope)+"</li>"),l.supportsSubstitution&&(f+="<li>"+i("HELP.SUBSTITUTIONS")+": "+i("HELP.REF_SCOPE."+h.getMetaData().referenceScope)+"</li>"),j.type===ka.SQL||j.type===ka.PLSQL_FUNC_SQL?(f+="<li>"+i("HELP.MIN_COLUMNS")+": "+this._sqlMinColumns+"</li>",this._sqlMaxColumns>0&&this._sqlMaxColumns<999&&(f+="<li>"+i("HELP.MAX_COLUMNS")+": "+this._sqlMaxColumns+"</li>")):j.type!==ka.INTEGER&&j.type!==ka.NUMBER||(j.minValue!==g&&(f+="<li>"+i("HELP.MIN_VALUE")+": "+j.minValue+"</li>"),j.maxValue!==g&&(f+="<li>"+i("HELP.MAX_VALUE")+": "+j.maxValue+"</li>")),j.restrictedChars!==g&&(f+="<li>"+i("HELP.RESTRICTED_CHARS_LABEL")+": "+i("HELP.RESTRICTED_CHARS."+j.restrictedChars)+"</li>"),f+="</ul>"),f},H.prototype.getColumns=function(a){var b=[];if(0===this.errors.length&&0===this.warnings.length)if(a)b=this._columns;else for(var c=0;c<this._columns.length;c++)"ROWID"===this._columns[c].name&&0===c||b.push(this._columns[c]);return b},H.prototype.hasOrderBy=function(){return 0===this.errors.length&&this._hasOrderBy},H.prototype._getAvailableColumns=function(a){var b,c=pa[this.component.typeId].properties[this.id],d=oa[this.id],e=c.parentProperty,f=this.component,h=[];if(c.hasOwnProperty("parentProperty"))for(;f!==g;){if(f.typeId===e.typeId){if(oa[e.id].lovComponentTypeId===da.REGION){h=d.type===ka.REGION_COLUMN?F(this.component._properties[e.id]._value):G(this.component._properties[e.id]._value,a);break}if(e.id===ea.CHART_SOURCE_LOCATION){b=f._properties[e.id].getValue(),h="REGION_SOURCE"===b?G(this.component.getParent().parentId,a):E(f,fa,a);break}if(e.id===ea.REGION_SQL){h=d.type===ka.REGION_COLUMN?F(f.id):G(f.id,a);break}h=f._properties[e.id].getColumns(a);break}f=f.getParent()}return h},H.prototype._checkColumn=function(a){for(var b=this._getAvailableColumns(!0),c=0;c<b.length;c++)if(b[c].name===a)return y(b[c].type,oa[this.id].dataTypes)?"":i("VAL.COLUMN_HAS_WRONG_DATA_TYPE");return i("VAL.COLUMN_NOT_FOUND")},H.prototype.validate=function(d){function e(a){a.error&&H.errors.push(a.error),a.warning&&H.warnings.push(a.warning)}function f(b){var c;if(a.isArray(b)){for(var d=0;d<b.length;d++)if(c=A.component.getProperty(b[d]))return c.getValue()}else if(c=A.component.getProperty(b))return c.getValue();return""}var j,k,l,m,n,o,p,q,r,s,t,u,v,w=/^&((\w+)|("[^\n\r"&]+"))\.$/,x={US_ONLY:/[^a-zA-Z0-9 ]/,US_ONLY_NO_SPACE:/[^a-zA-Z0-9]/,US_ONLY_UNDERSCORE_NO_SPACE:/[^a-zA-Z0-9_]/,WEB_SAFE:/[<>"]/,NO_SPECIAL_CHAR:/[&<>"\/;,*|=%]|(--)/,NO_SPECIAL_CHAR_NL:/[&<>"\/;,*|=%\n\r]|(--)/,SAFE_COMPONENT_NAME:/[ :&,.+?^'"\n\r]/},y={decimal:c.getDecimalSeparator(),group:c.getGroupSeparator()},z=d,A=this,B=pa[this.component.typeId],C=B.properties,D=C[this.id],E=oa[this.id],F="",G="N",H={errors:[],warnings:[],columns:[],hasOrderBy:!1};if(this._isRequired&&""===a.trim(z))H.errors.push(i("VAL.IS_REQUIRED"));else if(""!==a.trim(z))if(E.restrictedChars&&x[E.restrictedChars].test(z))H.errors.push(i("VAL.HAS_RESTRICTED_CHAR",z.match(x[E.restrictedChars])));else if((E.type===ka.NUMBER||E.type===ka.INTEGER)&&D.supportsSubstitution&&w.test(z));else if(z.length>E.maxLen)H.errors.push(i("VAL.VALUE_TOO_LONG",z.length-E.maxLen));else{if(E.type===ka.NUMBER||E.type===ka.INTEGER)E.type===ka.NUMBER?("."!==y.decimal&&(z=z.replace(new RegExp(b.escapeRegExp(y.group),"g"),"!"),z=z.replace(new RegExp(b.escapeRegExp(y.decimal),"g"),".")),j=Number(z),l=i("VAL.MUST_BE_NUMERIC")):(j=parseInt(z,10),l=i("VAL.MUST_BE_INTEGER")),isNaN(j)||j!=z?H.errors.push(l):E.minValue===g&&E.maxValue===g||(j<E.minValue?H.errors.push(i("VAL.VALUE_LESS_MIN_VALUE",E.minValue)):j>E.maxValue&&H.errors.push(i("VAL.VALUE_GREATER_MAX_VALUE",E.maxValue)));else if(A.id===ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY&&A.component.getProperty(ea.GENERIC_COLUMN_COUNT)){k=A.component.getProperty(ea.GENERIC_COLUMN_COUNT).getValue(),H.columns=[],H.hasOrderBy=!1;for(var I=1;I<=k;I++)H.columns.push({name:"COL"+(I<10?"0":"")+I,type:"VARCHAR2",isRequired:!1,maxLen:4e3})}else a.inArray(E.type,[ka.TABLE,ka.SQL,ka.SQL_EXPR,ka.SQL_EXPR_BOOLEAN,ka.PLSQL,ka.PLSQL_EXPR_VARCHAR,ka.PLSQL_EXPR_BOOLEAN,ka.PLSQL_FUNC_VARCHAR,ka.PLSQL_FUNC_BOOLEAN,ka.PLSQL_FUNC_SQL,ka.WHERE_CLAUSE,ka.ORDER_BY_CLAUSE])!==-1||E.hasPlSqlCheck||this.id===ea.SOURCE_WEB_SRC_QUERY?(E.type===ka.TABLE&&(q=this.component._properties[D.parentProperty.id]._value),a.inArray(A.id,[ea.SOURCE_SQL_QUERY,ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY,ea.SOURCE_QUERY_TABLE,ea.SOURCE_QUERY_WHERE,ea.SOURCE_QUERY_ORDER_BY])!==-1?(o=f([ea.SOURCE_LOCATION,ea.CHART_SOURCE_LOCATION]),p=f(ea.SOURCE_QUERY_TYPE),v=f(ea.SOURCE_REMOTE_DATABASE),r=f(ea.SOURCE_QUERY_TABLE),s=f(ea.SOURCE_SQL_QUERY),
t=f(ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY),p&&(G=f(ea.SOURCE_INCLUDE_ROWID_COLUMN)),u=f(ea.OPTIMIZER_HINT)):this.id===ea.SOURCE_WEB_SRC_QUERY?o=f([ea.SOURCE_LOCATION,ea.CHART_SOURCE_LOCATION]):a.inArray(this.id,[ea.POST_PROC_WHERE,ea.POST_PROC_ORDER_BY,ea.POST_PROC_SQL_QUERY,ea.POST_PROC_PLSQL_FUNCTION_BODY])!==-1?(o=f([ea.SOURCE_LOCATION,ea.CHART_SOURCE_LOCATION]),F=f(ea.SOURCE_WEB_SRC_QUERY),r="",s="",t=""):E.type===ka.WHERE_CLAUSE?(p="TABLE",q=this.component._properties[C[D.parentProperty.id].parentProperty.id]._value,r=this.component._properties[D.parentProperty.id]._value,G="Y"):E.type===ka.ORDER_BY_CLAUSE?(p="TABLE",q=this.component._properties[C[D.parentProperty.id].parentProperty.id]._value,r=this.component._properties[D.parentProperty.id]._value,G="Y"):this.id===ea.PLSQL_CODE&&(o=f(ea.PLSQL_PROCESS_LOCATION),v=f(ea.SOURCE_REMOTE_DATABASE)),h("validateProperty",{x01:this.id,x02:E.type,x03:this._sqlMinColumns,x04:this._sqlMaxColumns,x05:z,x06:o,x07:p,x08:q,x09:r+s+t+F,x10:G,x11:u,x12:v},{success:function(b){H.columns=b.columns||[],H.hasOrderBy=b.hasOrderBy,"OK"!==b.result&&(a.inArray(E.type,[ka.SQL,ka.TABLE,ka.PLSQL_FUNC_SQL])>=0&&D.refByChilds.length>0||A.id===ea.REGION_FUNCTION_RETURNING_SQL||A.id===ea.SOURCE_QUERY_PLSQL_FUNCTION_BODY||A.id===ea.SOURCE_WEB_SRC_QUERY?H.errors.push(b.result):H.warnings.push(b.result))},async:!1})):E.type!==ka.COLUMN&&E.type!==ka.REGION_COLUMN||(l=this._checkColumn(z),""!==l&&H.errors.push(l));D.checkUniqueness&&(m={properties:[{id:this.id,value:z}]},"PARENT"===D.checkUniqueness?m.parentId=this.component.parentId:"PAGE"===D.checkUniqueness&&(m.pageId=va),n=K(this.component.typeId,m),n.length>0&&n[0].id!==this.component.id?H.errors.push(i("VAL.MUST_BE_UNIQUE")):this.id===ea.ITEM_NAME&&(this.component.typeId===da.PAGE_ITEM&&K(da.FACET,m).length>0||this.component.typeId===da.FACET&&K(da.PAGE_ITEM,m).length>0)&&H.errors.push(i("VAL.MUST_BE_UNIQUE"))),0===H.errors.length&&e(this.component._callPluginCallback({action:ha.VALIDATE,property:this,value:z,sql:{columns:H.columns,hasOrderBy:H.hasOrderBy,hasWarnings:H.warnings.length>0}})),0===H.errors.length&&e(this.component._callComponentTypeCallback({action:ha.VALIDATE,property:this,value:z,sql:{columns:H.columns,hasOrderBy:H.hasOrderBy,hasWarnings:H.warnings.length>0}}))}return H},H.prototype._setValue=function(c,d){function e(){a.inArray(v.type,[ka.NUMBER,ka.INTEGER,ka.LINK,ka.ITEM,ka.FACET,ka.PAGE,ka.TABLE])!==-1&&(p=a.trim(p)),"UPPER"===v.textCase?p=p.toUpperCase():"LOWER"===v.textCase&&(p=p.toLowerCase())}function f(a){function b(a){delete o._properties[a];for(var c=0;c<t[a].refByDependingOn.length;c++)t[a].refByDependingOn[c].hasToExist&&b(t[a].refByDependingOn[c].propertyId)}for(var c,d=0;d<t[a].refByDependingOn.length;d++)c=t[a].refByDependingOn[d].propertyId,o._properties.hasOwnProperty(c)?o._properties[c]=new H({component:o,propertyId:c,defaultValue:o._properties[c]._value,columns:o._properties[c]._columns,hasOrderBy:o._properties[c]._hasOrderBy}):c===ea.GRID_LABEL_COLUMN_SPAN||c===ea.READ_ONLY_HTML_ATTRIBUTES?o._setGridProperties(!0):o._properties[c]=new H({component:o,propertyId:c}),o._properties.hasOwnProperty(c)&&o._properties[c]._isVisible()?f(c):b(c)}function h(){function a(a,b){var c,d;a._properties.hasOwnProperty(b)&&(c=a._properties[b],d=a===o?"_setValue":"setValue",oa[b].type===ka.COLUMN||oa[b].type===ka.REGION_COLUMN?""!==c._value&&c._checkColumn(c._value)===i("VAL.COLUMN_NOT_FOUND")?c[d]("",l):c[d](c._value,l):c[d](C(c,pa[a.typeId].properties[b].defaultValue),l))}var b;if(0===n.errors.length&&0===n.warnings.length||1===n.errors.length&&n.errors[0]===i("VAL.IS_REQUIRED"))for(var c=0;c<u.refByChilds.length;c++)if(u.refByChilds[c].typeId===o.typeId)a(o,u.refByChilds[c].id);else{b=o.getChildrenUntil(u.refByChilds[c].typeId);for(var d=0;d<b.length;d++)a(b[d],u.refByChilds[c].id)}}function j(){a.inArray(n.id,[ea.GRID_NEW_GRID,ea.GRID_NEW_ROW,ea.GRID_COLUMN,ea.GRID_NEW_COLUMN,ea.GRID_COLUMN_SPAN])!==-1||o.typeId===da.REGION&&a.inArray(n.id,[ea.REGION_POSITION,ea.PARENT_REGION,ea.REGION_TEMPLATE])!==-1||o.typeId===da.BUTTON&&a.inArray(n.id,[ea.BUTTON_POSITION,ea.REGION])!==-1||o.typeId===da.PAGE_ITEM&&a.inArray(n.id,[ea.REGION,ea.ITEM_TYPE,ea.FIELD_TEMPLATE])!==-1?o._setGridProperties():o.typeId===da.PAGE&&a.inArray(n.id,[ea.PAGE_TEMPLATE,ea.DIALOG_TEMPLATE])!==-1&&J()}function k(a,c){var d,e,f,g,h,i,j,k,l=b.escapeRegExp(a),m=[];for(i=0;i<pa[da.PAGE_ITEM].refByProperties.length;i++)if(d=oa[pa[da.PAGE_ITEM].refByProperties[i]],d.type===ka.ITEM||d.type===ka.FACET)for(d.multiValueDelimiter?(f=new RegExp("(^|"+d.multiValueDelimiter+"|\\s)"+l+"($|"+d.multiValueDelimiter+"|\\s)","i"),g={properties:[{id:d.id,value:f}]}):(f=new RegExp("^"+l+"$","i"),g={properties:[{id:d.id,value:f}]}),j=0;j<d.refByComponentTypes.length;j++)for(e=pa[d.refByComponentTypes[j]].properties[d.id],m=K(d.refByComponentTypes[j],g,!1),k=0;k<m.length;k++)h=m[k].getProperty(d.id),d.multiValueDelimiter?h.setValue(h.getValue().replace(f,"$1"+c+"$2")):h.setValue(c)}var l,m,n=this,o=this.component,p=c+"",q=this._value,r=pa[o.typeId],s=r.pluginType,t=r.properties,u=t[this.id],v=oa[n.id],w=g,x=g;if(d=a.extend({checkReadOnly:!0},d),l=a.extend({},{},d),d.checkReadOnly){if(Ca)throw"Page is read only!";if(o.isReadOnly())throw"Component is read only!";if(n._isReadOnly)throw"Property '"+n.getMetaData().prompt+"' ("+n.id+") is read only for this component!"}(p!==n._value||0!==n.errors.length||0!==n.warnings.length||d.forceSetValue)&&(e(),m=this.validate(p),s&&n.id===s.typePropertyId&&p!==q&&this.component._callPluginCallback({action:ha.REMOVED}),n._value=p,n.hasChanged=!0,n.errors=m.errors,n.warnings=m.warnings,n._columns=m.columns,n._hasOrderBy=m.hasOrderBy,0===n.errors.length&&n.id===r.seqPropertyId&&(w=parseInt(p,10)),n.id===r.parentPropertyId&&(x=p),o._setHasChanged({seq:w,parentId:x}),f(n.id),h(),n.id===ea.ITEM_NAME&&k(q,p),j(),o._setHasChanged())},H.prototype.setValue=function(a,b){var c;if(this.component._status===ia.DELETED)throw"Component has been deleted!";return S(this.component,Da.CHANGE),c=this._value,this._setValue(a,{checkReadOnly:!0,forceSetValue:b}),this.component._callPluginCallback({property:this,oldValue:c}),this.component._callComponentTypeCallback({property:this,oldValue:c}),this},H.prototype._setUniqueValue=function(){var a=pa[this.component.typeId].properties[this.id].checkUniqueness,b={properties:[{id:this.id,value:""}]},c=this.getValue();"PARENT"===a?b.parentId=this.component.parentId:"PAGE"===a&&(b.pageId=va),b.properties[0].value=c;for(var d=1;d<1e4;d++){if(this.id===ea.ITEM_NAME&&0===K(da.PAGE_ITEM,b,!1).length&&0===K(da.FACET,b,!1).length||this.id!==ea.ITEM_NAME&&0===K(this.component.typeId,b,!1).length)return void(this._value=b.properties[0].value);b.properties[0].value=c+"_"+d}throw"Unable to generate a unique value for property '"+this.getMetaData().prompt+"' ("+this.id+")!"},I.prototype._callPluginCallback=function(b){var c,d,e,f,h=pa[this.typeId],i=h.pluginType,j=b.action;if(i&&(c=b.action===ha.VALIDATE&&b.property.id===i.typePropertyId?i.plugins[b.value]:i.plugins[this._properties[i.typePropertyId]._value])){if(j===g){if(b.property&&b.property.id===i.typePropertyId)j=ha.CREATED;else if(b.properties)for(var k=0;k<b.properties.length;k++)if(b.properties[k].id===i.typePropertyId){j=ha.CREATED;break}j===g&&(j=ha.CHANGED)}if(h.id!==da.REGION||j!==ha.CREATED&&j!==ha.REMOVED||(j===ha.CREATED&&a.inArray(c.name,["NATIVE_SQL_REPORT","NATIVE_TABFORM"])===-1?(d=pa[da.REGION_PLUGIN_ATTR].pluginType.plugins[c.name],(d.attributes.length>0||a.inArray("FETCHED_ROWS",d.features)!==-1||a.inArray("NO_DATA_FOUND_MESSAGE",d.features)!==-1||a.inArray("COLUMN_HEADING",d.features)!==-1||a.inArray("INIT_JAVASCRIPT_CODE",d.features)!==-1||a.inArray("EDITABLE",d.features)!==-1||a.inArray("LAZY_LOADING",d.features)!==-1||"NATIVE_BREADCRUMB"===c.name||"NATIVE_LIST"===c.name)&&new I({typeId:da.REGION_PLUGIN_ATTR,parentId:this.id,values:[{id:ea.HIDDEN_REGION_TYPE,value:c.name}]})):j===ha.REMOVED&&(e=this.getChilds(da.REGION_PLUGIN_ATTR),1===e.length&&e[0].remove())),a.isFunction(c.callback)&&(j===ha.VALIDATE?f=c.callback.apply(this,[j,b.property,b.value,b.sql]):j===ha.CREATED||j===ha.REMOVED?c.callback.apply(this,[j]):j===ha.CHANGED&&b.property&&c.callback.apply(this,[j,b.property,b.oldValue]),b.properties))for(var k=0;k<b.properties.length;k++)b.properties[k].id!==i.typePropertyId&&c.callback.apply(this,[ha.CHANGED,this.getProperty(b.properties[k].id),b.properties[k].oldValue])}return f||{}},I.prototype._callComponentTypeCallback=function(b){var c,d=pa[this.typeId];if(a.isFunction(d.callback))if(b.action===ha.VALIDATE)c=d.callback.apply(this,[b.action,b.property,b.value,b.sql]);else if(b.action)d.callback.apply(this,[b.action]);else if(b.property)d.callback.apply(this,[ha.CHANGED,b.property,b.oldValue]);else if(a.isArray(b.properties))for(var e=0;e<b.properties.length;e++)d.callback.apply(this,[ha.CHANGED,this.getProperty(b.properties[e].id),b.properties[e].oldValue]);return c||{}},I.prototype.isOnGlobalPage=function(){return this.pageId===wa.globalPageId&&this.pageId!==va},I.prototype.isReadOnly=function(){return Ca||this._isReadOnly||this.isOnGlobalPage()||pa[this.typeId].isSharedComponent},I.prototype.hasChanged=function(){return this._status!==ia.UNCHANGED},I.prototype.hasErrors=function(){for(var a in this._properties)if(this._properties.hasOwnProperty(a)&&this._properties[a].errors.length>0)return!0;return!1},I.prototype.hasWarnings=function(){for(var a in this._properties)if(this._properties.hasOwnProperty(a)&&this._properties[a].warnings.length>0)return!0;return!1},I.prototype._setHasChanged=function(a){var b=this;a=a||{},a.status===ia.DELETED?b._status=ia.DELETED:b._status===ia.UNCHANGED&&(b._status=ia.UPDATED),a.seq!==g&&(b.seq=a.seq),a.parentId!==g&&(b.parentId=a.parentId)},I.prototype._deleteProperty=function(a){var b=pa[this.typeId].properties[a];delete this._properties[a];for(var c=0;c<b.refByDependingOn.length;c++)b.refByDependingOn[c].hasToExist&&this._deleteProperty(b.refByDependingOn[c].propertyId)},I.prototype._cleanProperties=function(){for(var a in this._properties)this._properties.hasOwnProperty(a)&&(this._properties[a]._isVisible()||this._deleteProperty(a))},I.prototype._getGridParams=function(b){function c(b){var c,d,e,g=K(da.REGION,{id:b})[0],h=a.extend({},g._grid);return h.hasGridSupport&&!j.alwaysUseMaxColumns&&(c=g._properties[ea.GRID_COLUMN].getValue(),d=g._properties[ea.GRID_COLUMN_SPAN],j.grid.hasColumnSpan&&d&&(e=d.getValue()),e>0?(h.maxColumns=parseInt(e,10),f.trace("_getGridParams: Region %O uses column span, reduce max columns to %i",g,h.maxColumns)):c>0&&(h.maxColumns-=parseInt(c,10)-1,f.trace("_getGridParams: Region %O uses column positioning, reduce max columns to %i",g,h.maxColumns))),h}var d,e,h,i,j=u(),k={};return this.typeId===da.REGION?""===this._properties[ea.PARENT_REGION]._value?h=this._properties[ea.REGION_POSITION]._value:(d=this._properties[ea.PARENT_REGION]._value,h="SUB_REGIONS"):this.typeId===da.PAGE_ITEM?this.parentId&&(d=this.parentId,h="BODY"):this.typeId===da.BUTTON&&this.parentId&&(d=this.parentId,h=this._properties[ea.BUTTON_POSITION]._value),i=d===g?j.displayPointsMap[h]:v(d).displayPointsMap[h],i===g?(i={hasGridSupport:!0,maxFixedGridColumns:j.grid.maxColumns,isUnknown:!0},f.warn("_getGridParams: Component %O uses unknown display point %s! Fallback to default values",this,h)):(j.grid.alwaysUseMaxColumns||i.maxFixedGridColumns===g)&&(i.maxFixedGridColumns=j.grid.maxColumns),i.isUnknown&&(k.isUnknown=!0),d!==g?(e=c(d),k.pageDisplayPointhasGridSupport=e.pageDisplayPointhasGridSupport,k.hasGridSupport=!!e.pageDisplayPointhasGridSupport&&i.hasGridSupport,"FIXED"!==j.grid.type||j.grid.alwaysUseMaxColumns?k.maxColumns=j.grid.maxColumns:(i.maxFixedGridColumns<0?k.maxColumns=Math.max(e.maxColumns+i.maxFixedGridColumns,0):i.maxFixedGridColumns>0?k.maxColumns=Math.min(i.maxFixedGridColumns,e.maxColumns):k.maxColumns=e.maxColumns,k.maxColumns<2&&(k.hasGridSupport=!1,f.warn("_getGridParams: Component %O, disable grid support because there are no more grid columns available!",this)))):(k.hasGridSupport=i.hasGridSupport,k.pageDisplayPointhasGridSupport=i.hasGridSupport,k.hasGridSupport&&(k.maxColumns=i.maxFixedGridColumns)),f.trace("_getGridParams: Component %O returned grid params %O",this,k),k},I.prototype._setGridProperties=function(b){function c(a,b){b?(h._properties.hasOwnProperty(a)||(h._properties[a]=new H({component:h,propertyId:a})),h._properties[a]._isVisible()||h._deleteProperty(a)):h._deleteProperty(a)}function d(a){var b=h._properties[a];return b?b.getValue():""}function e(a,c){for(var d=K(a,{properties:[{id:c,value:h.id}]}),e=0;e<d.length;e++)b!==g||d[e].isOnGlobalPage()||(S(d[e],Da.CHANGE),d[e]._setHasChanged()),d[e]._setGridProperties(b)}var f,h=this,i=u(),j=!1,k=!1;a.inArray(this.typeId,[da.REGION,da.PAGE_ITEM,da.BUTTON])!==-1&&(this._grid=this._getGridParams(),this._grid.hasGridSupport?(c(ea.GRID_NEW_GRID,i.grid.hasNewGrid),c(ea.GRID_NEW_ROW,!i.grid.hasNewGrid||"N"===d(ea.GRID_NEW_GRID)),c(ea.GRID_COLUMN,!0),c(ea.GRID_NEW_COLUMN,""===d(ea.GRID_COLUMN)&&"N"===d(ea.GRID_NEW_ROW)),j="Y"===d(ea.GRID_NEW_GRID)||"Y"===d(ea.GRID_NEW_ROW)||""!==d(ea.GRID_COLUMN)||"Y"===d(ea.GRID_NEW_COLUMN),c(ea.GRID_COLUMN_SPAN,j&&i.grid.hasColumnSpan),c(ea.GRID_COLUMN_CSS_CLASSES,j&&i.grid.hasColumnCssClasses),c(ea.GRID_COLUMN_ATTRIBUTES,j&&i.grid.hasColumnAttributes)):(this._deleteProperty(ea.GRID_NEW_GRID),this._deleteProperty(ea.GRID_NEW_ROW),this._deleteProperty(ea.GRID_COLUMN),this._deleteProperty(ea.GRID_NEW_COLUMN),this._deleteProperty(ea.GRID_COLUMN_SPAN),this._deleteProperty(ea.GRID_COLUMN_CSS_CLASSES),this._deleteProperty(ea.GRID_COLUMN_ATTRIBUTES)),this.typeId!==da.PAGE_ITEM&&this.typeId!==da.BUTTON||(k=this._grid.hasGridSupport&&j&&"TABLE"===i.grid.type,c(ea.GRID_ROW_SPAN,k),c(ea.ELEMENT_FIELD_ALIGNMENT,k),this.typeId===da.PAGE_ITEM&&(c(ea.LABEL_ALIGNMENT,k),c(ea.READ_ONLY_HTML_ATTRIBUTES,k&&i.grid.hasColumnAttributes),f=w(d(ea.FIELD_TEMPLATE)),c(ea.GRID_LABEL_COLUMN_SPAN,this._grid.hasGridSupport&&j&&f.hasLabelColumnSpan))),this.typeId===da.REGION&&(e(da.REGION,ea.PARENT_REGION),e(da.PAGE_ITEM,ea.REGION),e(da.BUTTON,ea.REGION)))},I.prototype._setProperties=function(a,b){var c;a=a||[];for(var d=0;d<a.length;d++){if(!oa.hasOwnProperty(a[d].id))throw"Property "+a[d].id+" doesn't exist!";if(!this._properties.hasOwnProperty(a[d].id))throw"Property '"+oa[a[d].id].prompt+"' ("+a[d].id+") not available for this component!";c=this._properties[a[d].id],a[d].oldValue=c._value,c._setValue(a[d].value,b)}},I.prototype.getProperty=function(a){return this._properties[a]},I.prototype.getProperties=function(){var a=[];return l(this._properties,function(b,c){a.push(c)}),a},I.prototype.duplicate=function(a){if(this._status===ia.DELETED)throw"Component has been deleted!";return this._duplicate(a)},I.prototype._duplicate=function(a,b){var c,d=pa[this.typeId],e=[];c=new I({component:this,previousComponent:this,values:a,parentId:b||this.parentId});for(var f=0;f<d.childComponentTypes.length;f++)if(d.childComponentTypes[f]!==da.IR_SAVED_REPORT){e=K(d.childComponentTypes[f],{parentId:this.id},!1);for(var h=0;h<e.length;h++)e[h]._duplicate(g,c.id)}return c},I.prototype.remove=function(){this._remove(!1)},I.prototype._remove=function(a){function c(a,b,c){var d,e=b.split(c),f=new RegExp("^\\s*"+a+"\\s*$","i");for(d=0;d<e.length;d++)if(f.test(e[d])){e.splice(d,1);break}return e.join(c)}var d,e,f,g,h,i,k=pa[this.typeId],l=this,m=[],n=[];if(this._status!==ia.DELETED){if(Ca)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";S(this,Da.DELETE);for(var o=0;o<k.childComponentTypes.length;o++){m=K(k.childComponentTypes[o],{parentId:this.id},!1);for(var p=0;p<m.length;p++)m[p]._remove(!0)}g=this.typeId===da.BUILD_OPTION||this.typeId===da.AUTHORIZATION?new RegExp("^[-!]?"+b.escapeRegExp(this.id)+"$"):this.id,this.typeId!==da.PAGE_ITEM&&this.typeId!==da.FACET||(h=b.escapeRegExp(this.getProperty(ea.ITEM_NAME).getValue()));for(var o=0;o<k.refByProperties.length;o++){d=oa[k.refByProperties[o]],"COMPONENT"===d.lovType?f={properties:[{id:d.id,value:g}]}:d.type!==ka.ITEM&&d.type!==ka.FACET||(f=d.multiValueDelimiter?{properties:[{id:d.id,value:new RegExp("(^|"+d.multiValueDelimiter+"|\\s)"+h+"($|"+d.multiValueDelimiter+"|\\s)","i")}]}:{properties:[{id:d.id,value:new RegExp("^"+h+"$","i")}]});for(var p=0;p<d.refByComponentTypes.length;p++)if(pa[d.refByComponentTypes[p]].parentId!==this.typeId){e=pa[d.refByComponentTypes[p]].properties[d.id],n=K(d.refByComponentTypes[p],f,!1);for(var q=0;q<n.length;q++)if("WEAK_NULL"===e.referenceOnDelete||"DB_NULL"===e.referenceOnDelete)i=n[q].getProperty(d.id),d.type!==ka.ITEM&&d.type!==ka.FACET||!d.multiValueDelimiter?i.setValue(""):i.setValue(c(h,i.getValue(),d.multiValueDelimiter));else{if("WEAK_CASCADE"!==e.referenceOnDelete&&"DB_CASCADE"!==e.referenceOnDelete)throw j("DEL.REFERENCE_EXISTS",n[q].getDisplayTitle());d.type!==ka.ITEM&&d.type!==ka.FACET||!d.multiValueDelimiter?n[q]._remove(!0):(i=n[q].getProperty(d.id),i.setValue(c(h,i.getValue(),d.multiValueDelimiter)),""===i.getValue()&&n[q]._remove(!0))}}}this._status===ia.CREATED||a?delete ya[this.typeId][this.id]:this._setHasChanged({status:ia.DELETED}),l._callPluginCallback({action:ha.REMOVED}),l._callComponentTypeCallback({action:ha.REMOVED})}},I.prototype.move=function(a,b){if(this._status===ia.DELETED)throw"Component has already been deleted!";if(Ca)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";S(this,Da.CHANGE),this._setProperties(b),this._move(a),this._callPluginCallback({properties:b}),this._callComponentTypeCallback({properties:b})},I.prototype._move=function(a){var b,c,d,e=this.typeId===da.CLASSIC_RPT_COLUMN||this.typeId===da.TAB_FORM_COLUMN?1:10,f=pa[this.typeId].seqPropertyId,h=a,i=!0;if(b=this.getSiblings(!0),b.length>0&&h){if(h instanceof I)for(d=0;d<b.length;d++)if(b[d].id===h.id&&b[d].typeId===h.typeId){this.seq=h.seq+e,i=!1;break}("last"===h||i)&&b[b.length-1].id!==this.id&&(h=b[b.length-1],this.seq=h.seq+e,i=!1)}for(i&&(h=g,this.seq=e),c=this.seq,this._properties[f]._setValue(this.seq,{checkReadOnly:!1}),d=0;d<b.length;d++)i?b[d].isReadOnly()?c=b[d].seq:b[d].id!==this.id&&(c+=e,b[d].getProperty(f).setValue(c)):b[d].id===h.id&&(i=!0)},I.prototype.getSiblings=function(b){var c,d,e,f=[];if(a.inArray(this.typeId,[da.REGION,da.PAGE_ITEM,da.BUTTON])!==-1?(this.typeId===da.REGION?(f[0]={typeId:da.REGION,filter:{properties:[]}},this._properties.hasOwnProperty(ea.REGION_POSITION)&&f[0].filter.properties.push({id:ea.REGION_POSITION,value:this._properties[ea.REGION_POSITION]._value}),f[0].filter.properties.push({id:ea.PARENT_REGION,value:this._properties[ea.PARENT_REGION]._value})):this.typeId===da.PAGE_ITEM||this.typeId===da.BUTTON&&"BODY"===this._properties[ea.BUTTON_POSITION]._value?(f.push({typeId:da.PAGE_ITEM,filter:{parentId:this.parentId}}),f.push({typeId:da.BUTTON,filter:{parentId:this.parentId,properties:[{id:ea.BUTTON_POSITION,value:"BODY"}]}})):this.typeId===da.BUTTON&&f.push({typeId:da.BUTTON,filter:{parentId:this.parentId,filterFunction:function(){return"BODY"!==this.getProperty(ea.BUTTON_POSITION).getValue}}}),e=L(f)):(c={parentId:this.parentId,properties:[]},this.typeId===da.PAGE_COMPUTATION||this.typeId===da.APP_COMPUTATION?d=ea.COMPUTATION_POINT:this.typeId===da.PAGE_PROCESS||this.typeId===da.APP_PROCESS?d=ea.PROCESS_POINT:this.typeId===da.BRANCH?d=ea.BRANCH_POINT:this.typeId===da.DA_ACTION&&(d=ea.FIRE_WHEN_EVENT_RESULT_IS),d&&c.properties.push({id:d,value:this._properties[d]._value}),e=K(this.typeId,c)),!b)for(var g=0;g<e.length;g++)if(e[g].id===this.id){e.splice(g,1);break}return e},I.prototype.getParent=function(){return this.parentId?K(pa[this.typeId].parentId,{id:this.parentId},!1)[0]:g},I.prototype.getChilds=function(b,c,d){var e=a.extend(!0,{},c);return e.parentId=this.id,K(b,e,d)},I.prototype.getChildrenUntil=function(b,c,d){function e(a){if(pa[a].parentId===g)throw"Component Type Id "+a+" is not a child type of component type id "+h.typeId;return pa[a].parentId===h.typeId?a:e(pa[a].parentId)}var f,h=this,i=a.extend(!0,{},c),j=[];if(i.parentId=h.id,pa[b].parentId===h.typeId)return K(b,i,d);f=K(e(b),i,d);for(var k=0;k<f.length;k++)j=j.concat(f[k].getChildrenUntil(b,i,d));return j},I.prototype.getDisplayTitle=function(){return pa[this.typeId].displayPropertyId?k("POSTFIX.GLOBAL_PAGE",this.getProperty(pa[this.typeId].displayPropertyId).getDisplayValue(),this.isOnGlobalPage()):""},I.prototype.setDisplayTitle=function(a){return this.getProperty(pa[this.typeId].displayPropertyId).setValue(a)},I.prototype._copyToGlobal=function(){var a=this,b=ya[this.typeId][this.id];l(a,function(c,d){"_properties"===c?(b._properties={},l(a._properties,function(a,c){b._properties[a]=new H({component:b,propertyId:c})})):b[c]=a[c]})};var Da={CREATE:"create",DELETE:"delete",CHANGE:"change"},Ea=null,Fa=function(){var b={_forEach:function(a){for(var b in this.components)if(this.components.hasOwnProperty(b))for(var c in this.components[b])this.components[b].hasOwnProperty(c)&&a.call(this.components[b][c],b,c)},_restore:function(a,b,c,d,e){var f=null;return ya[a].hasOwnProperty(b)&&(f=new I({component:ya[a][b],isDetached:!0})),c===Da.CREATE?d._status!==ia.CREATED&&ya[a].hasOwnProperty(b)?ya[a][b]._status=d._status:ya[a][b]=new I({component:d,isDetached:!0}):c===Da.DELETE?f._status===ia.CREATED?delete ya[a][b]:ya[a][b]._status=ia.DELETED:d._copyToGlobal(),T(f,ya[a][b]||null,e)},_undo:function(){var a=this,b=[];return this._forEach(function(c,d){var e;switch(this.operation){case Da.CREATE:e=Da.DELETE;break;case Da.DELETE:e=Da.CREATE;break;case Da.CHANGE:e=Da.CHANGE}b.push(a._restore(c,d,e,this.oldComponent,"undo"))}),b},execute:function(){var a=[];Q(),this._forEach(function(b,c){this.operation!==Da.DELETE&&(this.newComponent=new I({component:ya[b][c],isDetached:!0})),a.push(T(this.oldComponent,this.newComponent))}),U(a),Ea=null},undo:function(){R(),U(this._undo())},redo:function(){var a=this,b=[];R(),this._forEach(function(c,d){b.push(a._restore(c,d,this.operation,this.newComponent,"redo"))}),U(b)},cancel:function(){Q(),this._undo(),Ea=null},label:function(){return this._label}};return{start:function(a,c){var d;if(Ca)throw"Page is read only!";return R(),d=Object.create(b),d._label=c||"",d.widget=a,d.components={},Ea=d,d},message:function(b){var c,d,e,f=".MULTIPLE",g=a.extend({action:"",component:null,property:null,count:1},b),h="TRANSACTION."+g.action;switch(g.action){case la.CHANGE:c=1===g.count?g.component.getDisplayTitle():j("MULTIPLE_COMPONENTS"),e=j(h,c,g.property.getMetaData().prompt);break;case la.CREATE:1===g.count?(d="string"==typeof g.component?g.component:g.component.typeId,c=pa[d].title.singular):c=j("MULTIPLE_COMPONENTS"),e=j(h,c);break;default:1===g.count?c=g.component.getDisplayTitle():(h+=f,c=g.count),e=j(h,c)}return e}}}();return{COMP_TYPE:da,PROP:ea,SOURCE_LOCATION_PROPS:fa,PROP_TYPE:ka,EVENT:ga,CALLBACK_ACTION:ha,MESSAGE_ACTION:la,Component:I,getComponents:K,getComponentsAdvanced:L,fullTextSearch:M,displayTitleSearch:N,getItemsLov:O,getPagesLov:P,transaction:Fa,hasChanged:V,saveChanges:W,getPageLockState:aa,lockPage:$,unlockPage:_,getTemplateOptions:x,getTheme:t,getRegionTemplate:v,enquoteIdentifier:o,setComponentData:ca,initModelConfig:function(b,c,e){function f(b){b=a.extend(!0,{displayGroups:{},properties:{},componentTypes:{},plugins:{},pluginCategories:{},events:{browser:[],apex:[],component:[],custom:[],lookupMap:{}},text:{},formatMasks:{numbers:[],dates:[]}},b),na=b.displayGroups,oa=b.properties,pa=b.componentTypes,qa=b.pluginCategories,ra=b.events,sa=b.formatMasks,p(b.plugins,"%0")}function g(a){ba(a.componentTypes)}function h(b){a.extend(!0,{plugins:{}},b),ta=b,ba(ta.componentTypes);for(var c in ta.userInterfaces)ta.userInterfaces.hasOwnProperty(c)&&(ta.userInterfaces[c].id=c,m(ta.userInterfaces[c],{globalPageId:""}));p(b.plugins,d.getMessage("MODEL.POSTFIX.PLUGIN"));for(var c in ta.themes)ta.themes.hasOwnProperty(c)&&(ta.themes[c].templates[da.REGION_TEMPLATE][""]=ta.themes[c].templates[da.REGION_TEMPLATE][0],delete ta.themes[c].templates[da.REGION_TEMPLATE][0],ta.themes[c].templates[da.FIELD_TEMPLATE][""]=ta.themes[c].templates[da.FIELD_TEMPLATE][0],delete ta.themes[c].templates[da.FIELD_TEMPLATE][0],m(ta.themes[c].defaultTemplates,{page:"",dialog:"",region:"",field:"",button:"",report:"",ir:"",list:"",breadcrumb:"",calendar:""}))}f(b),g(c),h(e),q(),r(),a(document).trigger("modelConfigLoaded"),ca(c.components),ca(e.components)},setComponentTypeCallback:function(a,b){pa[a].callback=b},setPluginCallback:function(a,b,c){pa[a].pluginType.plugins[b].callback=c},getPageTemplate:u,getNavListTemplateId:function(){var a=ya[da.PAGE][va],b="";return B()||"L"!==a.getProperty(ea.PAGE_NAVIGATION_TYPE).getValue()||(a.getProperty(ea.NAVIGATION_LIST_TEMPLATE)?b=a.getProperty(ea.NAVIGATION_LIST_TEMPLATE).getValue():wa.navList&&(b=wa.navList.templateId||"")),b},getNavListId:function(){var a=ya[da.PAGE][va],b="";return B()||"L"!==a.getProperty(ea.PAGE_NAVIGATION_TYPE).getValue()||(a.getProperty(ea.NAVIGATION_LIST)?b=a.getProperty(ea.NAVIGATION_LIST).getValue():wa.navList&&(b=wa.navList.listId||"")),b},getNavBarListId:function(){return!B()&&wa.navBar&&"LIST"===wa.navBar.type?wa.navBar.listId||"":""},getTabSetId:function(){var a=ya[da.PAGE][va],b="";return B()||"T"!==a.getProperty(ea.PAGE_NAVIGATION_TYPE).getValue()||(b=a.getProperty(ea.STANDARD_TAB_SET).getValue()),b},getRegionTemplates:function(){return t().templates[da.REGION_TEMPLATE]},getButtonTemplates:function(){return t().templates[da.BUTTON_TEMPLATE]},getThemeIcons:function(){return t().icons||{}},getParsingSchema:function(){return ta.parsingSchema},getPrimaryLanguage:function(){return ta.primaryLanguage},getDisplayGroup:function(a){return na[a]},getComponentType:function(a){return pa[a]},getProperty:function(a){return oa[a]},getPluginProperty:function(a,b,c){var d,e;e=a===da.REGION?da.REGION_PLUGIN_ATTR:a===da.IG_COLUMN||a===da.FACET?da.PAGE_ITEM:a,d=e+"_"+b+"_"+c;for(var f in oa)if(oa.hasOwnProperty(f)&&oa[f].name===d)return oa[f];return g},getLovTitle:function(a,b,c){var d=pa[a].properties[b].nullText||"",e=oa[b];return"STATIC"===e.lovType?e.lovValuesMap.hasOwnProperty(c)&&(d=e.lovValues[e.lovValuesMap[c]].d):"EVENTS"===e.lovType&&ra.lookupMap.hasOwnProperty(c)&&(d=ra.lookupMap[c].d),d},getSourceLocationProperty:function(a){var b,c;for(b=0;b<fa.length;b++)if(c=a.getProperty(fa[b]))return c},getErrorComponents:function(){var a,b={};for(var c in pa)pa.hasOwnProperty(c)&&(a=K(c,{hasErrors:!0}),a.length>0&&(b[c]=a));return b},observer:function(b,c,d,e){Aa.push({widget:b,filter:a.extend({},{properties:[],events:[]},c),callback:d,sendInBulk:e,pendingNotifications:[]})},unobserver:function(a,b,c){for(var d,e,f=0;f<Aa.length;f++)Aa[f].widget===a&&(d=Aa[f].filter,b.hasOwnProperty("component")?b.component instanceof I&&d.component instanceof I?b.component.typeId===d.component.typeId&&b.component.id===d.component.id&&(e=!0):b.component.typeId===d.component.typeId&&(e=!0):e=!0,e&&b.hasOwnProperty("properties")&&(e=d.properties.join(",")===b.properties.join(",")),e&&b.hasOwnProperty("events")&&(e=d.events.join(",")===b.events.join(",")),e&&c&&(e=Aa[f].callback===c),e&&(Aa.splice(f,1),f--))},setCurrentAppId:function(a){ua=a},getCurrentAppId:function(){return ua},setCurrentPageId:function(a){var b=ya[da.PAGE][a]._lock;va=a+"",wa=ta.userInterfaces[ya[da.PAGE][va].getProperty(ea.USER_INTERFACE).getValue()],Ca=!(!Ba.isReadOnly&&(b===!1||b.isLockedByCurrentUser)),J(!0),Z()},getCurrentPageId:function(){return va},getGlobalPageId:function(){return wa.globalPageId},isGlobalPage:B,isPageReadOnly:function(){return Ca},clear:function(){na=g,oa=g,pa=g,qa=g,ra=g,sa=g,ta=g,ya={},za={},ua=g,va=g,wa=g,Ca=!0;for(var a=0;a<Aa.length;a++)Aa[a].filter.component instanceof I&&(Aa.splice(a,1),a--)},init:function(a){Ba=a},getAll:function(){return{displayGroups:na,properties:oa,componentTypes:pa,pluginCategories:qa,sharedComponents:ta,components:ya,baseComponents:za,observers:Aa}}}}(apex.jQuery,apex.util,apex.locale,apex.lang,apex.server,apex.debug);
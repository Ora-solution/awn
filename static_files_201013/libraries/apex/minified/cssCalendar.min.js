!function(a,b,c,d){a.cssCalendar=function(e,f,g,h){function i(a){return!(a.source&&"SQL"===a.apexEventSource)}function j(){return ab+ ++db}function k(a){function b(a){h[a]?h[a]++:h[a]=1}function c(a){return h[a]||0}var e,f=d("div.fc-content-skeleton td["+Da+"="+a+"]"),g=f.index(),h=[],i=[],j=!1;return f.closest("table").find("tbody > tr").each(function(a){var f,h,k,l=c(a),m=-1;apex.debug.trace("Row Number:"+a),j===!1&&d(this).children().each(function(c){var n=d(this).attr("rowspan"),o=d(this).attr("colspan")||1,p=this;for(apex.debug.trace("Row Number:"+c),f=0;f<o;f++)if("none"!==d(p).css("display")){if(m++,apex.debug.trace("Col Number:"+m+" - Offset:"+l),m+l>=g){if(i[a])return!1;if(d(p).find("a.fc-more").length>0&&(apex.debug.trace("found the link."),e=d(p).find("a.fc-more"),j=!0),n>1)for(h=1;h<n;h++)i[a+h]=!0;return!1}if(n>1)for(k=1;k<n;k++)b(a+k)}})}),e}function l(a){return("0000"+a.year()).substr(-4)+("00"+(a.month()+1)).substr(-2)+("00"+a.date()).substr(-2)}function m(a){return l(a)+("00"+a.hour()).substr(-2)+("00"+a.minute()).substr(-2)+("00"+a.second()).substr(-2)}function n(a){var b;return b=null!==a.end&&a.allDay&&!$.endDateExclusive?a.end.clone().subtract(1,ja):a.end}function o(a){var b;if(!$.showTime)for(b=0;b<a.length;b++)a[b].allDay=!0;return a}function p(a){var b;if(!$.endDateExclusive)for(b=0;b<a.length;b++)a[b].end&&(a[b].end=moment(a[b].end,Za+"[T]"+$a).add(a[b].allDay?"1":"0",ja).format(Za+"[T]"+$a));return a}function q(){var a=d(window).width(),b=d(window).height(),c=_.width(),e=_.height(),f=Math.round(c/e*10)/10,g=Math.round(a/b*10)/10,h=f;return g<1&&f>1?h=g:g>1&&f<1&&(h=1),h<1?h=1:h>2.6&&(h=2.6),h}function r(a){return a<=9?"0"+a+":00:00":""+a+":00:00"}function s(a,b){c.plugin($.ajaxIdentifier,{x01:"PREPARE_URL",x02:m(a),x03:m(b),x06:$.createLink},{success:function(a){a.url?apex.navigation.redirect(a.url):apex.debug(a)}})}function t(a){var b;return b=$.minTime?moment(a.format(Za)+"T"+$.minTime+"Z"):moment(a.format(Za)+"T00:00:00Z")}function u(a){var b;return b=$.maxTime?moment(a.format(Za)+"T"+$.maxTime+"Z"):moment(a.format(Za)+"T00:00:00Z").add(1,ja)}function v(a){var b,c,d,e,f,g,h,i;$.minTime?(b=parseInt($.minTime.substr(0,2),10),b=b<0?0:b):b=0,c=aa.find(".fc-time-grid-container"),d=aa.find(".fc-time-grid-container .fc-axis:odd:eq("+(a-b)+")"),d.length&&(e=d.position().top,f=2*d.height(),g=c.scrollTop(),h=c.height(),i=e+f-(g+h),e<g&&c.animate({scrollTop:e},10),e+f>g+h&&c.animate({scrollTop:g+Math.max(f,i)},10))}function w(a){var b=k(a);b&&b.click()}function x(){d(aa.find("span.fc-close.ui-icon.ui-icon-closethick")).click()}function y(){apex.jQuery("."+xa+"."+wa).css("background-color",""),apex.jQuery("."+xa+"."+wa).removeClass(wa)}function z(a){var b,c,d=a.start.clone().startOf(ka),e=a.end.clone().subtract(1,"second").startOf(ka);for(b=d;b.isSameOrBefore(e);)c=b.format(Za),apex.jQuery("."+xa+"["+Da+"="+c+"]").addClass(wa),apex.jQuery("."+xa+"["+Da+"="+c+"]").css("background-color",Fa),b.add(1,ka)}function A(){var a=aa.fullCalendar(Sa),b=aa.fullCalendar(Va,eb.SELECTORID);if(a.name===fa)y();else if(b.length>0)try{aa.fullCalendar(Wa,eb.SELECTORID)}catch(c){}}function B(a){var b,c=aa.fullCalendar(Sa);if(eb.selectorEvent)if(c.name===fa)y(),z(eb.selectorEvent);else if(b=aa.fullCalendar(Va,eb.SELECTORID)[0],a&&b)b.start=bb.moment(eb.selectorEvent.start.format(Za+"[T]"+$a)),b.end=bb.moment(eb.selectorEvent.end.format(Za+"[T]"+$a)),aa.fullCalendar(Xa,b);else{try{aa.fullCalendar(Wa,eb.SELECTORID)}catch(d){}b={id:eb.selectorEvent.id,title:eb.selectorEvent.title,allDay:eb.selectorEvent.allDay,editable:eb.selectorEvent.editable,durationEditable:eb.selectorEvent.durationEditable,className:eb.selectorEvent.className,start:bb.moment(eb.selectorEvent.start.format(Za+"[T]"+$a)),end:bb.moment(eb.selectorEvent.end.format(Za+"[T]"+$a)),overlap:eb.selectorEvent.overlap},aa.fullCalendar(Ya,b)}}function C(){eb.browseMode=ta,eb.activeDayEvent=!1,x(),d("."+ya,aa).removeClass(va),d("div."+Ba,aa).focus(),B()}function D(a,c){var e;e=d("."+ya+"[data-id='"+b.escapeHTML(c)+"']",aa),e.addClass(va),e&&(a.name===eb.MONTH_VIEW?1===e.length?e.focus():e.each(function(a,b){d(b).closest("."+za)&&d(b).focus()}):e.first().focus())}function E(a){var b,c=aa.fullCalendar(Va);for(eb.dayEvents=[],b=0;b<c.length;b++)c[b].start.isAfter(a.end.clone().subtract(1,oa))||c[b].end&&c[b].end.isBefore(a.start)||!c[b].end&&c[b].start.isBefore(a.start)||c[b].id===eb.SELECTORID||eb.dayEvents.push(c[b]);return eb.dayEvents.sort(function(a,b){function c(a){var b;return b=a.end?m(a.start)+(9999999999-(a.end-a.start)/6e4).toString()+a.title:m(a.start)+"9999999999"+a.title}var d,e,f;return d=c(a),e=c(b),f=d<e?-1:d>e?1:0}),eb.dayEvents.length>0&&(A(),eb.browseMode=sa,eb.activeDayEvent=0,a.name===fa&&w(eb.dayEvents[eb.activeDayEvent].start.format(Za)),D(a,eb.dayEvents[eb.activeDayEvent].id)),eb.dayEvents.length>0}function F(a){var b,c;a.name!==eb.LIST_VIEW&&(a.name===eb.MONTH_VIEW?(b=a.start.clone().add(15,ja).startOf(fa),a.validRange&&a.validRange.start&&b.isBefore(a.validRange.start)&&(b=bb.moment(a.validRange.start)),c=b.clone().add(1,ja)):(b=a.start.clone().hour($.startingHour),c=a.start.clone().hour($.startingHour).add(60,na)),eb.selectorEvent={id:eb.SELECTORID,title:"",allDay:a.name===eb.MONTH_VIEW,editable:!1,durationEditable:!1,className:eb.cssClass,start:b,end:c,overlap:!0},a.options.selectable=!1,eb.keyboardActive=!0,E(a)||C())}function G(){eb.browseMode===sa&&C(),A(),eb.keyboardActive=!1,aa.fullCalendar(Sa).options.selectable=!0}function H(){aa.fullCalendar(Ra),eb.keyboardActive===!0&&eb.browseMode===sa&&G()}function I(a,b,c){var d;aa.fullCalendar(Sa).name===fa?(b.subtract(1,na),d=l):d=m,$.createLink&&""!==$.createLink?s(a,b):apex.event.trigger(_,Ha,{newStartDate:d(a),newEndDate:d(b)}),aa.fullCalendar(Ta),aa.fullCalendar(Qa)}function J(a,b,c){var e;return!(0!==aa.fullCalendar(Sa).name.indexOf(ma)||!d(b.target).parents().hasClass("fc-list-item-description")||"A"!==d(b.target).prop("tagName"))||(a.id===eb.SELECTORID?I(eb.selectorEvent.start.clone(),eb.selectorEvent.end.clone(),ca):a.url?apex.navigation.redirect(a.url):(e=d.extend(!0,{},a),e.end=null!==e.end?n(e):null,apex.event.trigger(_,Ja,{event:e})),!1)}function K(a,b,c,d){var e,f;return!a.options.validRange||(1===b&&!a.options.validRange.end||b===-1&&!a.options.validRange.start||(a.options.validRange.start&&(e=a.name===fa?bb.moment(a.options.validRange.start).startOf(ka):bb.moment(a.options.validRange.start)),a.options.validRange.end&&(f=a.name===fa?bb.moment(a.options.validRange.end).endOf(ka):bb.moment(a.options.validRange.end)),1===b?!a.options.validRange.end||!!eb.selectorEvent.end.clone().add(c,d).isSameOrBefore(f):!a.options.validRange.start||!!eb.selectorEvent.start.clone().subtract(c,d).isSameOrAfter(e)))}function L(a,b,c,d){var e,f,g=!1,h=!1;if(K(a,b,c,d)){switch(a.name){case eb.MONTH_VIEW:if(h=!0,d===ja){for(e=eb.selectorEvent.start.clone().startOf(fa),f=eb.selectorEvent.start.clone().endOf(fa);!$.weekEnds&&e.format("E")>5;)e.add(1,d);for(;!$.weekEnds&&f.format("E")>5;)f.subtract(1,d);(1===b&&!eb.selectorEvent.start.clone().add(c,d).isBefore(f)||b===-1&&eb.selectorEvent.start.clone().subtract(c,d).isBefore(e))&&(g=!0)}break;case eb.WEEK_VIEW:d===ja?(h=!0,(1===b&&!eb.selectorEvent.start.clone().add(c,d).isBefore(a.end)||b===-1&&eb.selectorEvent.start.clone().subtract(c,d).isBefore(a.start))&&(g=!0)):(1===b&&!eb.selectorEvent.end.clone().add(c,d).isAfter(u(eb.selectorEvent.end.clone().subtract(1,oa)))||b===-1&&!eb.selectorEvent.start.clone().subtract(c,d).isBefore(t(eb.selectorEvent.start)))&&(h=!0);break;case eb.DAY_VIEW:d===ja?(g=!0,h=!0):(1===b&&!eb.selectorEvent.end.clone().add(c,d).isAfter(u(a.start))||b===-1&&!eb.selectorEvent.start.clone().subtract(c,d).isBefore(t(a.start)))&&(h=!0)}if(h){if(eb.selectorEvent.start.add(c*b,d),eb.selectorEvent.end.add(c*b,d),d===ja)for(;!$.weekEnds&&eb.selectorEvent.start.format("E")>5;)eb.selectorEvent.start.add(b,d),eb.selectorEvent.end.add(b,d);g?(eb.viewChangeByKey=!0,aa.fullCalendar(Na,eb.selectorEvent.start),B(!1),a.name!==eb.WEEK_VIEW&&a.name!==eb.DAY_VIEW||v(eb.selectorEvent.start.hour())):B(!0),a.name!==eb.WEEK_VIEW&&a.name!==eb.DAY_VIEW||v(eb.selectorEvent.start.hour())}}}function M(a,b,c,d){var e=!1;if(b===-1)eb.selectorEvent.end.clone().subtract(c,d).isAfter(eb.selectorEvent.start)&&(e=!0);else switch(a.name){case eb.MONTH_VIEW:d===ja&&eb.selectorEvent.end.clone().add(c,d).subtract(1,na).isBefore(a.end)&&(e=!0);break;case eb.WEEK_VIEW:d===ja?eb.selectorEvent.end.clone().add(c,d).subtract(1,oa).isBefore(a.end)&&(e=!0):eb.selectorEvent.end.clone().add(c,d).isAfter(u(eb.selectorEvent.end.clone().subtract(1,oa)))||(e=!0);break;case eb.DAY_VIEW:d===na&&(eb.selectorEvent.end.clone().add(30,na).isAfter(u(a.start))||(e=!0))}if(e){if(eb.selectorEvent.end.add(c*b,d),d===ja)for(;!$.weekEnds&&eb.selectorEvent.end.clone().subtract(1,oa).format("E")>5;)eb.selectorEvent.end.add(b,ja);B(!0)}a.name!==eb.DAY_VIEW&&a.name!==eb.WEEK_VIEW||v(eb.selectorEvent.end.clone().subtract(1,na).hour())}function N(a,b){d("."+ya,aa).removeClass(va),b===-1?eb.activeDayEvent>0?eb.activeDayEvent--:eb.activeDayEvent=eb.dayEvents.length-1:eb.activeDayEvent<eb.dayEvents.length-1?eb.activeDayEvent++:eb.activeDayEvent=0,a.name===eb.MONTH_VIEW&&x(),a.name===eb.MONTH_VIEW&&w(eb.dayEvents[eb.activeDayEvent].start.isBefore(a.start)?a.start.format(Za):eb.dayEvents[eb.activeDayEvent].start.format(Za)),D(a,eb.dayEvents[eb.activeDayEvent].id)}function O(a,b){switch(b.which){case 27:eb.browseMode===ta?E(a)||G():G(),b.preventDefault();break;case 78:b.shiftKey&&eb.browseMode===sa&&C(),b.preventDefault();break;case 13:case 32:eb.browseMode===ta?I(eb.selectorEvent.start.clone(),eb.selectorEvent.end.clone(),ca):J(eb.dayEvents[eb.activeDayEvent]),b.preventDefault();break;case 38:eb.browseMode===sa?N(a,-1):a.name===eb.WEEK_VIEW||a.name===eb.DAY_VIEW?b.shiftKey?M(a,-1,30,na):L(a,-1,30,na):b.shiftKey?M(a,-1,7,ja):L(a,-1,7,ja),b.preventDefault();break;case 9:G();break;case 40:eb.browseMode===sa?N(a,1):a.name===eb.WEEK_VIEW||a.name===eb.DAY_VIEW?b.shiftKey?M(a,1,30,na):L(a,1,30,na):b.shiftKey?M(a,1,7,ja):L(a,1,7,ja),b.preventDefault();break;case eb.KEY_NEXT:eb.browseMode===ta&&(b.shiftKey?M(a,1,1,ja):L(a,1,1,ja)),b.preventDefault();break;case eb.KEY_PREV:eb.browseMode===ta&&(b.shiftKey?M(a,-1,1,ja):L(a,-1,1,ja)),b.preventDefault();break;case 33:if(eb.browseMode===ta)switch(a.name){case eb.WEEK_VIEW:L(a,-1,7,ja);break;case eb.DAY_VIEW:L(a,-1,1,ja);break;case eb.MONTH_VIEW:L(a,-1,a.start.clone().subtract(15,ja).endOf(fa).date(),ja)}b.preventDefault();break;case 34:if(eb.browseMode===ta)switch(a.name){case eb.WEEK_VIEW:L(a,1,7,ja);break;case eb.DAY_VIEW:L(a,1,1,ja);break;case eb.MONTH_VIEW:L(a,1,a.start.clone().add(15,ja).endOf(fa).date(),ja)}b.preventDefault()}}function P(a,b){var c,e,f;f="24"===$.timeFormatType?"ll HH:mm":"12"===$.timeFormatType?"ll hh:mm A":"lll",b.id!==eb.SELECTORID&&b.title&&b.start&&(c=b.end?b.allDay?b.end.clone().subtract(1,ja).isBefore(b.start)?d.fullCalendar.formatRange(b.start,b.end.clone(),"ll"):d.fullCalendar.formatRange(b.start,n(b),"ll"):d.fullCalendar.formatRange(b.start,b.end,f):b.allDay?b.start.format("ll"):b.start.format(f),e='<span class="tt-title">'+(i(b)?apex.util.escapeHTML(b.title):b.title)+"</span><br>",e=e+c+"<br><br>",b.description&&(e+=i(b)?apex.util.escapeHTML(b.description):b.description),d(a).tooltip({show:apex.tooltipManager.defaultShowOption(),items:"a."+ya,position:{my:"left top+15",at:"left center",collision:"flipfit"},content:e,classes:{"ui-tooltip":"ui-widget-content ui-corner-all ui-widget ui-tooltip"}}))}function Q(a,b){a.id&&""!==a.id||(a.id=j(),aa.fullCalendar(Xa,a)),b.attr("data-id",a.id),a.source&&"SQL"===a.apexEventSource&&(b.find("span.fc-title").html(b.find("span.fc-title").text()),b.find("div.fc-title").html(b.find("div.fc-title").text()),b.find("td.fc-list-item-title>a").html(b.find("td.fc-list-item-title>a").text())),0===aa.fullCalendar(Sa).name.indexOf(ma)&&(b.find("td.fc-list-item-title").attr("tabindex","0"),b.find("td.fc-list-item-title").wrapInner("<div></div>"),b.find("td.fc-list-item-title a:not([href])").contents().unwrap(),a.description&&b.find("td.fc-list-item-title").append('<div class="fc-list-item-description">'+a.description+"</div>")),$.mouseHoverOver&&P(b,a)}function R(a){var b=d(window).width();a.name===fa||a.name===ha?d(window).width()<700&&(cb=a.name,aa.fullCalendar(Oa,a.name===fa?pa:qa),aa.fullCalendar(Pa,"aspectRatio",q())):0===a.name.indexOf(ma)&&b>700&&cb&&(aa.fullCalendar(Oa,cb),aa.fullCalendar(Pa,"aspectRatio",q()),cb=!1)}function S(a,b,d){"SQL"===a.apexEventSource?c.plugin($.ajaxIdentifier,{x01:"CHANGE",x02:m(a.start),x03:null!==a.end?m(n(a)):null,x04:a.id,x05:a.checksum,pageItems:$.pageItems},{refreshObject:_,success:function(a){apex.event.trigger(_,La,a)},error:function(a,b,c){apex.event.trigger(_,Ma,c),d()}}):d()}function T(a,b,c){apex.event.gCancelFlag?c():S(a,b,c)}function U(a){apex.event.trigger(_,Ka,a)}function V(a,b,c){S(a,b,c)}function W(a,b,e,f){c.plugin($.ajaxIdentifier,{x01:"GET",x02:m(a),x03:m(b),pageItems:$.pageItems},{refreshObject:_,success:function(a){var b,c,e;for(b=p(a),e=0;e<b.length;e++)b[e].apexEventSource="SQL";d.isFunction($.dataFilter)&&(c=$.dataFilter(b),c&&(b=c)),f(b)}})}function X(a,b,c,e){$.apexWebLink?d.ajax({url:$.apexWebLink,dataType:"json",jsonp:!1,success:function(a){var b,c;b=p(o(a.items)),d.isFunction($.dataFilter)&&(c=$.dataFilter(b),c&&(b=c)),e(b)}}):e({})}function Y(a){var b=aa.fullCalendar(Sa);if(eb.keyboardActive)switch(b.name){case fa:case ha:case ia:O(b,a)}else 0===b.name.indexOf(ma)||!d("."+Ba,aa).is(":focus")&&!d("."+za,aa).is(":focus")||37!==a.which&&39!==a.which&&40!==a.which&&38!==a.which&&13!==a.which&&34!==a.which&&33!==a.which&&32!==a.which||(a.preventDefault(),F(b)),apex.clipboard.isSupported&&d("."+Ba,aa).is(":focus")&&((a.metaKey||a.ctrlKey)&&67===a.which||a.shiftKey&&121===a.which)&&(apex.clipboard.copy(),a.preventDefault())}function Z(){var b,c,i,j=bb.moment();if(_=d("#"+e,apex.gPageContext$),aa=d("#"+e+"_calendar",apex.gPageContext$),0===_.length&&(_=aa.wrap(apex.util.htmlBuilder().markup("<div").attr("id",e).markup("></div>").toString())),ba=d.fullCalendar.defaults,$=d.extend({enableDragAndDrop:!1,pageItems:""},f),$=d.extend($,ba),$.timeFormat={month:"",agenda:""},"24"===$.timeFormatType?($.slotLabelFormat="H:mm",$.timeFormat="H:mm",$.views={month:{timeFormat:"HH",columnFormat:"dddd"},agenda:{timeFormat:"H:mm",columnFormat:"ll"},list:{displayEventTime:!0,displayEventEnd:!0,listDayFormat:"dddd",listDayAltFormat:"LL",timeFormat:"H:mm",eventTimeFormat:"H:mm"}}):"12"===$.timeFormatType?($.slotLabelFormat="h(:mm)a",$.timeFormat="h:mm a",$.views={month:{timeFormat:"ha",columnFormat:"dddd"},agenda:{timeFormat:"h:mm a",columnFormat:"ll"},list:{displayEventTime:!0,displayEventEnd:!0,listDayFormat:"dddd",listDayAltFormat:"LL",eventTimeFormat:"h:mm a",timeFormat:"h:mm a"}}):($.slotLabelFormat="",$.timeFormat="",$.views={month:{timeFormat:"",columnFormat:""},agenda:{timeFormat:"",columnFormat:""},list:{displayEventTime:!0,displayEventEnd:!0,timeFormat:"",listDayFormat:"dddd",listDayAltFormat:"LL",eventTimeFormat:""}}),$.listDayFormat="dddd",$.listDayAltFormat="LL",ca=!(!$.apexWebLink&&!$.googleId),$.allDayText="all-day",$.enableDragAndDrop?$.enableResizing?($.eventStartEditable=!0,$.eventDurationEditable=!0,$.editable=!0):($.editable=!0,$.eventStartEditable=!0,$.eventDurationEditable=!1):($.eventStartEditable=!1,$.eventDurationEditable=!1,$.editable=!1),$.keyBoardSupport=!0,da=apex.storage.getScopedSessionStorage({prefix:"ORA_WWV_apex.Calendar",useAppId:!0,usePageId:!0,regionId:e}),ea=da.getItem(_a))try{ea=JSON.parse(ea),null!==ea&&moment(ea.viewStartDate).isValid()&&(j=ea.viewStartDate)}catch(k){j=bb.moment(),ea=null}$.isRTL&&(eb.KEY_PREV=39,eb.KEY_NEXT=37),$.hasListView&&(i=R),c={customButtons:{apexListButton:{text:bb.locales[g]&&bb.locales[g].buttonText&&bb.locales[g].buttonText[ma]?bb.locales[g].buttonText[ma]:ma,click:function(){$.viewRange&&$.viewRange!==fa?$.viewRange===ha?aa.fullCalendar(Oa,qa):$.viewRange===ia&&aa.fullCalendar(Oa,ra):aa.fullCalendar(Oa,pa)}}},theme:!0,lang:g,header:JSON.parse($.calendarHeader),monthNames:$.monthNames,monthNamesShort:apex.locale.getAbbrevMonthNames(),dayNames:$.dayNames,dayNamesShort:$.abbrevDayNames,buttonText:$.buttonText,timeFormat:$.timeFormat,views:$.views,displayEventTime:!1,columnFormat:$.columnFormat,defaultView:$.defaultView,titleFormat:$.titleFormat,slotLabelFormat:$.slotLabelFormat,firstDay:$.firstDayOfWeek,isRTL:$.isRTL,editable:$.editable,eventStartEditable:$.eventStartEditable,eventDurationEditable:$.eventDurationEditable,nextDayThreshold:"00:00:00",weekends:$.weekEnds,eventLimit:parseInt($.eventLimit,10)<2?2:parseInt($.eventLimit,10),defaultTimedEventDuration:"01:00:00",aspectRatio:q(),scrollTime:r($.startingHour),minTime:$.minTime||"00:00:00",maxTime:$.maxTime||"23:59:59",allDaySlot:ca,allDayDefault:ca,googleCalendarApiKey:$.googleApiKey,defaultDate:j,eventSources:[{events:W,editable:$.editable,startEditable:$.eventStartEditable,durationEditable:$.eventDurationEditable},{googleCalendarId:$.googleId,className:"fc-apex-events-gcal"},{events:X,editable:!1,className:"fc-apex-events-webservice"}],eventResize:V,eventDrop:T,eventDragStart:U,eventClick:J,windowResize:i,select:I,slotEventOverlap:!1,defaultEventMinutes:60,selectable:!0,selectHelper:!0,fixedWeekCount:!1,eventRender:Q,viewRender:function(a,b){da&&da.getItem(_a)&&JSON.parse(da.getItem(_a)).viewType===a.name||G(),$.viewRange||(da&&da.getItem(_a)?$.viewRange=JSON.parse(da.getItem(_a)).viewType:$.viewRange=fa),a.name===ma&&($.viewRange&&$.viewRange!==fa?$.viewRange===ha?aa.fullCalendar(Oa,qa):$.viewRange===ia&&aa.fullCalendar(Oa,ra):aa.fullCalendar(Oa,pa)),0===a.name.indexOf(ma)?(apex.jQuery("."+Aa).addClass("fc-state-disabled"),apex.jQuery("."+Aa).prop("disabled",!0)):(apex.jQuery("."+Aa).removeClass("fc-state-disabled"),apex.jQuery("."+Aa).prop("disabled",!1));try{aa.fullCalendar(Wa,eb.SELECTORID)}catch(c){}$.viewRange=a.name,eb.viewChangeByKey?eb.viewChangeByKey=!1:G(),0!==a.name.indexOf(ma)&&(cb=!1),da.setItem(_a,JSON.stringify({viewType:a.name,viewStartDate:a.intervalStart,viewEndDate:a.intervalEnd,viewIntervalUnit:a.intervalUnit})),apex.event.trigger(_,Ia,{viewType:a.name,startDate:m(a.intervalStart),endDate:m(a.intervalEnd.clone().subtract(1,"second"))}),a.name!==fa&&a.name!==ha&&a.name!==ia||(d("."+Ba+" > table",aa).attr("role","presentation"),d("."+Ba+" > table > tbody.fc-body table",aa).attr("role","presentation"),d("."+Ba+" > table > thead.fc-head table",aa).attr("role","presentation"),d("."+Ba+" > table > thead.fc-head table > thead > tr > th ",aa).attr("scope","col")),$.keyBoardSupport&&(d("."+Ba+",."+za,aa).off("keydown",Y),d("."+Ba+",."+za,aa).on("keydown",Y))},eventAfterAllRender:function(a){d(".fc-prev-button",aa).attr("title",apex.lang.getMessage("APEX.GV.PREV_PAGE")),d(".fc-prev-button",aa).attr("aria-label",apex.lang.getMessage("APEX.GV.PREV_PAGE")),d(".fc-next-button",aa).attr("title",apex.lang.getMessage("APEX.GV.NEXT_PAGE")),d(".fc-next-button",aa).attr("aria-label",apex.lang.getMessage("APEX.GV.NEXT_PAGE")),d("div."+Ca+" div."+Ba,aa).attr("tabindex","0"),0!==a.name.indexOf(ma)&&d("div."+Ca+" div."+Ba+" ."+ya,aa).attr("tabindex","-1"),$.isRTL?d("button."+Aa,aa).css("margin-right",Ea):d("button."+Aa,aa).css("margin-left",Ea),0===a.name.indexOf(ma)&&(d("table.fc-list-table",aa).attr("role","presentation"),d("tr.fc-list-heading > td").attr("role","heading"),d("tr.fc-list-heading > td").attr("aria-level","3")),apex.clipboard.isSupported&&apex.clipboard.addHandler(d("."+Ba,aa),function(b){var c,d,e,f="";for(c=aa.fullCalendar(Va),e=a.name===fa||a.name===ga?"LL":"LLL",f=f+apex.lang.getMessage("APEX.CALENDAR.EVENT_START")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_END")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_TITLE")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_DESCRIPTION")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_ID")+"\r\n",d=0;d<c.length;d++)!c[d].start.isSameOrAfter(a.start)||c[d].end&&!c[d].end.isSameOrBefore(a.end)||(f=f+c[d].start.format(e)+"\t",c[d].end&&(f+=c[d].end.format(e)),f=f+"\t"+apex.util.stripHTML(c[d].title)+"\t",c[d].description&&(f+=apex.util.stripHTML(c[d].description)),c[d].id&&(f+="\t",f+=0===c[d].id.indexOf(ab)?c[d].id.substr(ab.length):apex.util.stripHTML(c[d].id)),f+="\r\n");return b.setData("text",f),b}),_.trigger("afterAllRender")}},c.defaultView===la&&(c.defaultView=ha),c.defaultView===ka&&(c.defaultView=ia),d.isFunction(h)&&(b=h(c),b&&(b.dataFilter&&d.isFunction(b.dataFilter)&&($.dataFilter=b.dataFilter),b.endDateExclusive&&($.endDateExclusive=!0),b.disableKeyboardSupport&&($.keyBoardSupport=!1),b.listViewAlwaysShowMonth&&($.listViewAlwaysShowMonth=b.listViewAlwaysShowMonth),c=b)),aa.fullCalendar(c),$.keyBoardSupport&&(d("."+Ba+",."+za,aa).off("keydown",Y),d("."+Ba+",."+za,aa).on("keydown",Y)),a.util.onVisibilityChange(_[0],function(a){a&&(aa.fullCalendar(Ua),aa.fullCalendar(Qa))}),_.on("apexrefresh",function(){H()}),aa.on("apexafterclosedialog",function(){H()}),apex.region.create(e,{type:"CssCalendar",widgetName:"fullCalendar",refresh:function(){H()},focus:function(){aa.find("div."+Ba).focus()},widget:function(){return aa}}),null!==ea&&moment(ea.viewStartDate).isValid()&&(ea.viewType===fa||ea.viewType===ha&&$.showTime||ea.viewType===ia&&$.showTime||0===ea.viewType.indexOf(ma))&&aa.fullCalendar(Oa,ea.viewType)}var $,_,aa,ba,ca,da,ea,fa="month",ga="listMonth",ha="agendaWeek",ia="agendaDay",ja="days",ka="day",la="week",ma="list",na="minutes",oa="minute",pa="listMonth",qa="listWeek",ra="listDay",sa="EVENTS",ta="CALENDAR",ua="fc-",va=ua+"helper",wa=ua+"highlight",xa=ua+"day",ya=ua+"event",za=ua+"popover",Aa=ua+"apexListButton-button",Ba=ua+"view",Ca=Ba+"-container",Da="data-date",Ea="10px",Fa="#bce8f1",Ga="apexcalendar",Ha=Ga+"dateselect",Ia=Ga+"viewchange",Ja=Ga+"eventselect",Ka=Ga+"dragdropstart",La=Ga+"dragdropfinish",Ma=Ga+"dragdroperror",Na="gotoDate",Oa="changeView",Pa="option",Qa="rerenderEvents",Ra="refetchEvents",Sa="getView",Ta="unselect",Ua="render",Va="clientEvents",Wa="removeEvents",Xa="updateEvent",Ya="renderEvent",Za="YYYY-MM-DD",$a="HH:mm:ss",_a="lastview",ab="apex.widget.cssCalendar.Id_",bb=d.fullCalendar,cb=!1,db=0,eb={keyboardActive:!1,focusEvents:!1,selectorEvent:!1,browseMode:ta,dayEvents:[],activeDayEvent:!1,SELECTORID:"com_oracle_apex_selectorevent$",cssClass:va,KEY_PREV:37,KEY_NEXT:39,MONTH_VIEW:fa,WEEK_VIEW:ha,DAY_VIEW:ia,LIST_VIEW:pa,viewChangeByKey:!1};Z(),a.cssCalendar.download=function(a){var b,d,e;b=aa.fullCalendar(Sa),d=c.pluginUrl($.ajaxIdentifier,{x01:"DOWNLOAD",x02:m(b.start),x03:m(b.end),x06:b.name,x07:b.title,x10:a,pageItems:$.pageItems}),e=window.open(d),e.focus()}}}(apex.widget,apex.util,apex.server,apex.jQuery);